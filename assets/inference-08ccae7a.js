(function(){"use strict";var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ort_min={exports:{}};/*!
* ONNX Runtime Web v1.16.3
* Copyright (c) Microsoft Corporation. All rights reserved.
* Licensed under the MIT License.
*/(function(module,exports){(function(N,c){module.exports=c()})(self,()=>(()=>{var __webpack_modules__={5716:(N,c,w)=>{c.R=void 0;const b=w(6027),d=w(1723);c.R=new class{async init(){}async createSessionHandler(h,p){const u=new b.Session(p);return await u.loadModel(h),new d.OnnxjsSessionHandler(u)}}},2818:(N,c,w)=>{c.c8=c.rX=void 0;const b=w(2235),d=w(5381),h=w(9544),p=w(6640);c.rX=()=>{if((typeof b.env.wasm.initTimeout!="number"||b.env.wasm.initTimeout<0)&&(b.env.wasm.initTimeout=0),typeof b.env.wasm.simd!="boolean"&&(b.env.wasm.simd=!0),typeof b.env.wasm.proxy!="boolean"&&(b.env.wasm.proxy=!1),typeof b.env.wasm.numThreads!="number"||!Number.isInteger(b.env.wasm.numThreads)||b.env.wasm.numThreads<=0){const u=typeof navigator>"u"?(0,d.cpus)().length:navigator.hardwareConcurrency;b.env.wasm.numThreads=Math.min(4,Math.ceil((u||1)/2))}},c.c8=new class{async init(){(0,c.rX)(),await(0,h.initializeWebAssemblyInstance)()}async createSessionHandler(u,l){const a=new p.OnnxruntimeWebAssemblySessionHandler;return await a.loadModel(u,l),Promise.resolve(a)}}},1057:function(N,c,w){var b=this&&this.__createBinding||(Object.create?function(u,l,a,o){o===void 0&&(o=a);var n=Object.getOwnPropertyDescriptor(l,a);n&&!("get"in n?!l.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return l[a]}}),Object.defineProperty(u,o,n)}:function(u,l,a,o){o===void 0&&(o=a),u[o]=l[a]}),d=this&&this.__exportStar||function(u,l){for(var a in u)a==="default"||Object.prototype.hasOwnProperty.call(l,a)||b(l,u,a)};Object.defineProperty(c,"__esModule",{value:!0}),d(w(2235),c);const h=w(2235),p=w(8408);{const u=w(5716).R;(0,h.registerBackend)("webgl",u,-10)}{const u=w(2818).c8;(0,h.registerBackend)("cpu",u,10),(0,h.registerBackend)("wasm",u,10),(0,h.registerBackend)("xnnpack",u,9),(0,h.registerBackend)("webnn",u,9)}h.env.versions.web=p.version},4910:(N,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.createAttributeWithCacheKey=void 0;class w{constructor(d){Object.assign(this,d)}get cacheKey(){return this._cacheKey||(this._cacheKey=Object.getOwnPropertyNames(this).sort().map(d=>`${this[d]}`).join(";")),this._cacheKey}}c.createAttributeWithCacheKey=b=>new w(b)},6874:(N,c,w)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.Attribute=void 0;const b=w(5127),d=w(2446),h=w(9240),p=w(7273);var u=b.onnxruntime.experimental.fbs;class l{constructor(o){if(this._attributes=new Map,o!=null){for(const n of o)n instanceof d.onnx.AttributeProto?this._attributes.set(n.name,[l.getValue(n),l.getType(n)]):n instanceof u.Attribute&&this._attributes.set(n.name(),[l.getValue(n),l.getType(n)]);if(this._attributes.size<o.length)throw new Error("duplicated attribute names")}}set(o,n,t){this._attributes.set(o,[t,n])}delete(o){this._attributes.delete(o)}getFloat(o,n){return this.get(o,"float",n)}getInt(o,n){return this.get(o,"int",n)}getString(o,n){return this.get(o,"string",n)}getTensor(o,n){return this.get(o,"tensor",n)}getFloats(o,n){return this.get(o,"floats",n)}getInts(o,n){return this.get(o,"ints",n)}getStrings(o,n){return this.get(o,"strings",n)}getTensors(o,n){return this.get(o,"tensors",n)}get(o,n,t){const e=this._attributes.get(o);if(e===void 0){if(t!==void 0)return t;throw new Error(`required attribute not found: ${o}`)}if(e[1]!==n)throw new Error(`type mismatch: expected ${n} but got ${e[1]}`);return e[0]}static getType(o){const n=o instanceof d.onnx.AttributeProto?o.type:o.type();switch(n){case d.onnx.AttributeProto.AttributeType.FLOAT:return"float";case d.onnx.AttributeProto.AttributeType.INT:return"int";case d.onnx.AttributeProto.AttributeType.STRING:return"string";case d.onnx.AttributeProto.AttributeType.TENSOR:return"tensor";case d.onnx.AttributeProto.AttributeType.FLOATS:return"floats";case d.onnx.AttributeProto.AttributeType.INTS:return"ints";case d.onnx.AttributeProto.AttributeType.STRINGS:return"strings";case d.onnx.AttributeProto.AttributeType.TENSORS:return"tensors";default:throw new Error(`attribute type is not supported yet: ${d.onnx.AttributeProto.AttributeType[n]}`)}}static getValue(o){const n=o instanceof d.onnx.AttributeProto?o.type:o.type();if(n===d.onnx.AttributeProto.AttributeType.GRAPH||n===d.onnx.AttributeProto.AttributeType.GRAPHS)throw new Error("graph attribute is not supported yet");const t=this.getValueNoCheck(o);if(n===d.onnx.AttributeProto.AttributeType.INT&&p.LongUtil.isLong(t))return p.LongUtil.longToNumber(t);if(n===d.onnx.AttributeProto.AttributeType.INTS){const e=t,r=new Array(e.length);for(let i=0;i<e.length;i++){const s=e[i];r[i]=p.LongUtil.longToNumber(s)}return r}if(n===d.onnx.AttributeProto.AttributeType.TENSOR)return o instanceof d.onnx.AttributeProto?h.Tensor.fromProto(t):h.Tensor.fromOrtTensor(t);if(n===d.onnx.AttributeProto.AttributeType.TENSORS){if(o instanceof d.onnx.AttributeProto)return t.map(e=>h.Tensor.fromProto(e));if(o instanceof u.Attribute)return t.map(e=>h.Tensor.fromOrtTensor(e))}if(n===d.onnx.AttributeProto.AttributeType.STRING&&o instanceof d.onnx.AttributeProto){const e=t;return(0,p.decodeUtf8String)(e)}return n===d.onnx.AttributeProto.AttributeType.STRINGS&&o instanceof d.onnx.AttributeProto?t.map(p.decodeUtf8String):t}static getValueNoCheck(o){return o instanceof d.onnx.AttributeProto?this.getValueNoCheckFromOnnxFormat(o):this.getValueNoCheckFromOrtFormat(o)}static getValueNoCheckFromOnnxFormat(o){switch(o.type){case d.onnx.AttributeProto.AttributeType.FLOAT:return o.f;case d.onnx.AttributeProto.AttributeType.INT:return o.i;case d.onnx.AttributeProto.AttributeType.STRING:return o.s;case d.onnx.AttributeProto.AttributeType.TENSOR:return o.t;case d.onnx.AttributeProto.AttributeType.GRAPH:return o.g;case d.onnx.AttributeProto.AttributeType.FLOATS:return o.floats;case d.onnx.AttributeProto.AttributeType.INTS:return o.ints;case d.onnx.AttributeProto.AttributeType.STRINGS:return o.strings;case d.onnx.AttributeProto.AttributeType.TENSORS:return o.tensors;case d.onnx.AttributeProto.AttributeType.GRAPHS:return o.graphs;default:throw new Error(`unsupported attribute type: ${d.onnx.AttributeProto.AttributeType[o.type]}`)}}static getValueNoCheckFromOrtFormat(o){switch(o.type()){case u.AttributeType.FLOAT:return o.f();case u.AttributeType.INT:return o.i();case u.AttributeType.STRING:return o.s();case u.AttributeType.TENSOR:return o.t();case u.AttributeType.GRAPH:return o.g();case u.AttributeType.FLOATS:return o.floatsArray();case u.AttributeType.INTS:{const n=[];for(let t=0;t<o.intsLength();t++)n.push(o.ints(t));return n}case u.AttributeType.STRINGS:{const n=[];for(let t=0;t<o.stringsLength();t++)n.push(o.strings(t));return n}case u.AttributeType.TENSORS:{const n=[];for(let t=0;t<o.tensorsLength();t++)n.push(o.tensors(t));return n}default:throw new Error(`unsupported attribute type: ${u.AttributeType[o.type()]}`)}}}c.Attribute=l},1975:(N,c,w)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.resolveBackend=c.backend=void 0;const b=w(4418),d=new Map;async function h(p){const u=c.backend;if(u[p]!==void 0&&function(l){const a=l;return"initialize"in a&&typeof a.initialize=="function"&&"createSessionHandler"in a&&typeof a.createSessionHandler=="function"&&"dispose"in a&&typeof a.dispose=="function"}(u[p])){const l=u[p];let a=l.initialize();if(typeof a=="object"&&"then"in a&&(a=await a),a)return d.set(p,l),l}}c.backend={webgl:new b.WebGLBackend},c.resolveBackend=async function p(u){if(!u)return p(["webgl"]);{const l=typeof u=="string"?[u]:u;for(const a of l){const o=d.get(a);if(o)return o;const n=await h(a);if(n)return n}}throw new Error("no available backend to use")}},4418:(N,c,w)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.WebGLBackend=void 0;const b=w(2235),d=w(1315),h=w(2171),p=w(3389);c.WebGLBackend=class{get contextId(){return b.env.webgl.contextId}set contextId(u){b.env.webgl.contextId=u}get matmulMaxBatchSize(){return b.env.webgl.matmulMaxBatchSize}set matmulMaxBatchSize(u){b.env.webgl.matmulMaxBatchSize=u}get textureCacheMode(){return b.env.webgl.textureCacheMode}set textureCacheMode(u){b.env.webgl.textureCacheMode=u}get pack(){return b.env.webgl.pack}set pack(u){b.env.webgl.pack=u}get async(){return b.env.webgl.async}set async(u){b.env.webgl.async=u}initialize(){try{return this.glContext=(0,p.createWebGLContext)(this.contextId),typeof this.matmulMaxBatchSize!="number"&&(this.matmulMaxBatchSize=16),typeof this.textureCacheMode!="string"&&(this.textureCacheMode="full"),typeof this.pack!="boolean"&&(this.pack=!1),typeof this.async!="boolean"&&(this.async=!1),d.Logger.setWithEnv(b.env),d.Logger.verbose("WebGLBackend",`Created WebGLContext: ${typeof this.glContext} with matmulMaxBatchSize: ${this.matmulMaxBatchSize}; textureCacheMode: ${this.textureCacheMode}; pack: ${this.pack}; async: ${this.async}.`),!0}catch(u){return d.Logger.warning("WebGLBackend",`Unable to initialize WebGLBackend. ${u}`),!1}}createSessionHandler(u){return new h.WebGLSessionHandler(this,u)}dispose(){this.glContext.dispose()}}},6859:(N,c,w)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.CoordsGlslLib=void 0;const b=w(7273),d=w(1997),h=w(6757),p=w(7618),u=w(432);class l extends d.GlslLib{constructor(o){super(o)}getFunctions(){return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},this.offsetToCoords()),this.coordsToOffset()),this.toVec()),this.valueFrom()),this.getCommonUtilFuncs()),this.getInputsSamplingSnippets()),this.getOutputSamplingSnippet())}getCustomTypes(){return{}}offsetToCoords(){return{offsetToCoords:new d.GlslLibRoutine(`
      vec2 offsetToCoords(int offset, int width, int height) {
        int t = offset / width;
        int s = offset - t*width;
        vec2 coords = (vec2(s,t) + vec2(0.5,0.5)) / vec2(width, height);
        return coords;
      }
      `)}}coordsToOffset(){return{coordsToOffset:new d.GlslLibRoutine(`
      int coordsToOffset(vec2 coords, int width, int height) {
        float s = coords.s * float(width);
        float t = coords.t * float(height);
        int offset = int(t) * width + int(s);
        return offset;
      }
      `)}}getOutputSamplingSnippet(){const o=this.context.outputTextureLayout;return o.isPacked?this.getPackedOutputSamplingSnippet(o):this.getUnpackedOutputSamplingSnippet(o)}getPackedOutputSamplingSnippet(o){const n=o.unpackedShape,t=[o.width,o.height],e={},r="getOutputCoords";switch(n.length){case 0:e[r]=this.getOutputScalarCoords();break;case 1:e[r]=this.getOutputPacked1DCoords(n,t);break;case 2:e[r]=this.getOutputPacked2DCoords(n,t);break;case 3:e[r]=this.getOutputPacked3DCoords(n,t);break;default:e[r]=this.getOutputPackedNDCoords(n,t)}const i=`
      void setOutput(vec4 val) {
        ${(0,h.getGlsl)(this.context.glContext.version).output} = val;
      }
    `;return e.floatTextureSetRGBA=new d.GlslLibRoutine(i),e}getUnpackedOutputSamplingSnippet(o){const n=o.unpackedShape,t=[o.width,o.height],e={},r="getOutputCoords";switch(n.length){case 0:e[r]=this.getOutputScalarCoords();break;case 1:e[r]=this.getOutputUnpacked1DCoords(n,t);break;case 2:e[r]=this.getOutputUnpacked2DCoords(n,t);break;case 3:e[r]=this.getOutputUnpacked3DCoords(n,t);break;case 4:e[r]=this.getOutputUnpacked4DCoords(n,t);break;case 5:e[r]=this.getOutputUnpacked5DCoords(n,t);break;case 6:e[r]=this.getOutputUnpacked6DCoords(n,t);break;default:throw new Error(`Unsupported output dimensionality: ${n.length}`)}const i=`
        void setOutput(float val) {
          ${(0,h.getGlsl)(this.context.glContext.version).output} = vec4(val, 0, 0, 0);
        }
    `;return e.floatTextureSetR=new d.GlslLibRoutine(i),e}getOutputScalarCoords(){return new d.GlslLibRoutine(`
      int getOutputCoords() {
        return 0;
      }
    `)}getOutputPacked1DCoords(o,n){const t=n;let e="";return t[0]===1?(e=`
          int getOutputCoords() {
            return 2 * int(TexCoords.y * ${t[1]}.0);
          }
        `,new d.GlslLibRoutine(e)):t[1]===1?(e=`
          int getOutputCoords() {
            return 2 * int(TexCoords.x * ${t[0]}.0);
          }
        `,new d.GlslLibRoutine(e)):(e=`
        int getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                 vec2(${t[0]}, ${t[1]}));
          return 2 * (resTexRC.y * ${t[0]} + resTexRC.x);
        }
      `,new d.GlslLibRoutine(e))}getOutputPacked2DCoords(o,n){let t="";if(b.ArrayUtil.arraysEqual(o,n))return t=`
        ivec2 getOutputCoords() {
          return 2 * ivec2(TexCoords.xy * vec2(${n[0]}, ${n[1]}));
        }
      `,new d.GlslLibRoutine(t);const e=n,r=Math.ceil(o[1]/2);return t=`
        ivec2 getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${e[0]}, ${e[1]}));

          int index = resTexRC.y * ${e[0]} + resTexRC.x;

          // reverse r and c order for packed texture
          int r = imod(index, ${r}) * 2;
          int c = 2 * (index / ${r});

          return ivec2(r, c);
        }
      `,new d.GlslLibRoutine(t)}getOutputPacked3DCoords(o,n){const t=[n[0],n[1]],e=Math.ceil(o[2]/2),r=e*Math.ceil(o[1]/2),i=`
        ivec3 getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${t[0]}, ${t[1]}));
          int index = resTexRC.y * ${t[0]} + resTexRC.x;

          int b = index / ${r};
          index -= b * ${r};

          // reverse r and c order for packed texture
          int r = imod(index, ${e}) * 2;
          int c = 2 * (index / ${e});

          return ivec3(b, r, c);
        }
      `;return new d.GlslLibRoutine(i)}getOutputPackedNDCoords(o,n){const t=[n[0],n[1]],e=Math.ceil(o[o.length-1]/2),r=e*Math.ceil(o[o.length-2]/2);let i=r,s="",f="b, r, c";for(let m=2;m<o.length-1;m++)i*=o[o.length-m-1],s=`
      int b${m} = index / ${i};
      index -= b${m} * ${i};
    `+s,f=`b${m}, `+f;const g=`
      ivec${o.length} getOutputCoords() {
        ivec2 resTexRC = ivec2(TexCoords.xy *
                              vec2(${t[0]}, ${t[1]}));
        int index = resTexRC.y * ${t[0]} + resTexRC.x;

        ${s}

        int b = index / ${r};
        index -= b * ${r};

        // reverse r and c order for packed texture
        int r = imod(index, ${e}) * 2;
        int c = 2 * (index / ${e});

        return ivec${o.length}(${f});
      }
    `;return new d.GlslLibRoutine(g)}getOutputUnpacked1DCoords(o,n){const t=`
        int getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${n[0]}, ${n[1]}));
          return resTexRC.y * ${n[0]} + resTexRC.x;
        }
      `;return new d.GlslLibRoutine(t)}getOutputUnpacked2DCoords(o,n){const t=`
        ivec2 getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${n[0]}, ${n[1]}));
          int index = resTexRC.y * ${n[0]} + resTexRC.x;
          int r = index / ${o[1]};
          int c = index - r * ${o[1]};
          return ivec2(r, c);
        }
      `;return new d.GlslLibRoutine(t)}getOutputUnpacked3DCoords(o,n){let t="";const e=o.length;let r=null;e<2&&(r=[]),r=new Array(e-1),r[e-2]=o[e-1];for(let f=e-3;f>=0;--f)r[f]=r[f+1]*o[f+1];const i=["r","c","d"],s=r.map((f,g)=>`int ${i[g]} = index / ${f}; ${g===r.length-1?`int ${i[g+1]} = index - ${i[g]} * ${f}`:`index -= ${i[g]} * ${f}`};`).join("");return t=`
        ivec3 getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${n[0]}, ${n[1]}));
          int index = resTexRC.y * ${n[0]} + resTexRC.x;
          ${s}
          return ivec3(r, c, d);
        }
      `,new d.GlslLibRoutine(t)}getOutputUnpacked4DCoords(o,n){let t="";const e=o.length;let r=null;e<2&&(r=[]),r=new Array(e-1),r[e-2]=o[e-1];for(let f=e-3;f>=0;--f)r[f]=r[f+1]*o[f+1];const i=["r","c","d","d2"],s=r.map((f,g)=>`int ${i[g]} = index / ${f}; ${g===r.length-1?`int ${i[g+1]} = index - ${i[g]} * ${f}`:`index -= ${i[g]} * ${f}`};`).join("");return t=`
      ivec4 getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${n[0]}, ${n[1]}));
          int index = resTexRC.y * ${n[0]} + resTexRC.x;
          ${s}
          return ivec4(r, c, d, d2);
        }
      `,new d.GlslLibRoutine(t)}getOutputUnpacked5DCoords(o,n){let t="";const e=o.length;let r=null;e<2&&(r=[]),r=new Array(e-1),r[e-2]=o[e-1];for(let f=e-3;f>=0;--f)r[f]=r[f+1]*o[f+1];const i=["r","c","d","d2","d3"],s=r.map((f,g)=>`int ${i[g]} = index / ${f}; ${g===r.length-1?`int ${i[g+1]} = index - ${i[g]} * ${f}`:`index -= ${i[g]} * ${f}`};`).join("");return t=`
      ivec5 getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${n[0]}, ${n[1]}));
          int index = resTexRC.y * ${n[0]} + resTexRC.x;
          ${s}
          return ivec5(r, c, d, d2, d3);
        }
      `,new d.GlslLibRoutine(t)}getOutputUnpacked6DCoords(o,n){let t="";const e=o.length;let r=null;e<2&&(r=[]),r=new Array(e-1),r[e-2]=o[e-1];for(let f=e-3;f>=0;--f)r[f]=r[f+1]*o[f+1];const i=["r","c","d","d2","d3","d4"],s=r.map((f,g)=>`int ${i[g]} = index / ${f}; ${g===r.length-1?`int ${i[g+1]} = index - ${i[g]} * ${f}`:`index -= ${i[g]} * ${f}`};`).join("");return t=`
     ivec6 getOutputCoords() {
         ivec2 resTexRC = ivec2(TexCoords.xy *
                               vec2(${n[0]}, ${n[1]}));
         int index = resTexRC.y * ${n[0]} + resTexRC.x;
         ${s}
         return ivec6(r, c, d, d2, d3, d4);
       }
     `,new d.GlslLibRoutine(t)}getCommonUtilFuncs(){const o={};let n="uvFromFlat";o[n]=new d.GlslLibRoutine(`
    vec2 uvFromFlat(int texNumR, int texNumC, int index) {
      int texC = index / texNumR;
      int texR = index - texC * texNumR;
      // TODO: swap texR, texC order in following function so row is corresponding to u and column is corresponding to
      //       v.
      return (vec2(texR, texC) + halfCR) / vec2(texNumR, texNumC);
    }
    `),n="packedUVfrom1D",o[n]=new d.GlslLibRoutine(`
      vec2 packedUVfrom1D(int texNumR, int texNumC, int index) {
        int texelIndex = index / 2;
        int texR = texelIndex / texNumC;
        int texC = texelIndex - texR * texNumC;
        return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
      }
      `),n="packedUVfrom2D",o[n]=new d.GlslLibRoutine(`
      vec2 packedUVfrom2D(int texNumR, int texNumC, int texelsInLogicalRow, int row, int col) {
        int texelIndex = (row / 2) * texelsInLogicalRow + (col / 2);
        int texR = texelIndex / texNumC;
        int texC = texelIndex - texR * texNumC;
        return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
      }
      `),n="packedUVfrom3D",o[n]=new d.GlslLibRoutine(`
      vec2 packedUVfrom3D(int texNumR, int texNumC,
          int texelsInBatch, int texelsInLogicalRow, int b,
          int row, int col) {
        int index = b * texelsInBatch + (row / 2) * texelsInLogicalRow + (col / 2);
        int texR = index / texNumC;
        int texC = index - texR * texNumC;
        return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
      }
      `),n="sampleTexture";const t=(0,h.getGlsl)(this.context.glContext.version);return o[n]=new d.GlslLibRoutine(`
        float sampleTexture(sampler2D textureSampler, vec2 uv) {
            return ${t.texture2D}(textureSampler, uv).r;
        }`),o}getInputsSamplingSnippets(){const o={},n=this.context.outputTextureLayout;return this.context.programInfo.inputNames.forEach((t,e)=>{const r=this.context.inputTextureLayouts[e],i=(0,u.generateShaderFuncNameFromInputSamplerName)(t);r.isPacked?o[i]=this.getPackedSamplerFromInput(i,t,r):o[i]=this.getUnpackedSamplerFromInput(i,t,r);const s=(0,u.generateShaderFuncNameFromInputSamplerNameAtOutCoords)(t);r.unpackedShape.length<=n.unpackedShape.length&&(r.isPacked?o[s]=this.getPackedSamplerAtOutputCoords(s,r,n,t):o[s]=this.getUnpackedSamplerAtOutputCoords(s,r,n,t))}),o}getPackedSamplerAtOutputCoords(o,n,t,e){const r=n.unpackedShape,i=t.unpackedShape,s=e,f=(0,u.generateShaderFuncNameFromInputSamplerName)(s),g=r.length,m=i.length,y=b.BroadcastUtil.getBroadcastDims(r,i),v=(0,u.getCoordsDataType)(m),T=m-g;let x;const A=(0,u.getGlChannels)();x=g===0?"":m<2&&y.length>=1?"coords = 0;":y.map(U=>`coords.${A[U+T]} = 0;`).join(`
`);let D="";D=m<2&&g>0?"coords":r.map((U,O)=>`coords.${A[O+T]}`).join(", ");let $="return outputValue;";const C=b.ShapeUtil.size(r)===1,M=b.ShapeUtil.size(i)===1;if(g!==1||C||M){if(C&&!M)$=m===1?`
          return vec4(outputValue.x, outputValue.x, 0., 0.);
        `:`
          return vec4(outputValue.x);
        `;else if(y.length){const U=g-2,O=g-1;y.indexOf(U)>-1&&y.indexOf(O)>-1?$="return vec4(outputValue.x);":y.indexOf(U)>-1?$="return vec4(outputValue.x, outputValue.y, outputValue.x, outputValue.y);":y.indexOf(O)>-1&&($="return vec4(outputValue.xx, outputValue.zz);")}}else $=`
        return vec4(outputValue.xy, outputValue.xy);
      `;const S=`
      vec4 ${o}() {
        ${v} coords = getOutputCoords();
        
        int lastDim = coords.${A[m-1]};
        coords.${A[m-1]} = coords.${A[m-2]};
        coords.${A[m-2]} = lastDim;
      
        ${x}
        vec4 outputValue = ${f}(${D});
        ${$}
      }
    `;return new d.GlslLibRoutine(S,["coordinates.getOutputCoords"])}getUnpackedSamplerAtOutputCoords(o,n,t,e){const r=[t.width,t.height],i=[n.width,n.height],s=n.unpackedShape.length,f=t.unpackedShape.length,g=n.unpackedShape,m=t.unpackedShape,y=(0,u.generateShaderFuncNameFromInputSamplerName)(e);if(s===f&&b.ArrayUtil.arraysEqual(i,r)){const M=`
          float ${o}() {
            return sampleTexture(${e}, TexCoords);
          }
        `;return new d.GlslLibRoutine(M,["coordinates.sampleTexture"])}const v=(0,u.getCoordsDataType)(f),T=b.BroadcastUtil.getBroadcastDims(g,m),x=f-s;let A;const D=(0,u.getGlChannels)();A=s===0?"":f<2&&T.length>=1?"coords = 0;":T.map(M=>`coords.${D[M+x]} = 0;`).join(`
`);let $="";$=f<2&&s>0?"coords":n.unpackedShape.map((M,S)=>`coords.${D[S+x]}`).join(", ");const C=`
        float ${o}() {
          ${v} coords = getOutputCoords();
          ${A}
          return ${y}(${$});
        }
      `;return new d.GlslLibRoutine(C,["coordinates.getOutputCoords"])}getPackedSamplerFromInput(o,n,t){switch(t.unpackedShape.length){case 0:return this.getPackedSamplerScalar(o,n);case 1:return this.getPackedSampler1D(o,n,t);case 2:return this.getPackedSampler2D(o,n,t);case 3:return this.getPackedSampler3D(o,n,t);default:return this.getPackedSamplerND(o,n,t)}}getUnpackedSamplerFromInput(o,n,t){const e=t.unpackedShape;switch(e.length){case 0:return this.getUnpackedSamplerScalar(o,n,t);case 1:return this.getUnpackedSampler1D(o,n,t);case 2:return this.getUnpackedSampler2D(o,n,t);case 3:return this.getUnpackedSampler3D(o,n,t);case 4:return this.getUnpackedSampler4D(o,n,t);case 5:return this.getUnpackedSampler5D(o,n,t);case 6:return this.getUnpackedSampler6D(o,n,t);default:throw new Error(`Unsupported dimension ${e.length}-D`)}}getPackedSamplerScalar(o,n){const t=`
          vec4 ${o}() {
            return ${(0,h.getGlsl)(this.context.glContext.version).texture2D}(${n}, halfCR);
          }
        `;return new d.GlslLibRoutine(t)}getPackedSampler1D(o,n,t){const e=[t.width,t.height],r=[e[1],e[0]],i=(0,h.getGlsl)(this.context.glContext.version),s=`vec4 ${o}(int index) {
      vec2 uv = packedUVfrom1D(
      ${r[0]}, ${r[1]}, index);
      return ${i.texture2D}(${n}, uv);
    }`;return new d.GlslLibRoutine(s,["coordinates.packedUVfrom1D"])}getPackedSampler2D(o,n,t){const e=t.unpackedShape,r=[t.width,t.height],i=(0,h.getGlsl)(this.context.glContext.version),s=r[0],f=r[1];if(r!=null&&b.ArrayUtil.arraysEqual(e,r)){const v=`vec4 ${o}(int row, int col) {
        vec2 uv = (vec2(col, row) + halfCR) / vec2(${f}.0, ${s}.0);
        return ${i.texture2D}(${n}, uv);
      }`;return new d.GlslLibRoutine(v)}const g=r,m=Math.ceil(e[1]/2),y=`vec4 ${o}(int row, int col) {
      vec2 uv = packedUVfrom2D(${g[1]}, ${g[0]}, ${m}, row, col);
      return ${i.texture2D}(${n}, uv);
    }`;return new d.GlslLibRoutine(y,["coordinates.packedUVfrom2D"])}getPackedSampler3D(o,n,t){const e=t.unpackedShape,r=[t.width,t.height],i=[r[0],r[1]],s=(0,h.getGlsl)(this.context.glContext.version);if(e[0]===1){const v=e.slice(1),T=[1,2],x=(0,u.squeezeInputShape)(e,v),A=["b","row","col"],D=JSON.parse(JSON.stringify(t));D.unpackedShape=x;const $=this.getPackedSamplerFromInput(o,n,D),C=`${$.routineBody}
      vec4 ${o}(int b, int row, int col) {
        return ${o}(${(0,u.getSqueezedParams)(A,T)});
      } `;return new d.GlslLibRoutine(C,$.dependencies)}const f=i[0],g=i[1],m=Math.ceil(e[2]/2),y=`vec4 ${o}(int b, int row, int col) {
      vec2 uv = packedUVfrom3D(
        ${g}, ${f}, ${m*Math.ceil(e[1]/2)}, ${m}, b, row, col);
      return ${s.texture2D}(${n}, uv);}`;return new d.GlslLibRoutine(y,["coordinates.packedUVfrom3D"])}getPackedSamplerND(o,n,t){const e=t.unpackedShape,r=e.length,i=[t.width,t.height],s=(0,h.getGlsl)(this.context.glContext.version),f=[i[0],i[1]],g=f[1],m=f[0],y=Math.ceil(e[r-1]/2);let v=y*Math.ceil(e[r-2]/2),T="int b, int row, int col",x=`b * ${v} + (row / 2) * ${y} + (col / 2)`;for(let D=2;D<r-1;D++)T=`int b${D}, `+T,v*=e[r-D-1],x=`b${D} * ${v} + `+x;const A=`vec4 ${o}(${T}) {
      int index = ${x};
      int texR = index / ${m};
      int texC = index - texR * ${m};
      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${m}, ${g});
      return ${s.texture2D}(${n}, uv);
    }`;return new d.GlslLibRoutine(A)}getUnpackedSamplerScalar(o,n,t){const[e,r]=[t.width,t.height];if(e===1&&r===1){const s=`
          float ${o}() {
            return sampleTexture(${n}, halfCR);
          }
        `;return new d.GlslLibRoutine(s,["coordinates.sampleTexture"])}const i=`
        float ${o}() {
          int offset_${n} = coordsToOffset(TexCoords, ${e}, ${r});
          vec2 uv = uvFromFlat(${e}, ${r}, offset_${n});
          return sampleTexture(${n}, uv);
        }
      `;return new d.GlslLibRoutine(i,["coordinates.uvFromFlat","coordinates.sampleTexture","coordinates.coordsToOffset"])}getUnpackedSampler1D(o,n,t){const e=t.width,r=t.height;if(r===1&&e===1){const s=`
        float ${o}(int index) {
          return sampleTexture(${n}, halfCR);
        }
      `;return new d.GlslLibRoutine(s,["coordinates.sampleTexture"])}if(r===1){const s=`
          float ${o}(int index) {
            vec2 uv = vec2((float(index) + 0.5) / ${e}.0, 0.5);
            return sampleTexture(${n}, uv);
          }
        `;return new d.GlslLibRoutine(s,["coordinates.sampleTexture"])}if(e===1){const s=`
          float ${o}(int index) {
            vec2 uv = vec2(0.5, (float(index) + 0.5) / ${r}.0);
            return sampleTexture(${n}, uv);
          }
        `;return new d.GlslLibRoutine(s,["coordinates.sampleTexture"])}const i=`
        float ${o}(int index) {
          vec2 uv = uvFromFlat(${e}, ${r}, index);
          return sampleTexture(${n}, uv);
        }
      `;return new d.GlslLibRoutine(i,["coordinates.uvFromFlat","coordinates.sampleTexture"])}getUnpackedSampler2D(o,n,t){const e=t.unpackedShape,r=[t.height,t.width];if(r!=null&&b.ArrayUtil.arraysEqual(e,r)){const v=`
          float ${o}(int row, int col) {
            vec2 uv = (vec2(row, col) + halfCR) / vec2(${r[1]}.0, ${r[0]}.0);
            return sampleTexture(${n}, uv);
          }
        `;return new d.GlslLibRoutine(v,["coordinates.sampleTexture"])}const{newShape:i,keptDims:s}=(0,p.squeezeShape)(e),f=i;if(f.length<e.length){const v=(0,u.squeezeInputShape)(e,f),T=JSON.parse(JSON.stringify(t));T.unpackedShape=v;const x=["col","row"],A=`
          ${this.getUnpackedSamplerFromInput(o,n,T).routineBody}
          float ${o}(int row, int col) {
            return ${o}(${(0,u.getSqueezedParams)(x,s)});
          }
        `;return new d.GlslLibRoutine(A,["coordinates.sampleTexture"])}const g=r[1],m=r[0];if(m===1){const v=`
          float ${o}(int row, int col) {
            int offset_${n} = coordsToOffset(TexCoords, ${g}, ${m});
            float index = dot(vec3(row, col, offset_${n}), vec3(${e[1]}, 1, 1));
            vec2 uv = vec2(0.5, (index + 0.5) / ${g}.0);
            return sampleTexture(${n}, uv);
          }
        `;return new d.GlslLibRoutine(v,["coordinates.sampleTexture","coordinates.coordsToOffset"])}if(g===1){const v=`
          float ${o}(int row, int col) {
            int offset_${n} = coordsToOffset(TexCoords, ${g}, ${m});
            float index = dot(vec3(row, col, offset_${n}), vec3(${e[1]}, 1, 1));
            vec2 uv = vec2((index + 0.5) / ${m}.0, 0.5);
            return sampleTexture(${n}, uv);
          }
        `;return new d.GlslLibRoutine(v,["coordinates.sampleTexture","coordinates.coordsToOffset"])}const y=`
        float ${o}(int row, int col) {
          int index = col * ${e[1]} + row;
          vec2 uv = uvFromFlat(${g}, ${m}, index);
          return sampleTexture(${n}, uv);
        }
      `;return new d.GlslLibRoutine(y,["coordinates.uvFromFlat","coordinates.sampleTexture","coordinates.coordsToOffset"])}getUnpackedSampler3D(o,n,t){const e=t.unpackedShape,r=e[1]*e[2],i=e[2],{newShape:s,keptDims:f}=(0,p.squeezeShape)(e),g=s;if(g.length<e.length){const y=(0,u.squeezeInputShape)(e,g),v=["batch","col","row"],T=JSON.parse(JSON.stringify(t));T.unpackedShape=y;const x=this.getUnpackedSamplerFromInput(o,n,T),A=f.reverse(),D=`
          ${x.routineBody}
          float ${o}(int batch, int row, int col) {
            return ${o}(${(0,u.getSqueezedParams)(v,A)});
          }
        `;return new d.GlslLibRoutine(D,x.dependencies)}const m=`
          float ${o}(int depth, int row, int col) {
            // Explicitly use integer operations as dot() only works on floats.
            int index = depth * ${r} + col * ${i} + row;
            vec2 uv = uvFromFlat(${t.width}, ${t.height}, index);
            return sampleTexture(${n}, uv);
          }
      `;return new d.GlslLibRoutine(m,["coordinates.uvFromFlat","coordinates.sampleTexture","coordinates.coordsToOffset"])}getUnpackedSampler4D(o,n,t){const e=t.unpackedShape,r=e[3],i=e[2]*r,s=`
        float ${o}(int row, int col, int depth, int depth2) {
          int index = row * ${e[1]*i} + col * ${i} +
              depth2 * ${r} + depth;
          vec2 uv = uvFromFlat(${t.width}, ${t.height}, index);
          return sampleTexture(${n}, uv);
        }
      `;return new d.GlslLibRoutine(s,["coordinates.uvFromFlat","coordinates.sampleTexture"])}getUnpackedSampler5D(o,n,t){const e=t.unpackedShape,r=e[4],i=e[3]*r,s=e[2]*i,f=e[1]*s,{newShape:g,keptDims:m}=(0,p.squeezeShape)(e);if(g.length<e.length){const v=(0,u.squeezeInputShape)(e,g),T=["row","col","depth","depth2","depth3"],x=JSON.parse(JSON.stringify(t));x.unpackedShape=v;const A=`
          ${this.getUnpackedSamplerFromInput(o,n,x).routineBody}
          float ${o}(int row, int col, int depth, int depth2, int depth3) {
            return ${o}(${(0,u.getSqueezedParams)(T,m)});
          }
        `;return new d.GlslLibRoutine(A,["coordinates.sampleTexture","coordinates.uvFromFlat"])}const y=`
        float ${o}(int row, int col, int depth, int depth2, int depth3) {
          int index = row * ${f} + col * ${s} + depth * ${i} +
          depth3 * ${r} + depth2;
          vec2 uv = uvFromFlat(${t.width}, ${t.height}, index);
          return sampleTexture(${n}, uv);
        }
      `;return new d.GlslLibRoutine(y,["coordinates.sampleTexture","coordinates.uvFromFlat"])}getUnpackedSampler6D(o,n,t){const e=t.unpackedShape,r=e[5],i=e[4]*r,s=e[3]*i,f=e[2]*s,g=e[1]*f,{newShape:m,keptDims:y}=(0,p.squeezeShape)(e);if(m.length<e.length){const T=(0,u.squeezeInputShape)(e,m),x=["row","col","depth","depth2","depth3","depth4"],A=JSON.parse(JSON.stringify(t));A.unpackedShape=T;const D=`
            ${this.getUnpackedSamplerFromInput(o,n,A).routineBody}
            float ${o}(int row, int col, int depth,
              int depth2, int depth3, int depth4) {
              return ${o}(${(0,u.getSqueezedParams)(x,y)});
            }
          `;return new d.GlslLibRoutine(D,["coordinates.sampleTexture","coordinates.uvFromFlat"])}const v=`
          float ${o}(int row, int col, int depth,
            int depth2, int depth3, int depth4) {
            int index = row * ${g} + col * ${f} + depth * ${s} +
            depth2 * ${i} + depth3 * ${r} + depth4;
            vec2 uv = uvFromFlat(${t.width}, ${t.height}, index);
            return sampleTexture(${n}, uv);
          }
        `;return new d.GlslLibRoutine(v,["coordinates.uvFromFlat","coordinates.sampleTexture","coordinates.coordsToOffset"])}toVec(){const o=this.context.outputTextureLayout,n=o.shape.length,t=o.strides,e=o.width,r=o.height,i=[];for(let f=0;f<n-1;++f)i.push(`
        c[${f}] = offset / ${t[f]};`),i.push(`
        offset -= c[${f}] * ${t[f]};`);i.push(`
        c[${n-1}] = offset;`);const s=`
      void toVec(vec2 texCoords, out int c[${n}]) {
        int offset = coordsToOffset(texCoords, ${e}, ${r});
        ${i.join("")}
      }
      void toVec(int offset, out int c[${n}]) {
        ${i.join("")}
      }
    `;return{toVec:new d.GlslLibRoutine(s,["coordinates.coordsToOffset"])}}valueFrom(){const o={};return this.context.programInfo.inputNames.forEach((n,t)=>{const e=this.context.inputTextureLayouts[t],r=(e.unpackedShape.length>0?e.unpackedShape:e.shape).length;let i=`_${n}`;o[i]=new d.GlslLibRoutine(this.getValueFromSingle(n,r,e.width,e.height,!1),[`shapeUtils.indicesToOffset${i}`,"coordinates.offsetToCoords","fragcolor.getColorAsFloat"]),i+="_T",o[i]=new d.GlslLibRoutine(this.getValueFromSingle(n,r,e.width,e.height,!0),[`shapeUtils.indicesToOffset${i}`,"coordinates.offsetToCoords","fragcolor.getColorAsFloat"])}),o}getValueFromSingle(o,n,t,e,r){let i=`_${o}`;return r&&(i+="_T"),`
        float ${i}(int m[${n}]) {
          int offset = indicesToOffset${i}(m);
          vec2 coords = offsetToCoords(offset, ${t}, ${e});
          float value = getColorAsFloat(${(0,h.getGlsl)(this.context.glContext.version).texture2D}(${o}, coords));
          return value;
        }
        `}getPackedValueFrom(o,n,t,e,r){let i=`_${o}_Pack`;return r&&(i+="_T"),`
        vec4 ${i}(int m[${n}]) {
          int offset = indicesToOffset_${o}(m);
          vec2 coords = offsetToCoords(offset, ${t}, ${e});
          return ${(0,h.getGlsl)(this.context.glContext.version).texture2D}(${o}, coords);
        }
        `}}c.CoordsGlslLib=l},1997:(N,c)=>{var w;Object.defineProperty(c,"__esModule",{value:!0}),c.TopologicalSortGlslRoutines=c.GlslLibRoutineNode=c.GlslLibRoutine=c.GlslLib=c.GlslContext=c.FunctionType=void 0,(w=c.FunctionType||(c.FunctionType={}))[w.ValueBased=0]="ValueBased",w[w.Positional=1]="Positional",c.GlslContext=class{constructor(b,d,h,p){this.glContext=b,this.programInfo=d,this.inputTextureLayouts=h,this.outputTextureLayout=p}},c.GlslLib=class{constructor(b){this.context=b}},c.GlslLibRoutine=class{constructor(b,d){this.routineBody=b,this.dependencies=d}},c.GlslLibRoutineNode=class{constructor(b,d,h){this.name=b,this.dependencies=h||[],d&&(this.routineBody=d)}addDependency(b){b&&this.dependencies.push(b)}},c.TopologicalSortGlslRoutines=class{static returnOrderedNodes(b){if(!b||b.length===0)return[];if(b.length===1)return b;const d=new Set,h=new Set,p=new Array;return this.createOrderedNodes(b,d,h,p),p}static createOrderedNodes(b,d,h,p){for(let u=0;u<b.length;++u)this.dfsTraverse(b[u],d,h,p)}static dfsTraverse(b,d,h,p){if(!b||h.has(b.name))return;if(d.has(b.name))throw new Error("Cyclic dependency detected. Can't topologically sort routines needed for shader.");d.add(b.name);const u=b.dependencies;if(u&&u.length>0)for(let l=0;l<u.length;++l)this.dfsTraverse(u[l],d,h,p);p.push(b),h.add(b.name),d.delete(b.name)}}},1371:(N,c,w)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.EncodingGlslLib=void 0;const b=w(1997);class d extends b.GlslLib{constructor(p){super(p)}getFunctions(){return Object.assign(Object.assign({},this.encodeFloat32()),this.decodeFloat32())}getCustomTypes(){return{}}encodeFloat32(){return{encode:new b.GlslLibRoutine(`highp vec4 encode(highp float f) {
        return vec4(f, 0.0, 0.0, 0.0);
      }
        `)}}decodeFloat32(){return{decode:new b.GlslLibRoutine(`highp float decode(highp vec4 rgba) {
        return rgba.r;
      }
        `)}}encodeUint8(){const p=d.isLittleEndian()?"rgba.rgba=rgba.abgr;":"";return{encode:new b.GlslLibRoutine(`
      highp vec4 encode(highp float f) {
        highp float F = abs(f);
        highp float Sign = step(0.0,-f);
        highp float Exponent = floor(log2(F));
        highp float Mantissa = (exp2(- Exponent) * F);
        Exponent = floor(log2(F) + 127.0) + floor(log2(Mantissa));
        highp vec4 rgba;
        rgba[0] = 128.0 * Sign  + floor(Exponent*exp2(-1.0));
        rgba[1] = 128.0 * mod(Exponent,2.0) + mod(floor(Mantissa*128.0),128.0);
        rgba[2] = floor(mod(floor(Mantissa*exp2(23.0 -8.0)),exp2(8.0)));
        rgba[3] = floor(exp2(23.0)*mod(Mantissa,exp2(-15.0)));
        ${p}
        rgba = rgba / 255.0; // values need to be normalized to [0,1]
        return rgba;
    }
        `)}}decodeUint8(){const p=d.isLittleEndian()?"rgba.rgba=rgba.abgr;":"";return{decode:new b.GlslLibRoutine(`
        highp float decode(highp vec4 rgba) {
          rgba = rgba * 255.0; // values need to be de-normalized from [0,1] to [0,255]
          ${p}
          highp float Sign = 1.0 - step(128.0,rgba[0])*2.0;
          highp float Exponent = 2.0 * mod(rgba[0],128.0) + step(128.0,rgba[1]) - 127.0;
          highp float Mantissa = mod(rgba[1],128.0)*65536.0 + rgba[2]*256.0 +rgba[3] + float(0x800000);
          highp float Result =  Sign * exp2(Exponent) * (Mantissa * exp2(-23.0 ));
          return Result;
      }
        `)}}static isLittleEndian(){const p=new ArrayBuffer(4),u=new Uint32Array(p),l=new Uint8Array(p);if(u[0]=3735928559,l[0]===239)return!0;if(l[0]===222)return!1;throw new Error("unknown endianness")}}c.EncodingGlslLib=d},2691:(N,c,w)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.FragColorGlslLib=void 0;const b=w(1997),d=w(6757);class h extends b.GlslLib{constructor(u){super(u)}getFunctions(){return Object.assign(Object.assign({},this.setFragColor()),this.getColorAsFloat())}getCustomTypes(){return{}}setFragColor(){const u=(0,d.getGlsl)(this.context.glContext.version);return{setFragColor:new b.GlslLibRoutine(`
        void setFragColor(float value) {
            ${u.output} = encode(value);
        }
        `,["encoding.encode"])}}getColorAsFloat(){return{getColorAsFloat:new b.GlslLibRoutine(`
        float getColorAsFloat(vec4 color) {
            return decode(color);
        }
        `,["encoding.decode"])}}}c.FragColorGlslLib=h},3878:(N,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.replaceInlines=void 0;const w=/@inline[\s\n\r]+(\w+)[\s\n\r]+([0-9a-zA-Z_]+)\s*\(([^)]*)\)\s*{(([^}]|[\n\r])*)}/gm;c.replaceInlines=function(b){const d={};let h;for(;(h=w.exec(b))!==null;){const p=h[3].split(",").map(u=>{const l=u.trim().split(" ");return l&&l.length===2?{type:l[0],name:l[1]}:null}).filter(u=>u!==null);d[h[2]]={params:p,body:h[4]}}for(const p in d){const u="(\\w+)?\\s+([_0-9a-zA-Z]+)\\s+=\\s+__FUNC__\\((.*)\\)\\s*;".replace("__FUNC__",p),l=new RegExp(u,"gm");for(;(h=l.exec(b))!==null;){const a=h[1],o=h[2],n=h[3].split(","),t=a?`${a} ${o};`:"";let e=d[p].body,r="";d[p].params.forEach((s,f)=>{s&&(r+=`${s.type} ${s.name} = ${n[f]};
`)}),e=`${r}
 ${e}`,e=e.replace("return",`${o} = `);const i=`
      ${t}
      {
        ${e}
      }
      `;b=b.replace(h[0],i)}}return b.replace(w,"")}},8897:(N,c,w)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.GlslPreprocessor=void 0;const b=w(1997),d=w(3878),h=w(1248),p=w(6757);c.GlslPreprocessor=class{constructor(u,l,a,o){this.libs={},this.glslLibRoutineDependencyGraph={},this.context=new b.GlslContext(u,l,a,o),Object.keys(h.glslRegistry).forEach(t=>{const e=new h.glslRegistry[t](this.context);this.libs[t]=e});const n=this.glslLibRoutineDependencyGraph;for(const t in this.libs){const e=this.libs[t].getFunctions();for(const r in e){const i=t+"."+r;let s;n[i]?(s=n[i],s.routineBody=e[r].routineBody):(s=new b.GlslLibRoutineNode(i,e[r].routineBody),n[i]=s);const f=e[r].dependencies;if(f)for(let g=0;g<f.length;++g)if(n[f[g]])s.addDependency(n[f[g]]);else{const m=new b.GlslLibRoutineNode(f[g]);n[f[g]]=m,s.addDependency(m)}}}}preprocess(){const u=this.context.programInfo;let l=u.shaderSource;return this.context.programInfo.hasMain||(l=`${l}
      ${(0,p.getDefaultFragShaderMain)(this.context.glContext.version,this.context.outputTextureLayout.shape.length)}`),l=(0,d.replaceInlines)(l),`${(0,p.getFragShaderPreamble)(this.context.glContext.version)}
    ${this.getUniforms(u.inputNames,u.variables)}
    ${this.getImports(l)}
    ${l}`}getImports(u){const l=this.selectGlslLibRoutinesToBeIncluded(u);if(l.length===0)return"";let a="";for(let o=0;o<l.length;++o){if(!l[o].routineBody)throw new Error(`Missing body for the Glsl Library routine: ${l[o].name}`);a+=l[o].routineBody+`
`}return a}selectGlslLibRoutinesToBeIncluded(u){const l=[];return Object.keys(this.glslLibRoutineDependencyGraph).forEach(a=>{const o=a.split(".")[1];u.indexOf(o)!==-1&&l.push(this.glslLibRoutineDependencyGraph[a])}),b.TopologicalSortGlslRoutines.returnOrderedNodes(l)}getUniforms(u,l){const a=[];if(u)for(const o of u)a.push(`uniform sampler2D ${o};`);if(l)for(const o of l)a.push(`uniform ${o.type} ${o.name}${o.arrayLength?`[${o.arrayLength}]`:""};`);return a.join(`
`)}}},1248:(N,c,w)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.glslRegistry=void 0;const b=w(6859),d=w(1371),h=w(2691),p=w(9183),u=w(9314);c.glslRegistry={encoding:d.EncodingGlslLib,fragcolor:h.FragColorGlslLib,vec:u.VecGlslLib,shapeUtils:p.ShapeUtilsGlslLib,coordinates:b.CoordsGlslLib}},9183:(N,c,w)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.ShapeUtilsGlslLib=void 0;const b=w(1997);class d extends b.GlslLib{constructor(p){super(p)}getFunctions(){return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},this.bcastIndex()),this.bcastMatmulIndex()),this.offsetToIndices()),this.indicesToOffset()),this.incrementIndices())}getCustomTypes(){return{}}bcastIndex(){const p=this.context.outputTextureLayout.shape.length,u={};return this.context.programInfo.inputNames.forEach((l,a)=>{const o=this.context.inputTextureLayouts[a].unpackedShape;if(o.length<=p){const n=o.length,t=p-n,e=`bcastIndices_${l}`;let r="";for(let s=0;s<n;++s)r+=`
          realIndices[${s}] = int( mod(float(bcastedIndices[${t+s}]), ${o[s]}.0) );
          `;const i=`
        void ${e} (int bcastedIndices[${p}], out int realIndices[${n}]) {
          ${r}
        }
        `;u[e]=new b.GlslLibRoutine(i)}}),u}bcastMatmulIndex(){const p=this.context.outputTextureLayout.shape.length,u={};return this.context.programInfo.inputNames.forEach((l,a)=>{const o=this.context.inputTextureLayouts[a].shape;if(!(o.length<2||o.length>p)){const n=o.length,t=p-n,e=`bcastMatmulIndices_${l}`;let r="";for(let s=0;s<n-2;++s)r+=`
          realIndices[${s}] = int( mod(float(bcastedIndices[${t+s}]), ${o[s]}.0) );
          `;const i=`
        void ${e}(int bcastedIndices[${p}], out int realIndices[${n}]) {
          ${r}
          realIndices[${n-1}] = bcastedIndices[${p-1}];
          realIndices[${n-2}] = bcastedIndices[${p-2}];
        }
        `;u[e]=new b.GlslLibRoutine(i)}}),u}indicesToOffset(){const p={};return this.context.programInfo.inputNames.forEach((u,l)=>{const a=this.context.inputTextureLayouts[l].shape,o=this.context.inputTextureLayouts[l].strides,n=a.length;let t=`indicesToOffset_${u}`;p[t]=new b.GlslLibRoutine(d.indexToOffsetSingle(t,n,o)),t=`indicesToOffset_${u}_T`,p[t]=new b.GlslLibRoutine(d.indexToOffsetSingle(t,n,o.slice().reverse()))}),p}static indexToOffsetSingle(p,u,l){let a="";for(let o=u-1;o>=0;--o)a+=`
        offset += indices[${o}] * ${l[o]};
        `;return`
      int ${p}(int indices[${u}]) {
        int offset = 0;
        ${a}
        return offset;
      }
      `}offsetToIndices(){const p={};return this.context.programInfo.inputNames.forEach((u,l)=>{const a=this.context.inputTextureLayouts[l].shape,o=this.context.inputTextureLayouts[l].strides,n=a.length;let t=`offsetToIndices_${u}`;p[t]=new b.GlslLibRoutine(d.offsetToIndicesSingle(t,n,o)),t=`offsetToIndices_${u}_T`,p[t]=new b.GlslLibRoutine(d.offsetToIndicesSingle(t,n,o.slice().reverse()))}),p}static offsetToIndicesSingle(p,u,l){const a=[];for(let o=0;o<u-1;++o)a.push(`
      indices[${o}] = offset / ${l[o]};`),a.push(`
        offset -= indices[${o}] * ${l[o]};`);return a.push(`
      indices[${u-1}] = offset;`),`
      void ${p}(int offset, out int indices[${u}]) {
        ${a.join("")}
      }
      `}incrementIndices(){const p={};return this.context.programInfo.inputNames.forEach((u,l)=>{const a=this.context.inputTextureLayouts[l].shape,o=a.length,n=`incrementIndices_${u}`;let t="";for(let r=0;r<o;++r)t+=`
        shape[${r}] = ${a[r]};`;const e=`
        void ${n}(int axis, out int indices[${o}]) {
          int shape[${o}];
          ${t};
          for(int i = ${o} -1 ; i >= 0; --i) {
            if(i > axis) continue;
            indices[i] += 1;
            if(indices[i] < shape[i]) {
              break;
            }
            indices[i] = 0;
          }
        }
        `;p[n]=new b.GlslLibRoutine(e)}),p}}c.ShapeUtilsGlslLib=d},6757:(N,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.getDefaultFragShaderMain=c.getFragShaderPreamble=c.getVertexShaderSource=c.getGlsl=void 0;const w={version:"",attribute:"attribute",varyingVertex:"varying",varyingFrag:"varying",texture2D:"texture2D",output:"gl_FragColor",outputDeclaration:""},b={version:"#version 300 es",attribute:"in",varyingVertex:"out",varyingFrag:"in",texture2D:"texture",output:"outputColor",outputDeclaration:"out vec4 outputColor;"};function d(h){return h===1?w:b}c.getGlsl=d,c.getVertexShaderSource=function(h){const p=d(h);return`${p.version}
      precision highp float;
      ${p.attribute} vec3 position;
      ${p.attribute} vec2 textureCoord;

      ${p.varyingVertex} vec2 TexCoords;

      void main()
      {
          gl_Position = vec4(position, 1.0);
          TexCoords = textureCoord;
      }`},c.getFragShaderPreamble=function(h){const p=d(h);return`${p.version}
    precision highp float;
    precision highp int;
    precision highp sampler2D;
    ${p.varyingFrag} vec2 TexCoords;
    ${p.outputDeclaration}
    const vec2 halfCR = vec2(0.5, 0.5);

    // Custom vector types to handle higher dimenalities.
    struct ivec5
    {
      int x;
      int y;
      int z;
      int w;
      int u;
    };

    struct ivec6
    {
      int x;
      int y;
      int z;
      int w;
      int u;
      int v;
    };

    int imod(int x, int y) {
      return x - y * (x / y);
    }

    `},c.getDefaultFragShaderMain=function(h,p){return`
  void main() {
    int indices[${p}];
    toVec(TexCoords, indices);
    vec4 result = vec4(process(indices));
    ${d(h).output} = result;
  }
  `}},9314:(N,c,w)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.VecGlslLib=void 0;const b=w(1997);class d extends b.GlslLib{constructor(p){super(p)}getCustomTypes(){return{}}getFunctions(){return Object.assign(Object.assign(Object.assign(Object.assign({},this.binaryVecFunctions()),this.copyVec()),this.setVecItem()),this.getVecItem())}binaryVecFunctions(){const p=this.context.outputTextureLayout.shape.length,u={add:"+=",sub:"-=",mul:"*=",div:"/="},l={};for(const a in u){const o=`${a}Vec`;let n="";for(let e=0;e<p;++e)n+=`
          dest[${e}] ${u[a]} src[${e}];
          `;const t=`
        void ${o}(int src[${p}], out int dest[${p}]) {
          ${n}
        }
        `;l[o]=new b.GlslLibRoutine(t)}return l}copyVec(){const p=this.context.outputTextureLayout.shape.length;let u="";for(let a=0;a<p;++a)u+=`
        dest[${a}] = src[${a}];
        `;const l=`
      void copyVec(int src[${p}], out int dest[${p}]) {
        ${u}
      }
      `;return{copyVec:new b.GlslLibRoutine(l)}}setVecItem(){const p=this.context.outputTextureLayout.shape.length;let u=`
        if(index < 0)
            index =${p} + index;
        if (index == 0)
            m[0] = value;
        `;for(let a=1;a<p-1;++a)u+=`
        else if (index == ${a})
            m[${a}] = value;
            `;u+=`
        else
            m[${p-1}] = value;
        `;const l=`
      void setVecItem(out int m[${p}], int index, int value) {
        ${u}
      }
        `;return{setVecItem:new b.GlslLibRoutine(l)}}getVecItem(){const p=this.context.outputTextureLayout.shape.length;let u=`
        if(index < 0)
            index = ${p} + index;
        if (index == 0)
            return m[0];
      `;for(let a=1;a<p-1;++a)u+=`
        else if (index == ${a})
            return m[${a}];
      `;u+=`
        else
            return m[${p-1}];
        `;const l=`
      int getVecItem(int m[${p}], int index) {
        ${u}
      }
    `;return{getVecItem:new b.GlslLibRoutine(l)}}}c.VecGlslLib=d},7860:(N,c,w)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.WebGLInferenceHandler=void 0;const b=w(1315),d=w(9240),h=w(7273),p=w(9),u=w(7379),l=w(2488),a=w(540),o=w(3314),n=w(5639);c.WebGLInferenceHandler=class{constructor(t){this.session=t,this.packedTextureDataCache=new Map,this.unpackedTextureDataCache=new Map}calculateTextureWidthAndHeight(t,e){return(0,o.calculateTextureWidthAndHeight)(this.session.layoutStrategy,t,e)}executeProgram(t,e){if(e.length<t.inputNames.length)throw new Error(`Input size mustn't be less than ${t.inputNames.length}.`);if(t.inputNames.length!==t.inputTypes.length)throw new Error("input names size does not match input types");const r=[];for(let y=0;y<t.inputNames.length;++y)r[y]=this.getOrCreateTextureData(e[y],t.inputTypes[y]);const i=((y,v)=>{const T=v.map(A=>`${A.unpackedShape.join(",")};${A.width}x${A.height}`).join("_");let x=y.name;return y.cacheHint&&(x+="["+y.cacheHint+"]"),x+=":"+T,x})(t,r);let s=this.session.programManager.getArtifact(i);const f=s?s.programInfo:typeof t.get=="function"?t.get():t,g=(0,o.createTextureLayoutFromTextureType)(this.session.layoutStrategy,f.output.dims,f.output.textureType),m=this.createTextureData(g,f.output.type);return s||(s=this.session.programManager.build(f,r,m),this.session.programManager.setArtifact(i,s)),this.runProgram(s,r,m),m}run(t,e){return this.executeProgram(t,e).tensor}runProgram(t,e,r){for(let i=0;i<e.length;++i)if(!!e[i].isPacked!=(t.programInfo.inputTypes[i]===n.TextureType.packed))throw new Error(`input[${i}] property packed inconsistent`);if(!!r.isPacked!=(t.programInfo.output.textureType===n.TextureType.packed))throw new Error("output property packed inconsistent");this.session.programManager.run(t,e,r)}getOrCreateTextureData(t,e){let r=this.getTextureData(t.dataId,e===n.TextureType.packed);if(!r&&(r=this.getTextureData(t.dataId,e!==n.TextureType.packed),r))return e===n.TextureType.packed?this.pack(r):this.unpack(r);if(!r){const i=(0,o.createTextureLayoutFromTextureType)(this.session.layoutStrategy,t.dims,e);if(e===n.TextureType.packedLastDimension){const g=t.dims;if(g.length===4){const m=[g[0],Math.ceil(g[1]*g[2]*g[3]/4)],y=(0,o.createTextureLayoutFromTextureType)(this.session.layoutStrategy,m,e);let v=t.numberData;if(g[1]*g[2]*g[3]%4!=0){const T=g[0],x=g[1]*g[2]*g[3],A=Math.ceil(x*1/4)*4;v=new Float32Array(T*A);for(let D=0;D<T;++D){const $=D*x,C=D*A+D%1*x;v.set(t.numberData.subarray($,$+x),C)}}return this.createTextureData(y,t.type,v,t,1)}}if(e===n.TextureType.packed){const s=(0,o.createTextureLayoutFromShape)(this.session.layoutStrategy,t.dims,1,[],{reverseWH:!0}),f=this.createTextureData(s,t.type,t.numberData,t,1);r=this.pack(f)}else r=this.createTextureData(i,t.type,t.numberData,t,1)}return r}createTextureDataFromLayoutBindTensor(t,e,r,i){return this.createTextureData(t,e,r,i,1)}createTextureData(t,e,r,i,s){b.Logger.verbose("InferenceHandler",`Creating TextureData: layout:[${JSON.stringify(t)}]`);const f=this.session.textureManager.createTextureFromLayout(e,t,r,s);return this.createTextureDataFromTexture(t,e,f,i)}reshapeUnpacked(t,e){const r=this.getOrCreateTextureData(t,n.TextureType.unpacked),i={channels:r.channels,height:r.height,width:r.width,shape:e.length!==0?e:[1],strides:h.ShapeUtil.computeStrides(e),unpackedShape:e};return this.createTextureDataFromTexture(i,t.type,r.texture).tensor}reshapePacked(t,e){const r=this.getOrCreateTextureData(t,n.TextureType.packed);if((0,u.isReshapeCheap)(t.dims,e)){const m={channels:r.channels,height:r.height,width:r.width,shape:e.length!==0?e:[1],strides:h.ShapeUtil.computeStrides(e),unpackedShape:e,isPacked:!0};return this.createTextureDataFromTexture(m,t.type,r.texture).tensor}const i=(0,u.processDims3D)(t.dims),s=(0,u.processDims3D)(e),f=this.reshapePacked(t,i),g=this.run((0,u.createPackedReshape3DProgramInfoLoader)(this,f,s),[f]);return this.reshapePacked(g,e)}cast(t,e){const r=this.getOrCreateTextureData(t,n.TextureType.unpacked);return this.createTextureDataFromTexture(r,e,r.texture).tensor}createTextureDataFromTexture(t,e,r,i,s){const f=Object.assign(Object.assign({},t),{tensor:i||new d.Tensor(t.unpackedShape,e,g=>this.readTexture(f),async g=>this.readTextureAsync(f),void 0,s),texture:r});return this.setTextureData(f.tensor.dataId,f,t.isPacked),f}getTextureData(t,e=!1){return this.session.isInitializer(t)?this.session.getTextureData(t,e):e?this.packedTextureDataCache.get(t):this.unpackedTextureDataCache.get(t)}setTextureData(t,e,r=!1){this.session.isInitializer(t)?this.session.setTextureData(t,e,r):(r?this.packedTextureDataCache:this.unpackedTextureDataCache).set(t,e)}isTextureLayoutCached(t,e=!1){return!!this.getTextureData(t.dataId,e)}dispose(){this.session.textureManager.clearActiveTextures(),this.packedTextureDataCache.forEach(t=>this.session.textureManager.releaseTexture(t)),this.packedTextureDataCache=new Map,this.unpackedTextureDataCache.forEach(t=>this.session.textureManager.releaseTexture(t)),this.unpackedTextureDataCache=new Map}readTexture(t){return t.isPacked?this.readTexture(this.unpack(t)):this.session.backend.glContext.isFloat32DownloadSupported?this.session.textureManager.readTexture(t,t.tensor.type,t.channels):this.session.textureManager.readUint8TextureAsFloat((0,l.encodeAsUint8)(this,t))}async readTextureAsync(t){return t.isPacked?this.readTextureAsync(this.unpack(t)):this.session.backend.glContext.isFloat32DownloadSupported?this.session.textureManager.readTextureAsync(t,t.tensor.type,t.channels):this.session.textureManager.readUint8TextureAsFloat((0,l.encodeAsUint8)(this,t))}pack(t){return this.executeProgram((0,p.createPackProgramInfoLoader)(this,t.tensor),[t.tensor])}unpack(t){return this.executeProgram((0,a.createUnpackProgramInfoLoader)(this,t.tensor),[t.tensor])}}},4110:function(N,c,w){var b=this&&this.__createBinding||(Object.create?function(K,X,J,tt){tt===void 0&&(tt=J);var nt=Object.getOwnPropertyDescriptor(X,J);nt&&!("get"in nt?!X.__esModule:nt.writable||nt.configurable)||(nt={enumerable:!0,get:function(){return X[J]}}),Object.defineProperty(K,tt,nt)}:function(K,X,J,tt){tt===void 0&&(tt=J),K[tt]=X[J]}),d=this&&this.__setModuleDefault||(Object.create?function(K,X){Object.defineProperty(K,"default",{enumerable:!0,value:X})}:function(K,X){K.default=X}),h=this&&this.__importStar||function(K){if(K&&K.__esModule)return K;var X={};if(K!=null)for(var J in K)J!=="default"&&Object.prototype.hasOwnProperty.call(K,J)&&b(X,K,J);return d(X,K),X};Object.defineProperty(c,"__esModule",{value:!0}),c.WEBGL_OP_RESOLVE_RULES=void 0;const p=w(8817),u=h(w(5194)),l=w(4752),a=w(6668),o=w(9754),n=w(5042),t=w(6742),e=w(4125),r=w(6149),i=w(5378),s=w(6981),f=w(7413),g=w(7006),m=w(8276),y=w(5565),v=w(2834),T=w(1010),x=w(8126),A=w(2801),D=w(565),$=w(2444),C=w(815),M=w(564),S=w(5416),U=w(1240),O=w(5944),E=w(5707),F=h(w(9087)),W=w(7862),H=w(3980);c.WEBGL_OP_RESOLVE_RULES=[["Abs","","6+",F.abs],["Acos","","7+",F.acos],["Add","","7+",u.add],["And","","7+",u.and],["Asin","","7+",F.asin],["Atan","","7+",F.atan],["AveragePool","","7+",v.averagePool,v.parseAveragePoolAttributes],["BatchNormalization","","7+",p.batchNormalization,p.parseBatchNormalizationAttributes],["Cast","","6+",l.cast,l.parseCastAttributes],["Ceil","","6+",F.ceil],["Clip","","6-10",F.clip,F.parseClipAttributes],["Clip","","11+",F.clipV11],["Concat","","4+",a.concat,a.parseConcatAttributes],["Conv","","1+",o.conv,o.parseConvAttributes],["ConvTranspose","","1+",n.convTranspose,n.parseConvTransposeAttributes],["Cos","","7+",F.cos],["Div","","7+",u.div],["Dropout","","7+",F.identity],["DepthToSpace","","1+",t.depthToSpace,t.parseDepthToSpaceAttributes],["Equal","","7+",u.equal],["Elu","","6+",F.elu,F.parseEluAttributes],["Exp","","6+",F.exp],["Flatten","","1+",e.flatten,e.parseFlattenAttributes],["Floor","","6+",F.floor],["FusedConv","com.microsoft","1+",o.conv,o.parseConvAttributes],["Gather","","1+",r.gather,r.parseGatherAttributes],["Gemm","","7-10",i.gemm,i.parseGemmAttributesV7],["Gemm","","11+",i.gemm,i.parseGemmAttributesV11],["GlobalAveragePool","","1+",v.globalAveragePool,v.parseGlobalAveragePoolAttributes],["GlobalMaxPool","","1+",v.globalMaxPool],["Greater","","7+",u.greater],["Identity","","1+",F.identity],["ImageScaler","","1+",s.imageScaler,s.parseImageScalerAttributes],["InstanceNormalization","","6+",f.instanceNormalization,f.parseInstanceNormalizationAttributes],["LeakyRelu","","6+",F.leakyRelu,F.parseLeakyReluAttributes],["Less","","7+",u.less],["LRN","","1+",g.lrn,g.parseLrnAttributes],["Log","","6+",F.log],["MatMul","","1+",m.matMul,m.parseMatMulAttributes],["MaxPool","","1+",v.maxPool,v.parseMaxPoolAttributes],["Mul","","7+",u.mul],["Neg","","6+",F.neg],["Not","","1+",F.not],["Or","","7+",u.or],["Pad","","2-10",y.padV2,y.parsePadAttributesV2],["Pad","","11+",y.padV11,y.parsePadAttributesV11],["Pow","","7+",u.pow],["PRelu","","7+",u.pRelu],["ReduceLogSum","","1+",T.reduceLogSum,T.parseReduceAttributes],["ReduceMax","","1+",T.reduceMax,T.parseReduceAttributes],["ReduceMean","","1+",T.reduceMean,T.parseReduceAttributes],["ReduceMin","","1+",T.reduceMin,T.parseReduceAttributes],["ReduceProd","","1+",T.reduceProd,T.parseReduceAttributes],["ReduceSum","","1-12",T.reduceSum,T.parseReduceAttributes],["ReduceSumSquare","","1+",T.reduceLogSumSquare,T.parseReduceAttributes],["Relu","","6+",F.relu],["Reshape","","5+",x.reshape],["Resize","","10",A.resize,A.parseResizeAttributesV10],["Resize","","11+",A.resize,A.parseResizeAttributesV11],["Shape","","1+",D.shape],["Sigmoid","","6+",F.sigmoid],["Sin","","7+",F.sin],["Slice","","10+",$.sliceV10],["Slice","","1-9",$.slice,$.parseSliceAttributes],["Softmax","","1-12",C.softmax,C.parseSoftmaxAttributes],["Softmax","","13+",C.softmaxV13,C.parseSoftmaxAttributesV13],["Split","","2-12",M.split,M.parseSplitAttributes],["Sqrt","","6+",F.sqrt],["Squeeze","","1-12",S.squeeze,S.parseSqueezeAttributes],["Squeeze","","13+",S.squeezeV13],["Sub","","7+",u.sub],["Sum","","6+",U.sum],["Tan","","7+",F.tan],["Tanh","","6+",F.tanh],["Tile","","6+",O.tile],["Transpose","","1+",E.transpose,E.parseTransposeAttributes],["Upsample","","7-8",H.upsample,H.parseUpsampleAttributesV7],["Upsample","","9",H.upsample,H.parseUpsampleAttributesV9],["Unsqueeze","","1-12",W.unsqueeze,W.parseUnsqueezeAttributes],["Unsqueeze","","13+",W.unsqueezeV13],["Xor","","7+",u.xor]]},8817:(N,c,w)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.parseBatchNormalizationAttributes=c.batchNormalization=void 0;const b=w(4910),d=w(6757),h=w(5639),p={name:"BatchNormalization",inputNames:["A","Scale","B","Mean","Variance"],inputTypes:[h.TextureType.unpacked,h.TextureType.unpacked,h.TextureType.unpacked,h.TextureType.unpacked,h.TextureType.unpacked]};c.batchNormalization=(a,o,n)=>(l(o),[a.run(Object.assign(Object.assign({},p),{cacheHint:n.cacheKey,get:()=>u(a,o,n)}),o)]),c.parseBatchNormalizationAttributes=a=>{const o=a.attributes.getFloat("epsilon",1e-5),n=a.attributes.getFloat("momentum",.9),t=a.attributes.getInt("spatial",1);return(0,b.createAttributeWithCacheKey)({epsilon:o,momentum:n,spatial:t})};const u=(a,o,n)=>{const t=(0,d.getGlsl)(a.session.backend.glContext.version),e=o[0].dims.length,[r,i]=a.calculateTextureWidthAndHeight(o[1].dims,h.TextureType.unpacked),s=`
  float process(int[${e}] indices) {
    vec2 position = offsetToCoords(indices[1], ${r}, ${i});
    float scale = getColorAsFloat(${t.texture2D}(Scale, position));
    float mean = getColorAsFloat(${t.texture2D}(Mean, position));
    float variance = getColorAsFloat(${t.texture2D}(Variance, position));
    float b = getColorAsFloat(${t.texture2D}(B, position));

    return scale * ( (_A(indices) - mean) / sqrt(variance + float(${n.epsilon})) ) + b;
  }`;return Object.assign(Object.assign({},p),{output:{dims:o[0].dims,type:o[0].type,textureType:h.TextureType.unpacked},shaderSource:s})},l=a=>{if(!a||a.length!==5)throw new Error("BatchNormalization requires 5 inputs.");const o=a[0],n=a[1],t=a[2],e=a[3],r=a[4];if(o.dims.length<3||n.dims.length!==1||t.dims.length!==1||e.dims.length!==1||r.dims.length!==1)throw new Error("invalid input shape.");if(n.dims[0]!==o.dims[1]||t.dims[0]!==o.dims[1]||e.dims[0]!==o.dims[1]||r.dims[0]!==o.dims[1])throw new Error("invalid input shape.");if(o.type!=="float32"&&o.type!=="float64"||n.type!=="float32"&&n.type!=="float64"||t.type!=="float32"&&t.type!=="float64"||e.type!=="float32"&&e.type!=="float64"||r.type!=="float32"&&r.type!=="float64")throw new Error("invalid input tensor types.")}},5194:(N,c,w)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.xor=c.sub=c.pRelu=c.pow=c.or=c.mul=c.less=c.greater=c.equal=c.div=c.and=c.add=c.glslPRelu=c.glslPow=c.glslXor=c.glslOr=c.glslAnd=c.glslLess=c.glslGreater=c.glslEqual=c.glslSub=c.glslMul=c.glslDiv=c.glslAdd=void 0;const b=w(7273),d=w(1997),h=w(6757),p=w(5639);function u(){const v="add_";return{body:`
  float ${v}(float a, float b) {
    return a + b;
  }
  vec4 ${v}(vec4 v1, vec4 v2) {
    return v1 + v2;
  }
  `,name:v,type:d.FunctionType.ValueBased}}function l(){const v="div_";return{body:`
  float ${v}(float a, float b) {
    return a / b;
  }
  vec4 ${v}(vec4 v1, vec4 v2) {
    return v1 / v2;
  }
  `,name:v,type:d.FunctionType.ValueBased}}function a(){const v="mul_";return{body:`
  float ${v}(float a, float b) {
    return a * b;
  }
  vec4 ${v}(vec4 v1, vec4 v2) {
    return v1 * v2;
  }
  `,name:v,type:d.FunctionType.ValueBased}}function o(){const v="sub_";return{body:`
  float ${v}(float a, float b) {
    return a - b;
  }
  vec4 ${v}(vec4 v1, vec4 v2) {
    return v1 - v2;
  }
  `,name:v,type:d.FunctionType.ValueBased}}function n(){const v="equal_";return{body:`
  float ${v}(float a, float b) {
    return float(a == b);
  }
  vec4 ${v}(vec4 v1, vec4 v2) {
    return vec4(equal(v1, v2));
  }
  `,name:v,type:d.FunctionType.ValueBased}}function t(){const v="greater_";return{body:`
  float ${v}(float a, float b) {
    return float(a > b);
  }
  vec4 ${v}(vec4 v1, vec4 v2) {
    return vec4( v1.r > v2.r ,
      v1.g > v2.g,
      v1.b > v2.b,
      v1.a > v2.a );
  }
  `,name:v,type:d.FunctionType.ValueBased}}function e(){const v="less_";return{body:`
  float ${v}(float a, float b) {
    return float(a < b);
  }
  vec4 ${v}(vec4 v1, vec4 v2) {
    return vec4( v1.r < v2.r ,
                v1.g < v2.g,
                v1.b < v2.b,
                v1.a < v2.a );
  }
  `,name:v,type:d.FunctionType.ValueBased}}function r(){const v="and_";return{body:`
  float ${v}(float a, float b) {
    return float( bool(a) && bool(b) );
  }
  vec4 ${v}(vec4 v1, vec4 v2) {
    bvec4 b1 = bvec4(v1);
    bvec4 b2 = bvec4(v2);
    return vec4( b1.r && b2.r ,
                b1.g && b2.g,
                b1.b && b2.b,
                b1.a && b2.a );
  }
  `,name:v,type:d.FunctionType.ValueBased}}function i(){const v="or_";return{body:`
  float ${v}(float a, float b) {
    return float( bool(a) || bool(b) );
  }
  vec4 ${v}(vec4 v1, vec4 v2) {
    bvec4 b1 = bvec4(v1);
    bvec4 b2 = bvec4(v2);
    return vec4( b1.r || b2.r ,
                b1.g || b2.g,
                b1.b || b2.b,
                b1.a || b2.a );
  }
  `,name:v,type:d.FunctionType.ValueBased}}function s(){const v="xor_";return{body:`
  float ${v}(float a, float b) {
    return float( bool(a) ^^ bool(b) );
  }
  vec4 ${v}(vec4 v1, vec4 v2) {
    bvec4 b1 = bvec4(v1);
    bvec4 b2 = bvec4(v2);
    return vec4( b1.r ^^ b2.r ,
                b1.g ^^ b2.g,
                b1.b ^^ b2.b,
                b1.a ^^ b2.a );
  }
  `,name:v,type:d.FunctionType.ValueBased}}function f(){return function(v){const T=`${v}_`;return{body:`
  float ${T}(float a, float b) {
    return ${v}(a, b);
  }
  vec4 ${T}(vec4 v1, vec4 v2) {
    return ${v}(v1, v2);
  }
  `,name:T,type:d.FunctionType.ValueBased}}("pow")}function g(){const v="prelu_";return{body:`
  float ${v}(float a, float b) {
    return a < 0.0 ? a * b: a;
  }
  vec4 ${v}(vec4 v1, vec4 v2) {
    return vec4(
      v1.r < 0.0 ? v1.r * v2.r: v1.r,
      v1.g < 0.0 ? v1.g * v2.g: v1.g,
      v1.b < 0.0 ? v1.b * v2.b: v1.b,
      v1.a < 0.0 ? v1.a * v2.a: v1.a
      );
  }
  `,name:v,type:d.FunctionType.ValueBased}}c.glslAdd=u,c.glslDiv=l,c.glslMul=a,c.glslSub=o,c.glslEqual=n,c.glslGreater=t,c.glslLess=e,c.glslAnd=r,c.glslOr=i,c.glslXor=s,c.glslPow=f,c.glslPRelu=g;const m=(v,T,x,A=T[0].type,D)=>{const $=v.session.pack?p.TextureType.packed:p.TextureType.unpacked;return{name:x.name,inputNames:["A","B"],inputTypes:[$,$],cacheHint:D,get:()=>y(v,T,x,A)}},y=(v,T,x,A=T[0].type)=>{const D=v.session.pack?p.TextureType.packed:p.TextureType.unpacked,$=!b.ShapeUtil.areEqual(T[0].dims,T[1].dims);let C=T[0].dims;const M=v.session.pack;if($){const O=b.BroadcastUtil.calcShape(T[0].dims,T[1].dims,!1);if(!O)throw new Error("Can't perform binary op on the given tensors");C=O;const E=C.length,F=T[0].dims.length!==0?T[0].dims.length:1,W=T[1].dims.length!==0?T[1].dims.length:1,H=T[0].dims.length!==0?"bcastIndices_A(indices, aindices);":"aindices[0] = 0;",K=T[1].dims.length!==0?"bcastIndices_B(indices, bindices);":"bindices[0] = 0;",X=(0,h.getGlsl)(v.session.backend.glContext.version),J=M?`
      ${x.body}
      void main() {
        vec4 a = getAAtOutCoords();
        vec4 b = getBAtOutCoords();
        vec4 result = ${x.name}(a, b);
        ${X.output} = result;
      }`:`
      ${x.body}
      float process(int indices[${E}]) {
        int aindices[${F}];
        int bindices[${W}];
        ${H}
        ${K}
        return ${x.name}(_A(aindices), _B(bindices));
      }`;return{name:x.name,inputNames:["A","B"],inputTypes:[D,D],output:{dims:C,type:A,textureType:D},shaderSource:J,hasMain:M}}const S=(0,h.getGlsl)(v.session.backend.glContext.version),U=`
    ${x.body}
    void main() {
      vec4 v1 = ${S.texture2D}(A, TexCoords);
      vec4 v2 = ${S.texture2D}(B, TexCoords);
      vec4 result = ${x.name}(v1, v2);
      ${S.output} = result;
    }
    `;return{name:x.name,inputNames:["A","B"],inputTypes:[D,D],output:{dims:T[0].dims,type:A,textureType:D},shaderSource:U,hasMain:!0}};c.add=(v,T)=>[v.run(m(v,T,u()),T)],c.and=(v,T)=>[v.run(m(v,T,r(),"bool"),T)],c.div=(v,T)=>[v.run(m(v,T,l()),T)],c.equal=(v,T)=>[v.run(m(v,T,n(),"bool"),T)],c.greater=(v,T)=>[v.run(m(v,T,t(),"bool"),T)],c.less=(v,T)=>[v.run(m(v,T,e(),"bool"),T)],c.mul=(v,T)=>[v.run(m(v,T,a()),T)],c.or=(v,T)=>[v.run(m(v,T,i(),"bool"),T)],c.pow=(v,T)=>[v.run(m(v,T,f()),T)],c.pRelu=(v,T)=>[v.run(m(v,T,g()),T)],c.sub=(v,T)=>[v.run(m(v,T,o()),T)],c.xor=(v,T)=>[v.run(m(v,T,s(),"bool"),T)]},4752:(N,c,w)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.parseCastAttributes=c.cast=void 0;const b=w(7273);c.cast=(h,p,u)=>(d(p),[h.cast(p[0],u)]),c.parseCastAttributes=h=>b.ProtoUtil.tensorDataTypeFromProto(h.attributes.getInt("to"));const d=h=>{if(!h||h.length!==1)throw new Error("Cast requires 1 input.");if(h[0].type==="string")throw new Error("Invalid input type.")}},4595:(N,c,w)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.createPackedConcatProgramInfoLoader=void 0;const b=w(6757),d=w(5639),h=w(432),p=w(5614);c.createPackedConcatProgramInfoLoader=(l,a,o)=>{const n=(t=a.length,e=o.cacheKey,{name:"Concat (packed)",inputNames:Array.from({length:t},(r,i)=>`X${i}`),inputTypes:Array(t).fill(d.TextureType.packed),cacheHint:e});var t,e;return Object.assign(Object.assign({},n),{get:()=>((r,i,s,f)=>{const g=s[0].dims.slice();if(f>=g.length||f<-1*g.length)throw new Error("axis specified for concat doesn't match input dimensionality");f<0&&(f=g.length+f);const m=g.slice(0);for(let H=1;H<s.length;H++){const K=s[H].dims.slice();for(let X=0;X<g.length;X++)if(X===f)m[f]+=K[X];else if(g[X]!==K[X])throw new Error("non concat dimensions must match")}const y=m.length,v=(0,p.getChannels)("coords",y),T=(0,h.getCoordsDataType)(y),x=(0,p.unpackFromChannel)(),A=s.map(H=>H.dims),D=(0,h.getGlChannels)(y),$=new Array(A.length-1);$[0]=A[0][f];for(let H=1;H<$.length;H++)$[H]=$[H-1]+A[H][f];const C=D[f],M=D.slice(-2),S=D.join();let U=`if (${C} < ${$[0]}) {
        return getChannel(
            getX0(${S}), vec2(${M.join()}));
        }`;for(let H=1;H<$.length;H++){const K=$[H-1];U+=`
            if (${C} < ${$[H]}  && ${C} >= ${$[H-1]}) {
              return getChannel(
                getX${H}(${u(D,C,K)}),
                vec2(${u(M,C,K)}));
            }`}const O=$.length,E=$[$.length-1];U+=`
            return getChannel(
              getX${O}(${u(D,C,E)}),
              vec2(${u(M,C,E)}));`;const F=(0,b.getGlsl)(r.session.backend.glContext.version),W=`
          ${x}
          float getValue(${D.map(H=>"int "+H)}) {
            ${U}
          }

          void main() {
            ${T} coords = getOutputCoords();
            int lastDim = coords.${D[y-1]};
            coords.${D[y-1]} = coords.${D[y-2]};
            coords.${D[y-2]} = lastDim;

            vec4 result = vec4(getValue(${v}), 0., 0., 0.);

            ${v[y-1]} = ${v[y-1]} + 1;
            if (${v[y-1]} < ${m[y-1]}) {
              result.g = getValue(${v});
            }

            ${v[y-2]} = ${v[y-2]} + 1;
            if (${v[y-2]} < ${m[y-2]}) {
              result.a = getValue(${v});
            }

            ${v[y-1]} = ${v[y-1]} - 1;
            if (${v[y-2]} < ${m[y-2]} &&
                ${v[y-1]} < ${m[y-1]}) {
              result.b = getValue(${v});
            }
            ${F.output} = result;
          }
        `;return Object.assign(Object.assign({},i),{output:{dims:m,type:s[0].type,textureType:d.TextureType.packed},shaderSource:W,hasMain:!0})})(l,n,a,o.axis)})};const u=(l,a,o)=>{const n=l.indexOf(a);return l.map((t,e)=>e===n?`${t} - ${o}`:t).join()}},6668:(N,c,w)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.parseConcatAttributes=c.concat=void 0;const b=w(4910),d=w(5639),h=w(4595);c.concat=(t,e,r)=>(n(e),t.session.pack&&e[0].dims.length>1?[t.run((0,h.createPackedConcatProgramInfoLoader)(t,e,r),e)]:[t.run(p(t,e,r),e)]);const p=(t,e,r)=>{const i=(s=e.length,f=r.cacheKey,{name:"Concat",inputNames:Array.from({length:s},(g,m)=>`X${m}`),inputTypes:Array(s).fill(d.TextureType.unpacked),cacheHint:f});var s,f;return Object.assign(Object.assign({},i),{get:()=>((g,m,y,v)=>{const T=y[0].dims.slice();if(v>=T.length||v<-1*T.length)throw new Error("axis specified for concat doesn't match input dimensionality");v<0&&(v=T.length+v);const x=T.slice(0);for(let S=1;S<y.length;S++){const U=y[S].dims.slice();for(let O=0;O<T.length;O++)if(O===v)x[v]+=U[O];else if(T[O]!==U[O])throw new Error("non concat dimensions must match")}const A=x.length,D=new Array(y.length);let $=0;for(let S=0;S<D.length;++S)$+=y[S].dims[v],D[S]=$;let C="";C=y.length<5?u(D):l(D);const M=`
        ${a(y.length,A)}
        ${o(D)}
        ${C}
        float process(int indices[${A}]) {
          int textureIndex = getTextureWhereDataResides (indices[${v}]);

          if(textureIndex != 0) {
            indices[${v}] = indices[${v}] - int(getSizeInConcatAxisValueFromIndex(textureIndex-int(1)));
          }

          return fetchDataFromCorrectTexture(textureIndex, indices);
        }`;return Object.assign(Object.assign({},m),{output:{dims:x,type:y[0].type,textureType:d.TextureType.unpacked},shaderSource:M})})(0,i,e,r.axis)})},u=t=>`int getTextureWhereDataResides(int index) {
      ${t.map((e,r)=>`if(index<${e}) {return ${r};}
`).join("")}
    }`,l=t=>u(t),a=(t,e)=>{const r=[`float fetchDataFromCorrectTexture(int textureIndex, int indices[${e}]) {`];for(let i=0;i<t;++i)i===0?r.push(`	if (textureIndex == ${i}) { return _X${i}(indices); }`):i===t-1?r.push(`	else { return _X${i}(indices); }`):r.push(`	else if (textureIndex == ${i}) { return _X${i}(indices); }`);return r.push("	}"),r.join(`
`)},o=t=>{const e=["int getSizeInConcatAxisValueFromIndex(int index) {"];for(let r=0;r<t.length;++r)r===0?e.push(`	if (index == ${r}) { return ${t[r]}; }`):r===t.length-1?e.push(`	else { return ${t[r]}; }`):e.push(`	else if (index == ${r}) { return ${t[r]}; }`);return e.push("	}"),e.join(`
`)};c.parseConcatAttributes=t=>(0,b.createAttributeWithCacheKey)({axis:t.attributes.getInt("axis")});const n=t=>{if(!t||t.length<1)throw new Error("too few inputs");const e=t[0].type,r=t[0].dims.length;if(e==="string")throw new Error("string tensor is not supported yet");for(const i of t){if(i.type!==e)throw new Error("input tensors should be one type");if(i.dims.length!==r)throw new Error("input tensors should have the same shape")}}},7825:(N,c,w)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.createUnpackedGroupedConvProgramInfoLoader=void 0;const b=w(1315),d=w(6757),h=w(5639),p=w(9754),u=w(2150);c.createUnpackedGroupedConvProgramInfoLoader=(l,a,o)=>{const n=(t=a.length>2,e=o.cacheKey,{name:"GroupedConv",inputNames:t?["X","W","Bias"]:["X","W"],inputTypes:t?[h.TextureType.unpacked,h.TextureType.unpacked,h.TextureType.unpacked]:[h.TextureType.unpacked,h.TextureType.unpacked],cacheHint:e});var t,e;return Object.assign(Object.assign({},n),{get:()=>((r,i,s,f)=>{const g=i.length>2?"value += getBias(output_channel);":"",m=i[0].dims.slice(),y=i[1].dims.slice(),v=y[0]/f.group;b.Logger.verbose("GroupedConv",`autpPad:${f.autoPad}, dilations:${f.dilations}, group:${f.group}, kernelShape:${f.kernelShape}, pads:${f.pads}, strides:${f.strides}`);const T=(0,p.calculateOutputShape)(m,y,f.dilations,f.pads,f.strides),x=(0,d.getGlsl)(r.session.backend.glContext.version),{activationFunction:A,applyActivation:D}=(0,u.getActivationSnippet)(f),$=`
  const ivec2 strides = ivec2(${f.strides[0]}, ${f.strides[1]});
  const ivec2 pads = ivec2(${f.pads[0]}, ${f.pads[1]});
  ${A}
  void main() {
    ivec4 coords = getOutputCoords();
    int batch = coords.x;
    int output_channel = coords.y;
    ivec2 xRCCorner = coords.zw * strides - pads;
    int group_id = output_channel / ${v};

    float value = 0.0;
    for (int wInChannel = 0; wInChannel < ${y[1]}; wInChannel++) {
      int input_channel = group_id * ${y[1]} + wInChannel;
      for (int wHeight = 0; wHeight < ${y[2]}; wHeight++) {
        int xHeight = xRCCorner.x + wHeight * ${f.dilations[0]};

        if (xHeight < 0 || xHeight >= ${m[2]}) {
          continue;
        }

        for (int wWidth = 0; wWidth < ${y[3]}; wWidth++) {
          int xWidth = xRCCorner.y + wWidth * ${f.dilations[1]};
          if (xWidth < 0 || xWidth >= ${m[3]}) {
            continue;
          }

          float xVal = getX(batch, input_channel, xWidth, xHeight);
          float wVal = getW(output_channel, wInChannel, wWidth, wHeight);
          value += xVal*wVal;
        }
      }
    }
    ${g}
    ${D}
    ${x.output} = vec4(value, .0, .0, .0);
  }
`;return Object.assign(Object.assign({},s),{output:{dims:T,type:i[0].type,textureType:h.TextureType.unpacked},shaderSource:$,hasMain:!0})})(l,a,n,o)})}},7708:(N,c,w)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.conv2DPacked=c.conv2DPackedPointwise=void 0;const b=w(9754),d=w(5950),h=w(5632);c.conv2DPackedPointwise=(p,u,l)=>{const a=u[0].dims,o=u[1].dims,n=(0,b.calculateOutputShape)(a,o,l.dilations,l.pads,l.strides),t=p.reshapePacked(u[0],[a[1],a[2]*a[3]]),e=p.reshapePacked(u[1],[o[0],o[1]]),r=u.length>2?[e,t,u[2]]:[e,t],i=p.run((0,h.createPackedMatmulProgramInfoLoader)(p,r,l),r);return p.reshapePacked(i,n)},c.conv2DPacked=(p,u,l)=>{const a=u[0].dims,o=u[1].dims,n=(0,b.calculateOutputShape)(a,o,l.dilations,l.pads,l.strides),t=p.run((0,d.createPackedIm2ColProgramInfoLoader)(p,u[0],u[1],n,l),[u[0]]),e=p.reshapePacked(u[1],[o[0],o[1]*o[2]*o[3]]),r=u.length===3?[e,t,u[2]]:[e,t],i=p.run((0,h.createPackedMatmulProgramInfoLoader)(p,r,l),r);return p.reshapePacked(i,n)}},5042:(N,c,w)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.parseConvTransposeAttributes=c.convTranspose=void 0;const b=w(4910),d=w(6757),h=w(5639),p=w(2150),u=(e,r,i,s,f,g)=>(e-1)*r+i+(s-1)*f+1-g,l=(e,r,i,s,f)=>{const g=Math.floor(e/2);r==="SAME_UPPER"?(i[s]=g,i[f]=e-g):r==="SAME_LOWER"&&(i[s]=e-g,i[f]=g)};c.convTranspose=(e,r,i)=>(t(r,i),a(e,r,i));const a=(e,r,i)=>{const s=n(i,r);return[o(e,r,s)]},o=(e,r,i)=>e.run(((s,f,g)=>{const m=(y=f.length>2,v=g.cacheKey,{name:"ConvTranspose",inputNames:y?["X","W","B"]:["X","W"],inputTypes:y?[h.TextureType.unpacked,h.TextureType.unpacked,h.TextureType.unpacked]:[h.TextureType.unpacked,h.TextureType.unpacked],cacheHint:v});var y,v;return Object.assign(Object.assign({},m),{get:()=>((T,x,A,D)=>{const $=x.length>2?"getB(output_channel)":"0.0",C=x[0].dims,M=x[1].dims,S=M[1],U=M[0]/D.group,O=[x[0].dims[0],x[1].dims[1]*D.group,...D.outputShape],E=(0,d.getGlsl)(T.session.backend.glContext.version),{activationFunction:F,applyActivation:W}=(0,p.getActivationSnippet)(D),H=`
  const ivec2 strides = ivec2(${D.strides[0]}, ${D.strides[1]});
  const ivec2 pads = ivec2(${D.pads[0]}, ${D.pads[1]});
  ${F}
  void main() {
    ivec4 coords = getOutputCoords();
    int batch = coords.x;
    int output_channel = coords.y;

    ivec2 loc = coords.zw + pads;

    int group_id = output_channel / ${S};
    int wOutChannel = output_channel - group_id * ${S};

    float value = ${$};
    for (int inChannelOffset = 0; inChannelOffset < ${U}; inChannelOffset++) {
      int input_channel = group_id * ${U} + inChannelOffset;
      for (int wWOff = 0; wWOff < ${M[2]}; wWOff++) {
        for (int wHOff = 0; wHOff < ${M[3]}; wHOff++) {
          ivec2 wOff = ivec2(wWOff * ${D.dilations[0]}, wHOff * ${D.dilations[1]});
          ivec2 wLoc = loc - wOff;
          ivec2 wLocIn = wLoc / strides;
          if (
            wLocIn * strides == wLoc &&
            wLocIn.x >= 0 && wLocIn.x < ${C[2]} &&
            wLocIn.y >= 0 && wLocIn.y < ${C[3]}
          ) {
            float xVal = getX(batch, input_channel, wLocIn.y, wLocIn.x);
            float wVal = getW(input_channel, wOutChannel, wHOff, wWOff);
            value += xVal * wVal;
          }
        }
      }
    }
    ${W}
    ${E.output} = vec4(value, .0, .0, .0);
  }
`;return Object.assign(Object.assign({},A),{output:{dims:O,type:x[0].type,textureType:h.TextureType.unpacked},shaderSource:H,hasMain:!0})})(s,f,m,g)})})(e,r,i),r),n=(e,r)=>{const i=e.kernelShape.slice();if(e.kernelShape.length===0)for(let m=2;m<r[1].dims.length;++m)i.push(r[1].dims[m]);const s=e.pads.slice(),f=e.outputShape.slice();((m,y,v,T,x,A,D,$)=>{const C=m.length-2,M=$.length===0;for(let S=0;S<C;++S){const U=M?m[S+2]*A[S]:$[S],O=u(m[S+2],A[S],x[S],y[S],v[S],U);l(O,T,x,S,S+C),M&&$.push(A[S]*(m[S+2]-1)+D[S]+(y[S]-1)*v[S]+1-x[S]-x[S+C])}})(r[0].dims,i,e.dilations,e.autoPad,s,e.strides,e.outputPadding,f);const g=Object.assign({},e);return Object.assign(g,{kernelShape:i,pads:s,outputShape:f,cacheKey:e.cacheKey}),g};c.parseConvTransposeAttributes=e=>{const r=e.attributes,i=(0,p.parseInternalActivationAttributes)(r),s=r.getString("auto_pad","NOTSET"),f=r.getInts("dilations",[1,1]),g=r.getInt("group",1),m=r.getInts("kernel_shape",[]),y=r.getInts("output_padding",[0,0]),v=r.getInts("output_shape",[]),T=r.getInts("pads",[0,0,0,0]),x=r.getInts("strides",[1,1]);return(0,b.createAttributeWithCacheKey)(Object.assign({autoPad:s,dilations:f,group:g,kernelShape:m,outputPadding:y,outputShape:v,pads:T,strides:x},i))};const t=(e,r)=>{if(!e||e.length!==2&&e.length!==3)throw new Error("Conv requires 2 or 3 inputs");if(e[0].dims.length!==4||e[1].dims.length!==4)throw new Error("currently only support 2-dimensional conv");if(e[0].dims[1]!==e[1].dims[0])throw new Error("FILTER_IN_CHANNEL should be equal to DATA_CHANNEL");const i=e[1].dims[1]*r.group;if(e.length===3&&(e[2].dims.length!==1||e[2].dims[0]!==i))throw new Error("invalid bias");const s=e[0].dims.length-2;if(r.dilations.length!==s)throw new Error(`dilations should be ${s}D`);if(r.strides.length!==s)throw new Error(`strides should be ${s}D`);if(r.pads.length!==2*s)throw new Error(`pads should be ${2*s}D`);if(r.outputPadding.length!==s)throw new Error(`output_padding should be ${s}D`);if(r.kernelShape.length!==0&&r.kernelShape.length!==e[1].dims.length-2)throw new Error("invalid kernel shape");if(r.outputShape.length!==0&&r.outputShape.length!==e[0].dims.length-2)throw new Error("invalid output shape");if(e[0].type!=="float32"||e[1].type!=="float32")throw new Error("ConvTranspose input(X,W) should be float tensor");if(e.length===3&&e[2].type!=="float32")throw new Error("ConvTranspose input(bias) should be float tensor")}},9754:(N,c,w)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.parseConvAttributes=c.conv=c.calculateOutputShape=void 0;const b=w(4910),d=w(7273),h=w(7825),p=w(7708),u=w(3281),l=w(2150),a=w(1625),o=w(8276);c.calculateOutputShape=(s,f,g,m,y)=>{const v=s[0],T=s.slice(2),x=T.length,A=f[0],D=f.slice(2).map((C,M)=>C+(C-1)*(g[M]-1)),$=T.map((C,M)=>C+m[M]+m[M+x]).map((C,M)=>Math.floor((C-D[M]+y[M])/y[M]));return[v,A].concat(...$)},c.conv=(s,f,g)=>(i(f,g),n(s,f,g));const n=(s,f,g)=>{const m=r(g,f),y=s.session.pack,v=m.kernelShape[0]===1&&m.kernelShape[1]===1;return m.group>1?[s.run((0,h.createUnpackedGroupedConvProgramInfoLoader)(s,f,m),f)]:v&&y?[t(s,f,m)]:y&&f[0].dims.length===4&&f[0].dims[0]===1&&!v?[(0,p.conv2DPacked)(s,f,m)]:[e(s,f,m)]},t=(s,f,g)=>{const m=f[0].dims,y=f[1].dims,v=(0,c.calculateOutputShape)(m,y,g.dilations,g.pads,g.strides),T=s.reshapeUnpacked(f[0],[m[1],m[2]*m[3]]),x=s.reshapeUnpacked(f[1],[y[0],y[1]]),A=f.length>2?[x,T,f[2]]:[x,T],D=s.run((0,o.createMatmulProgramInfoLoader)(A,g),A);return s.reshapeUnpacked(D,v)},e=(s,f,g)=>{const m=f[0].dims,y=f[1].dims,v=(0,c.calculateOutputShape)(m,y,g.dilations,g.pads,g.strides),T=s.run((0,a.createIm2ColProgramInfoLoader)(s,f[0],f[1],v,g),[f[0]]),x=f.length===3?[T,f[1],f[2]]:[T,f[1]];return s.run((0,u.createDotProductProgramInfoLoader)(s,f,v,g),x)},r=(s,f)=>{const g=s.kernelShape.slice();if(s.kernelShape.length===0)for(let v=2;v<f[1].dims.length;++v)g.push(f[1].dims[v]);const m=s.pads.slice();d.PoolConvUtil.adjustPadsBasedOnAutoPad(f[0].dims,s.strides,s.dilations,g,m,s.autoPad);const y=Object.assign({},s);return Object.assign(y,{kernelShape:g,pads:m,cacheKey:s.cacheKey}),y};c.parseConvAttributes=s=>{const f=s.attributes,g=(0,l.parseInternalActivationAttributes)(f),m=f.getString("auto_pad","NOTSET"),y=f.getInts("dilations",[1,1]),v=f.getInt("group",1),T=f.getInts("kernel_shape",[]),x=f.getInts("pads",[0,0,0,0]),A=f.getInts("strides",[1,1]);return(0,b.createAttributeWithCacheKey)(Object.assign({autoPad:m,dilations:y,group:v,kernelShape:T,pads:x,strides:A},g))};const i=(s,f)=>{if(!s||s.length!==2&&s.length!==3)throw new Error("Conv requires 2 or 3 inputs");if(s[0].dims.length!==4||s[1].dims.length!==4)throw new Error("currently only support 2-dimensional conv");if(s[0].dims[1]!==s[1].dims[1]*f.group)throw new Error("FILTER_IN_CHANNEL should be equal to DATA_CHANNEL");if(s.length===3&&(s[2].dims.length!==1||s[1].dims[0]!==s[2].dims[0]))throw new Error("invalid bias");const g=s[0].dims.length-2;if(f.dilations.length!==g)throw new Error(`dilations should be ${g}D`);if(f.strides.length!==g)throw new Error(`strides should be ${g}D`);if(f.pads.length!==2*g)throw new Error(`pads should be ${2*g}D`);if(f.kernelShape.length!==0&&f.kernelShape.length!==s[1].dims.length-2)throw new Error("invalid kernel shape");if(s[0].type!=="float32"||s[1].type!=="float32")throw new Error("Conv input(X,W) should be float tensor");if(s.length===3&&s[2].type!=="float32")throw new Error("Conv input(bias) should be float tensor")}},6742:(N,c,w)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.parseDepthToSpaceAttributes=c.depthToSpace=void 0;const b=w(5707);c.depthToSpace=(h,p,u)=>{d(p);const l=u.blocksize,a=l*l,o=u.mode==="DCR"?[0,3,4,1,5,2]:[0,1,4,2,5,3],n=u.mode==="DCR"?[p[0].dims[0],l,l,p[0].dims[1]/a,p[0].dims[2],p[0].dims[3]]:[p[0].dims[0],p[0].dims[1]/a,l,l,p[0].dims[2],p[0].dims[3]],t=h.reshapeUnpacked(p[0],n),e={perm:o,cacheKey:`${o}`},[r]=(0,b.transpose)(h,[t],e),i=[p[0].dims[0],p[0].dims[1]/a,p[0].dims[2]*l,p[0].dims[3]*l];return[h.reshapeUnpacked(r,i)]},c.parseDepthToSpaceAttributes=h=>{const p=h.attributes.getInt("blocksize");if(p<1)throw new Error(`blocksize must be >= 1, but got : ${p} for DepthToSpace`);const u=h.attributes.getString("mode","DCR");if(u!=="DCR"&&u!=="CRD")throw new Error(`unrecognized mode: ${u} for DepthToSpace`);return{mode:u,blocksize:p}};const d=h=>{if(h.length!==1)throw new Error(`DepthToSpace expect 1 inputs, but got ${h.length}`);if(h[0].type==="string"||h[0].dims.length!==4)throw new TypeError("DepthToSpace input should be a 4-D numeric tensor")}},3281:(N,c,w)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.createDotProductProgramInfoLoader=void 0;const b=w(7273),d=w(6757),h=w(5639),p=w(2150),u=w(1625);c.createDotProductProgramInfoLoader=(l,a,o,n)=>{const t=((e,r)=>({name:"ConvDotProduct",inputNames:e?["Im2Col","K","B"]:["Im2Col","K"],inputTypes:e?[h.TextureType.unpacked,h.TextureType.packedLastDimension,h.TextureType.unpacked]:[h.TextureType.unpacked,h.TextureType.packedLastDimension],cacheKey:r.activationCacheKey}))(a.length>2,n);return Object.assign(Object.assign({},t),{get:()=>((e,r,i,s,f)=>{const g=i[0].dims,m=i[1].dims,y=[m[0],Math.ceil(g[1]*m[2]*m[3]/4)],v=(0,u.calculateIm2ColDims)(g,m,s),[T,x]=e.calculateTextureWidthAndHeight(y,h.TextureType.packedLastDimension),A=b.ShapeUtil.computeStrides(v),[D,$]=e.calculateTextureWidthAndHeight(v,h.TextureType.packedLastDimension),C=s.length,M=i.length<3?"0.0":"_B(b)",S=Math.ceil(g[1]*m[2]*m[3]/4),{activationFunction:U,applyActivation:O}=(0,p.getActivationSnippet)(f),E=(0,d.getGlsl)(e.session.backend.glContext.version),F=`
${U}
float process(int indices[${C}]) {
  int b[1];
  b[0] = indices[1];
  int im2col[4];
  im2col[0] = indices[0];
  im2col[1] = indices[2];
  im2col[2] = indices[3];
  int im2colOffset = im2col[0] * ${A[0]} + im2col[1] * ${A[1]} + im2col[2] * ${A[2]};
  int kernelOffset = indices[1] * ${y[1]};
  float value = ${M};
  for (int i = 0; i < ${S}; ++i) {
    vec2 im2colCoords = offsetToCoords(im2colOffset, ${D}, ${$});
    vec2 kernelCoords = offsetToCoords(kernelOffset, ${T}, ${x});
    value += dot(${E.texture2D}(Im2Col, im2colCoords), ${E.texture2D}(K, kernelCoords));
    ++im2colOffset;
    ++kernelOffset;
  }
  ${O}
  return value;
}`;return Object.assign(Object.assign({},r),{output:{dims:s,type:i[0].type,textureType:h.TextureType.unpacked},shaderSource:F})})(l,t,a,o,n)})}},4125:(N,c,w)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.parseFlattenAttributes=c.flatten=void 0;const b=w(7273);c.flatten=(h,p,u)=>{d(p,u);const l=b.ShapeUtil.flattenShape(p[0].dims,u);return[h.reshapeUnpacked(p[0],l)]},c.parseFlattenAttributes=h=>h.attributes.getInt("axis",1);const d=(h,p)=>{if(!h||h.length!==1)throw new Error("Flatten requires 1 input.");const u=h[0].dims.length;if(u===0)throw new Error("scalar tensor is not supported.");if(p<-u||p>u)throw new Error("Invalid axis");if(h[0].type==="string")throw new Error("string tensor is not supported.")}},2150:(N,c,w)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.parseInternalActivationAttributes=c.getActivationSnippet=void 0;const b=w(7273),d=w(9087);c.getActivationSnippet=function(h){let p;switch(h.activation){case"Relu":p=(0,d.glslRelu)();break;case"Sigmoid":p=(0,d.glslSigmoid)();break;case"Clip":p=(0,d.glslClip)(h.clipMin,h.clipMax);break;default:return{activationFunction:"",applyActivation:""}}const u=p.name;return{activationFunction:p.body,applyActivation:`value = ${u}_(value);`}},c.parseInternalActivationAttributes=h=>{const p=h.getString("activation","");if(p==="Clip"){const[u,l]=h.getFloats("activation_params",[b.MIN_CLIP,b.MAX_CLIP]);return{activation:p,clipMax:l,clipMin:u,activationCacheKey:`${p}:${u},${l}`}}return{activation:p,activationCacheKey:p}}},6149:(N,c,w)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.parseGatherAttributes=c.gather=void 0;const b=w(4910),d=w(6145),h=w(7273),p=w(5639);c.gather=(o,n,t)=>(a(n,t.axis),[o.run(l(o,n,t),n)]),c.parseGatherAttributes=o=>(0,b.createAttributeWithCacheKey)({axis:o.attributes.getInt("axis",0)});const u={name:"Gather",inputNames:["A","B"],inputTypes:[p.TextureType.unpacked,p.TextureType.unpacked]},l=(o,n,t)=>{const e=Object.assign(Object.assign({},u),{cacheHint:t.cacheKey});return Object.assign(Object.assign({},e),{get:()=>((r,i,s,f)=>{const g=s[0].dims.slice(),m=s[1].dims.slice(),y=new Array(g.length+m.length-1);f=h.ShapeUtil.normalizeAxis(f,g.length);const v=[];for(let x=0;x<y.length;x++)x<f?(y[x]=g[x],v.push(`inputIdx[${x}] = outputIdx[${x}];`)):x<f+m.length?(y[x]=m[x-f],v.push(`indexDataIdx[${x-f}] = outputIdx[${x}];`)):(y[x]=g[x-m.length+1],v.push(`inputIdx[${x-m.length+1}] = outputIdx[${x}];`));const T=`
      float process(int outputIdx[${y.length||1}]) {
        int inputIdx[${g.length}];
        int indexDataIdx[${m.length||1}];
        indexDataIdx[0] = 0;
        ${v.join(`
        `)}
        int idx = int(_B(indexDataIdx));
        inputIdx[${f}] = idx < 0 ? idx + ${g[f]} : idx;
        return _A(inputIdx);
      }`;return Object.assign(Object.assign({},i),{output:{dims:y,type:s[0].type,textureType:p.TextureType.unpacked},shaderSource:T})})(0,e,n,t.axis)})},a=(o,n)=>{if(!o||o.length!==2)throw new Error("Gather requires 2 inputs.");const t=o[0].dims.length;if(t<1)throw new Error("Invalid input shape.");if(n<-t||n>t-1)throw new Error("Invalid axis.");if(d.NUMBER_TYPES.indexOf(o[0].type)===-1)throw new Error("Invaid input type.");if(o[1].type!=="int32"&&o[1].type!=="int16")throw new Error("Invaid input type.")}},5378:(N,c,w)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.parseGemmAttributesV11=c.parseGemmAttributesV7=c.gemm=void 0;const b=w(4910),d=w(7273),h=w(5639);c.gemm=(o,n,t)=>(a(n,t),[o.run(u(n,t),n)]);const p=(o,n)=>{const t=o.attributes.getInt("transA",0)!==0,e=o.attributes.getInt("transB",0)!==0,r=o.attributes.getFloat("alpha",1),i=o.attributes.getFloat("beta",1);return(0,b.createAttributeWithCacheKey)({transA:t,transB:e,alpha:r,beta:i,isOptionalC:n})};c.parseGemmAttributesV7=o=>p(o,!1),c.parseGemmAttributesV11=o=>p(o,!0);const u=(o,n)=>{const t={name:"Gemm",inputNames:o.length===3?["A","B","C"]:["A","B"],inputTypes:o.length===3?[h.TextureType.unpacked,h.TextureType.unpacked,h.TextureType.unpacked]:[h.TextureType.unpacked,h.TextureType.unpacked],key:n.cacheKey};return Object.assign(Object.assign({},t),{get:()=>l(t,o,n)})},l=(o,n,t)=>{const e=n[0].dims.slice(),r=n[1].dims.slice(),[i,s]=d.GemmUtil.getShapeOfGemmResult(e,t.transA,r,t.transB,n.length===3?n[2].dims:void 0),f=[i,s];if(!f)throw new Error("Can't use gemm on the given tensors");let g=e[e.length-1],m="";t.transA&&(g=e[0]),t.transA&&t.transB?m="value += _A_T(a) * _B_T(b);":t.transA&&!t.transB?m="value += _A_T(a) * _B(b);":!t.transA&&t.transB?m="value += _A(a) * _B_T(b);":t.transA||t.transB||(m="value += _A(a) * _B(b);");const y=f.length,v=`
      float process(int indices[${y}]) {
          int a[${y}];
          int b[${y}];
          ${n.length===3?`int c[${n[2].dims.length}];`:""}

          copyVec(indices, a);
          copyVec(indices, b);
          ${n.length===3?"bcastIndices_C(indices, c);":""}

          float value = 0.0;
          for (int k=0; k<${g}; ++k) {
              a[${y-1}] = k;
              b[${y-2}] = k;
              ${m}
          }

          value = value * alpha;
          ${n.length===3?"value += beta * _C(c);":""}
          return value;
      }`;return Object.assign(Object.assign({},o),{output:{dims:f,type:n[0].type,textureType:h.TextureType.unpacked},variables:[{name:"alpha",type:"float",data:t.alpha},{name:"beta",type:"float",data:t.beta}],shaderSource:v})},a=(o,n)=>{if(!o)throw new Error("Input is missing");if(n.isOptionalC&&(o.length<2||o.length>3))throw new Error("Invaid input shape.");if(!n.isOptionalC&&o.length!==3)throw new Error("Gemm requires 3 inputs");if(o.length===3&&o[2].dims.length!==1&&o[2].dims.length!==2)throw new Error("Invalid input shape of C");if(o[0].type!=="float32"&&o[0].type!=="float64"||o[1].type!=="float32"&&o[1].type!=="float64"||o.length===3&&o[2].type!=="float32"&&o[2].type!=="float64")throw new Error("Invalid input type.");if(o[0].type!==o[1].type||o.length===3&&o[0].type!==o[2].type)throw new Error("Input types are mismatched")}},5950:(N,c,w)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.createPackedIm2ColProgramInfoLoader=void 0;const b=w(6757),d=w(5639),h=w(5614);c.createPackedIm2ColProgramInfoLoader=(p,u,l,a,o)=>{const n=(t=o.cacheKey,{name:"Im2Col (packed)",inputNames:["A"],inputTypes:[d.TextureType.packed],cacheHint:t});var t;return Object.assign(Object.assign({},n),{get:()=>((e,r,i,s,f,g)=>{const m=i.dims,y=s.dims,v=f.length,T=[y[1]*y[2]*y[3],f[2]*f[3]],x=y[2]*y[3],A=(0,h.unpackFromChannel)(),D=(0,b.getGlsl)(e.session.backend.glContext.version);let $="";for(let M=0;M<=1;M++)for(let S=0;S<=1;S++)$+=`
            blockIndex = rc.x + ${S};
            pos = rc.y + ${M};

            if(blockIndex < ${T[1]} && pos < ${T[0]}) {
              offsetY = int(blockIndex / (${f[v-1]})) * ${g.strides[0]} -
                ${g.pads[0]};
              d0 = offsetY + ${g.dilations[0]} * (imod(pos, ${x}) / ${y[2]});

              if(d0 < ${m[2]} && d0 >= 0) {
                offsetX = imod(blockIndex, ${f[v-1]}) * ${g.strides[1]} -
                  ${g.pads[1]};
                d1 = offsetX + ${g.dilations[1]} * imod(imod(pos, ${x}), ${y[2]});

                if(d1 < ${m[3]} && d1 >= 0) {

                  ch = int(float(pos)/ ${x}.);
                    innerDims = vec2(d0, d1);
                    result[${2*M+S}] = getChannel(
                      getA(0, ch, int(innerDims.x),
                      int(innerDims.y)), innerDims);
                }
              }
            }

          `;const C=`
      ${A}

      void main() {
        ivec2 rc = getOutputCoords();
          vec4 result = vec4(0.0);
          int blockIndex, pos, offsetY, d0, offsetX, d1, ch;
          vec2 innerDims;
          ${$}
          ${D.output} = result;
      }
            `;return Object.assign(Object.assign({},r),{output:{dims:T,type:i.type,textureType:d.TextureType.packed},shaderSource:C,hasMain:!0})})(p,n,u,l,a,o)})}},1625:(N,c,w)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.calculateIm2ColDims=c.createIm2ColProgramInfoLoader=void 0;const b=w(5639);c.createIm2ColProgramInfoLoader=(d,h,p,u,l)=>{const a=(o=l.cacheKey,{name:"Im2Col",inputNames:["X"],inputTypes:[b.TextureType.unpacked],cacheHint:o});var o;return Object.assign(Object.assign({},a),{get:()=>((n,t,e,r,i,s)=>{const f=e.dims,g=r.dims,m=i.length,y=(0,c.calculateIm2ColDims)(f,g,i,4),v=`
        const int XC = ${f[1]};
        const int XH = ${f[2]};
        const int XW = ${f[3]};
        const int KH = ${s.kernelShape[0]};
        const int KW = ${s.kernelShape[1]};
        const int dilationH = ${s.dilations[0]};
        const int dilationW = ${s.dilations[1]};
        const int strideH = ${s.strides[0]};
        const int strideW = ${s.strides[1]};
        const int padH = ${s.pads[0]};
        const int padW = ${s.pads[1]};
        const int KHKW = KH*KW;
        const int XCKHKW = XC * KHKW;
        const int outputChannels = 4;
        vec4 process(int indices[${m}]) {
          int b  = indices[0]; // batch size
          int oh = indices[1] * strideH - padH; //output height
          int ow = indices[2] * strideW - padW; //output width
          int p = indices[3] * outputChannels; //patch
          vec4 value = vec4(0.0);
          for(int i=0; i < outputChannels; ++i) {
            if(p < XCKHKW) {
              int patchC = p / KHKW;
              int patchH = (p - patchC*KHKW) / KW;
              int patchW = (p - patchC*KHKW) - patchH * KW;
              int xh2 = oh + patchH * dilationH;
              int xw2 = ow + patchW * dilationW;
              int x[${f.length}];
              x[0] = b;
              x[1] = patchC;
              x[2] = xh2;
              x[3] = xw2;
              if(xh2 >= 0 &&
                  xh2 < XH &&
                  xw2 >= 0 &&
                  xw2 < XW) {
                value[i] = _X(x);
              }
            }
            ++p;
          }
          return value;
        }
        `;return Object.assign(Object.assign({},t),{output:{dims:y,type:e.type,textureType:b.TextureType.packedLastDimension},shaderSource:v})})(0,a,h,p,u,l)})},c.calculateIm2ColDims=(d,h,p,u=4)=>[p[0],p[2],p[3],Math.ceil(d[1]*h[2]*h[3]/u)]},6981:(N,c,w)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.parseImageScalerAttributes=c.imageScaler=void 0;const b=w(4910),d=w(5639);c.imageScaler=(a,o,n)=>(l(o),[a.run(p(a,o,n),o)]),c.parseImageScalerAttributes=a=>{const o=a.attributes.getFloat("scale"),n=a.attributes.getFloats("bias");return(0,b.createAttributeWithCacheKey)({scale:o,bias:n})};const h={name:"ImageScaler",inputNames:["X"],inputTypes:[d.TextureType.unpacked]},p=(a,o,n)=>{const t=Object.assign(Object.assign({},h),{cacheHint:n.cacheKey});return Object.assign(Object.assign({},t),{get:()=>((e,r,i,s)=>{const f=i[0].dims.slice(),g=f.length,m=`
      ${u(s.bias.length)}
      float process(int indices[${g}]) {
        return _X(indices) * scale + getBias(bias, indices[1]);
      }`;return Object.assign(Object.assign({},r),{output:{dims:f,type:i[0].type,textureType:d.TextureType.unpacked},variables:[{name:"bias",type:"float",arrayLength:s.bias.length,data:s.bias},{name:"scale",type:"float",data:s.scale}],shaderSource:m})})(0,t,o,n)})},u=a=>{const o=[`float getBias(float bias[${a}], int channel) {`];for(let n=0;n<a;++n)n===0?o.push(`	if (channel == ${n}) { return bias[${n}]; }`):n===a-1?o.push(`	else { return bias[${n}]; }`):o.push(`	else if (channel == ${n}) { return bias[${n}]; }`);return o.push("	}"),o.join(`
`)},l=a=>{if(!a||a.length!==1)throw new Error("ImageScaler requires 1 input.");if(a[0].dims.length!==4)throw new Error("Invalid input shape.");if(a[0].type!=="float32"&&a[0].type!=="float64")throw new Error("Invalid input type.")}},7413:(N,c,w)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.parseInstanceNormalizationAttributes=c.instanceNormalization=void 0;const b=w(6757),d=w(5639);c.instanceNormalization=(o,n,t)=>{a(n);const e=o.run(p(n[0]),n);return[o.run(l(o,n[0],t,e.dims),[n[0],e,n[1],n[2]])]},c.parseInstanceNormalizationAttributes=o=>o.attributes.getFloat("epsilon",1e-5);const h={name:"InstanceNormalization_MeanAndVariance",inputNames:["X"],inputTypes:[d.TextureType.unpacked]},p=o=>Object.assign(Object.assign({},h),{get:()=>((n,t)=>{const e=t.dims.slice(),r=e[1],i=e[2]*e[3],s=[e[0],r],f=`
      vec4 process(int[2] indices) {
        vec4 v = vec4(0.0);
        int a[4];
        a[0] = indices[0];
        a[1] = indices[1];
        float temp = 0.0;
        for(int a2=0; a2<${e[2]}; a2++) {
          a[2] = a2;
          for(int a3=0; a3<${e[3]}; a3++) {
            a[3] = a3;
            float x = _X(a);
            temp += x;
          }
        }
        float mean = temp / float(${i});
        temp = 0.0;
        for(int a2=0; a2<${e[2]}; a2++) {
          a[2] = a2;
          for(int a3=0; a3<${e[3]}; a3++) {
            a[3] = a3;
            float x = _X(a);
            temp += (x - mean) * (x - mean);
          }
        }
        v.r = mean;
        v.g = temp / float(${i});

        return v;
      }`;return Object.assign(Object.assign({},n),{output:{dims:s,type:t.type,textureType:d.TextureType.packedLastDimension},shaderSource:f})})(h,o)}),u={name:"InstanceNormalization_ComputeOutput",inputNames:["X","MeanAndVariance","Scale","B"],inputTypes:[d.TextureType.unpacked,d.TextureType.packedLastDimension,d.TextureType.unpacked,d.TextureType.unpacked]},l=(o,n,t,e)=>{const r=Object.assign(Object.assign({},u),{cacheHint:`${t}`});return Object.assign(Object.assign({},r),{get:()=>((i,s,f,g,m)=>{const y=(0,b.getGlsl)(i.session.backend.glContext.version),[v,T]=i.calculateTextureWidthAndHeight(m,d.TextureType.packedLastDimension),[x,A]=[v/4,T],D=`
      vec4 get_MeanAndVariance(int[2] mv) {
        int offset = indicesToOffset_MeanAndVariance(mv);
        vec2 coords = offsetToCoords(offset, ${x}, ${A});
        return ${y.texture2D}(MeanAndVariance, coords);
      }

      float process(int[4] indices) {
        int mv[2];
        mv[0] = indices[0];
        mv[1] = indices[1];
        vec4 mean_and_variance = get_MeanAndVariance(mv);
        float mean = mean_and_variance.r;
        float variance = mean_and_variance.g;

        int sb[1];
        sb[0] = indices[1];
        float scale = _Scale(sb);
        float b = _B(sb);

        return scale * (_X(indices) - mean) / sqrt(variance + epsilon) + b;
      }`;return Object.assign(Object.assign({},s),{output:{dims:f.dims,type:f.type,textureType:d.TextureType.unpacked},variables:[{name:"epsilon",type:"float",data:g}],shaderSource:D})})(o,r,n,t,e)})},a=o=>{if(!o||o.length!==3)throw new Error("InstanceNormalization requires 3 inputs.");const n=o[0],t=o[1],e=o[2];if(n.dims.length<3||t.dims.length!==1||e.dims.length!==1)throw new Error("Invalid input shape.");if(t.dims[0]!==n.dims[1]||e.dims[0]!==n.dims[1])throw new Error("Input shapes are mismatched.");if(n.type!=="float32"&&n.type!=="float64"||t.type!=="float32"&&t.type!=="float64"||e.type!=="float32"&&e.type!=="float64")throw new Error("Invalid input type.");if(o[0].dims.length!==4)throw new Error("Only support 4-D input shape.")}},7006:(N,c,w)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.createLrnProgramInfoLoader=c.parseLrnAttributes=c.lrn=void 0;const b=w(4910),d=w(5639);c.lrn=(l,a,o)=>(u(a),[l.run(p(a,o),a)]),c.parseLrnAttributes=l=>{const a=l.attributes.getFloat("alpha",1e-4),o=l.attributes.getFloat("beta",.75),n=l.attributes.getFloat("bias",1),t=l.attributes.getInt("size");return(0,b.createAttributeWithCacheKey)({alpha:a,beta:o,bias:n,size:t})};const h={name:"LRN",inputNames:["X"],inputTypes:[d.TextureType.unpacked]};function p(l,a){return Object.assign(Object.assign({},h),{cacheHint:a.cacheKey,get:()=>function(o,n){const t=o[0].dims[1],e=o[0].dims.length,r=-Math.floor((n.size-1)/2),i=Math.ceil((n.size-1)/2),s=`float(${n.alpha}) / float(${n.size})`,f=`
    float process(int indices[${e}]) {
        int c = indices[1];
        float x = _X(indices);
        float square_sum = 0.0;

        for (int i = ${r}; i <= ${i}; i++) {
          int idx = c + i;
          if (c >= 0 && c < ${t}) {
            indices[1] = idx;
            float j = _X(indices);
            square_sum += j * j;
          }
        }
        return x / pow(float(${n.bias}) + ${s} * square_sum, float(${n.beta}));
    }`;return Object.assign(Object.assign({},h),{cacheHint:n.cacheKey,output:{dims:o[0].dims,type:o[0].type,textureType:d.TextureType.unpacked},shaderSource:f})}(l,a)})}c.createLrnProgramInfoLoader=p;const u=l=>{if(!l||l.length!==1)throw new Error("LRN requires 1 input.");if(l[0].dims.length!==4)throw new Error('currently only support LRN for input with "NCHW" format');if(l[0].type!=="float32")throw new Error("input should be float type")}},5632:(N,c,w)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.createPackedMatmulProgramInfoLoader=void 0;const b=w(7273),d=w(6757),h=w(5639),p=w(432),u=w(2150),l=w(8276);c.createPackedMatmulProgramInfoLoader=(a,o,n)=>{const t=(e=o.length>2,r=n.activationCacheKey,{name:"MatMul (packed)",inputNames:e?["A","B","Bias"]:["A","B"],inputTypes:e?[h.TextureType.packed,h.TextureType.packed,h.TextureType.packed]:[h.TextureType.packed,h.TextureType.packed],cacheHint:r});var e,r;return Object.assign(Object.assign({},t),{get:()=>((i,s,f,g)=>{const m=f.length>2,y=m?"value += getBiasForMatmul();":"",v=f[0].dims,T=f[1].dims,x=b.BroadcastUtil.calcShape(v,T,!0),A=!b.ShapeUtil.areEqual(f[0].dims,f[1].dims);if(!x)throw new Error("Can't use matmul on the given tensors");const D=v[v.length-1],$=Math.ceil(D/2),C=v.length,M=T.length,S=(0,d.getGlsl)(i.session.backend.glContext.version),U=(0,p.getCoordsDataType)(x.length),O=x.length,E=(0,p.getGlChannels)(),{activationFunction:F,applyActivation:W}=(0,u.getActivationSnippet)(g),H=m?`${(0,l.getBiasForMatmul)(U,E,f[2].dims,x,!0)}`:"",K=A?`${function(nt,rt,it,ut){let gt=[],xt=[];const kt=it[0].dims,bt=it[1].dims,Dt=kt.length,lt=bt.length,mt=ut.length,St=mt-Dt,_t=mt-lt;gt=kt.map((Ot,Ft)=>`coords.${rt[Ft+St]}`),gt[Dt-1]="i*2",gt.join(", "),xt=bt.map((Ot,Ft)=>`coords.${rt[Ft+_t]}`),xt[lt-2]="i*2",xt.join(", ");const At=b.BroadcastUtil.getBroadcastDims(kt,ut),Et=b.BroadcastUtil.getBroadcastDims(bt,ut),Pt=At.map(Ot=>`coords.${rt[Ot+St]} = 0;`).join(`
`),jt=Et.map(Ot=>`coords.${rt[Ot+_t]} = 0;`).join(`
`),Rt=`int lastDim = coords.${rt[mt-1]};
  coords.${rt[mt-1]} = coords.${rt[mt-2]};
  coords.${rt[mt-2]} = lastDim;`;return`
vec4 getAAtOutCoordsMatmul(int i) {
  ${nt} coords = getOutputCoords();
  ${Rt}
  ${Pt}
  vec4 outputValue = getA(${gt});
  return outputValue;
}

vec4 getBAtOutCoordsMatmul(int i) {
  ${nt} coords = getOutputCoords();
  ${Rt}
  ${jt}
  vec4 outputValue = getB(${xt});
  return outputValue;
}`}(U,E,f,x)}`:"",X=A?"getAAtOutCoordsMatmul(i)":`getA(${function(nt,rt){let it="";for(let ut=0;ut<rt-2;ut++)it+=`rc.${nt[ut]}, `;return it+=`rc.${nt[rt-2]}, i*2`,it}(E,C)})`,J=A?"getBAtOutCoordsMatmul(i)":`getB(${function(nt,rt){let it="";for(let ut=0;ut<rt-2;ut++)it+=`rc.${nt[ut]}, `;return it+=`i*2, rc.${nt[rt-1]}`,it}(E,M)})`,tt=`
            ${K}
            ${H}
            ${F}
            void main() {
              ${A?"":`${U} rc =
          getOutputCoords(); int lastDim = rc.${E[O-1]}; rc.${E[O-1]} =
          rc.${E[O-2]}; rc.${E[O-2]} = lastDim;
      `}

              vec4 value = vec4(0);
              for (int i = 0; i < ${$}; i++) {
                vec4 a = ${X};
                vec4 b = ${J};

                value += (a.rrbb * b.rgrg);
                value += (a.ggaa * b.baba);
              }
              ${y}
              ${W}
              ${S.output} = value;
            }`;return Object.assign(Object.assign({},s),{output:{dims:x,type:f[0].type,textureType:h.TextureType.packed},shaderSource:tt,hasMain:!0})})(a,t,o,n)})}},8276:(N,c,w)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.getBiasForMatmul=c.createMatmulProgramInfoLoader=c.parseMatMulAttributes=c.matMul=void 0;const b=w(7273),d=w(5639),h=w(432),p=w(2150),u=w(5632);c.matMul=(t,e,r)=>(o(e),t.session.pack?[t.run((0,u.createPackedMatmulProgramInfoLoader)(t,e,r),e)]:[t.run(a(e,r),e)]),c.parseMatMulAttributes=t=>(0,p.parseInternalActivationAttributes)(t.attributes);const l=(t,e)=>({name:"MatMul",inputNames:t?["A","B","Bias"]:["A","B"],inputTypes:t?[d.TextureType.unpacked,d.TextureType.unpacked,d.TextureType.unpacked]:[d.TextureType.unpacked,d.TextureType.unpacked],cacheHint:e});function a(t,e){const r=l(t.length>2,e.activationCacheKey);return Object.assign(Object.assign({},r),{get:()=>function(i,s,f){const g=s[0].dims,m=s[1].dims,y=b.BroadcastUtil.calcShape(g,m,!0);if(!y)throw new Error("Can't use matmul on the given tensors");const v=(0,h.getCoordsDataType)(y.length),T=(0,h.getGlChannels)(),{activationFunction:x,applyActivation:A}=(0,p.getActivationSnippet)(f),D=s.length>2,$=D?"value += getBiasForMatmul();":"",C=D?`${n(v,T,s[2].dims,y,!1)}`:"",M=y.length,S=g.length,U=m.length,O=`
    ${x}
    ${C}
    float process(int indices[${M}]) {
        int a[${S}];
        int b[${U}];
        bcastMatmulIndices_A(indices, a);
        bcastMatmulIndices_B(indices, b);

        float value;
        for (int k=0; k<${g[g.length-1]}; ++k) {
            a[${S-1}] = k;
            b[${U-2}] = k;
            value += _A(a) * _B(b);
        }
        ${$}
        ${A}
        return value;
    }`;return Object.assign(Object.assign({},i),{output:{dims:y,type:s[0].type,textureType:d.TextureType.unpacked},shaderSource:O})}(r,t,e)})}c.createMatmulProgramInfoLoader=a;const o=t=>{if(!t||t.length!==2)throw new Error("MatMul requires 2 inputs.");if(t[0].dims[t[0].dims.length-1]!==t[1].dims[t[1].dims.length-2])throw new Error("shared dimension does not match.");if(t[0].type!=="float32"&&t[0].type!=="float64"||t[1].type!=="float32"&&t[1].type!=="float64")throw new Error("inputs should be float type");if(t[0].type!==t[1].type)throw new Error("inputs types should match")};function n(t,e,r,i,s){let f="";const g=r.length,m=i.length,y=m-g;f=m<2&&g>0?"coords":r.map((x,A)=>`coords.${e[A+y]}`).join(", ");const v=b.BroadcastUtil.getBroadcastDims(r,i).map(x=>`coords.${e[x+y]} = 0;`).join(`
`);let T="vec4(outputValue.xx, outputValue.yy)";return b.ShapeUtil.size(r)===1&&(T="vec4(outputValue.x)"),s?`
vec4 getBiasForMatmul() {
  ${t} coords = getOutputCoords();
  ${v}
  vec4 outputValue = getBias(${f});
  return ${T};
}`:`
float getBiasForMatmul() {
  ${t} coords = getOutputCoords();
  ${v}
  return getBias(coords.x);
}`}c.getBiasForMatmul=n},9:(N,c,w)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.createPackProgramInfoLoader=void 0;const b=w(6757),d=w(5639),h=w(432),p=w(5614),u={name:"pack",inputNames:["A"],inputTypes:[d.TextureType.unpackedReversed]};c.createPackProgramInfoLoader=(l,a)=>Object.assign(Object.assign({},u),{get:()=>((o,n)=>{const t=(0,b.getGlsl)(o.session.backend.glContext.version),e=n.dims,r=e.length,i=n.dims.length,s=(0,h.getCoordsDataType)(i),f=(0,p.getChannels)("rc",i),g=(m=i,y=f,v=e[e.length-2],T=e[e.length-1],m===0||m===1?"":`
    int r = ${y[m-2]};
    int c = ${y[m-1]};
    int rp1 = ${y[m-2]} + 1;
    int cp1 = ${y[m-1]} + 1;
    bool rEdge = rp1 >= ${T};
    bool cEdge = cp1 >= ${v};
    `);var m,y,v,T;let x;x=r===0?[1,1]:r===1?[e[0],1]:[e[i-1],e[i-2]];const A=function(C,M,S){if(C===0)return"false";if(C===1)return`rc > ${M[0]}`;let U="";for(let O=C-2;O<C;O++)U+=`${S[O]} >= ${M[O-C+2]}`,O<C-1&&(U+="||");return U}(i,x,f),D=function(C,M){const S=C.length;if(S===0)return"getA(), 0, 0, 0";if(S===1)return`getA(rc),
            rc + 1 >= ${C[0]} ? 0. : getA(rc + 1),
            0, 0`;let U="";if(S>2)for(let O=0;O<S-2;++O)U+=`${M[O]},`;return`getA(${U}r, c),
          rEdge ? 0. : getA(${U}rp1, c),
          cEdge ? 0. : getA(${U}r, cp1),
          rEdge || cEdge ? 0. : getA(${U}rp1, cp1)`}(e,f),$=`
        void main() {
          ${s} rc = getOutputCoords();

          if(${A}) {
            ${t.output} = vec4(0);
          } else {
            ${g}

            ${t.output} = vec4(${D});
          }
        }
      `;return Object.assign(Object.assign({},u),{hasMain:!0,output:{dims:n.dims,type:n.type,textureType:d.TextureType.packed},shaderSource:$})})(l,a)})},5614:(N,c,w)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.unpackFromChannel=c.getChannels=c.getVecChannels=void 0;const b=w(432);function d(h,p){return(0,b.getGlChannels)(p).map(u=>`${h}.${u}`)}c.getVecChannels=d,c.getChannels=function(h,p){return p===1?[h]:d(h,p)},c.unpackFromChannel=function(){return`
    float getChannel(vec4 frag, int dim) {
      int modCoord = imod(dim, 2);
      return modCoord == 0 ? frag.r : frag.g;
    }

    float getChannel(vec4 frag, vec2 innerDims) {
      vec2 modCoord = mod(innerDims, 2.);
      return modCoord.x == 0. ?
        (modCoord.y == 0. ? frag.r : frag.g) :
        (modCoord.y == 0. ? frag.b : frag.a);
    }
  `}},5565:(N,c,w)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.parsePadAttributesV11=c.padV11=c.parsePadAttributesV2=c.padV2=void 0;const b=w(4910),d=w(7273),h=w(6757),p=w(5639),u={name:"Pad",inputNames:["A"],inputTypes:[p.TextureType.unpacked]};c.padV2=(s,f,g)=>(o(f),[s.run(Object.assign(Object.assign({},u),{cacheHint:g.cacheKey,get:()=>a(s,f[0],g)}),f)]),c.parsePadAttributesV2=s=>{const f=s.attributes.getString("mode","constant"),g=s.attributes.getFloat("value",0),m=s.attributes.getInts("pads");return(0,b.createAttributeWithCacheKey)({mode:f,value:g,pads:m})},c.padV11=(s,f,g)=>{n(f);const m=l(s,f,g);return(0,c.padV2)(s,[f[0]],m)},c.parsePadAttributesV11=s=>s.attributes.getString("mode","constant");const l=(s,f,g)=>{if(!s.session.isInitializer(f[1].dataId)||f.length>=3&&!s.session.isInitializer(f[2].dataId))throw new Error("dynamic pad attributes are not allowed");const m=Array.from(f[1].integerData),y=f.length>=3?f[2].floatData[0]:0;return(0,b.createAttributeWithCacheKey)({mode:g,pads:m,value:y})},a=(s,f,g)=>{const m=d.ShapeUtil.padShape(f.dims.slice(),g.pads),y=m.length,v=`
      ${t(s,f,g)}
      float process(int[${y}] indices) {
          return padA(indices);
      }`;return{name:"Pad",inputNames:["A"],inputTypes:[p.TextureType.unpacked],output:{dims:m,type:f.type,textureType:p.TextureType.unpacked},shaderSource:v}},o=s=>{if(!s||s.length!==1)throw new Error("Pad requires 1 input");if(s[0].type!=="float32"&&s[0].type!=="float64")throw new Error("Invalid input type.")},n=s=>{if(!s||s.length!==2&&s.length!==3)throw new Error("Pad requires 2 or 3 inputs");if(s[1].type!=="int32")throw new Error("Invalid input type.");if(s.length>=3&&s[2].type==="string")throw new Error("Invalid input type.")},t=(s,f,g)=>{const m=(0,h.getGlsl)(s.session.backend.glContext.version),[y,v]=s.calculateTextureWidthAndHeight(f.dims,p.TextureType.unpacked),T=d.ShapeUtil.computeStrides(f.dims);switch(g.mode){case"constant":return e(m,f.dims,T,y,v,g.pads,g.value);case"reflect":return r(m,f.dims,T,y,v,g.pads);case"edge":return i(m,f.dims,T,y,v,g.pads);default:throw new Error("Invalid mode")}},e=(s,f,g,m,y,v,T)=>{const x=f.length;let A="";for(let D=x-1;D>=0;--D)A+=`
        k = m[${D}] - ${v[D]};
        if (k < 0)  return constant;
        if (k >= ${f[D]}) return constant;
        offset += k * ${g[D]};
        `;return`
      float padA(int m[${x}]) {
        const float constant = float(${T});
        int offset = 0;
        int k = 0;
        ${A}
        vec2 coords = offsetToCoords(offset, ${m}, ${y});
        float value = getColorAsFloat(${s.texture2D}(A, coords));
        return value;
      }
      `},r=(s,f,g,m,y,v)=>{const T=f.length;let x="";for(let A=T-1;A>=0;--A)x+=`
        k = m[${A}] - ${v[A]};
        if (k < 0) { k = -k; }
        {
          const int _2n_1 = ${2*(f[A]-1)};
          k = int( mod( float(k), float(_2n_1) ) ) ;
          if(k >= ${f[A]}) { k = _2n_1 - k; }
        }
        offset += k * ${g[A]};
        `;return`
      float padA(int m[${T}]) {
        int offset = 0;
        int k = 0;
        ${x}
        vec2 coords = offsetToCoords(offset, ${m}, ${y});
        float value = getColorAsFloat(${s.texture2D}(A, coords));
        return value;
      }
      `},i=(s,f,g,m,y,v)=>{const T=f.length;let x="";for(let A=T-1;A>=0;--A)x+=`
        k = m[${A}] - ${v[A]};
        if (k < 0)  k = 0;
        if (k >= ${f[A]}) k = ${f[A]-1};
        offset += k * ${g[A]};
      `;return`
      float padA(int m[${T}]) {
        int offset = 0;
        int k = 0;
        ${x}
        vec2 coords = offsetToCoords(offset, ${m}, ${y});
        float value = getColorAsFloat(${s.texture2D}(A, coords));
        return value;
      }
      `}},2834:(N,c,w)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.globalMaxPool=c.parseMaxPoolAttributes=c.maxPool=c.parseGlobalAveragePoolAttributes=c.globalAveragePool=c.parseAveragePoolAttributes=c.averagePool=void 0;const b=w(4910),d=w(7273),h=w(5639);c.averagePool=(i,s,f)=>{n(s);const g={name:"AveragePool",inputNames:["X"],inputTypes:[h.TextureType.unpacked],cacheHint:f.cacheKey};return[i.run(Object.assign(Object.assign({},g),{get:()=>p(s,g,!1,f)}),s)]},c.parseAveragePoolAttributes=i=>{const s=i.attributes.getString("auto_pad","NOTSET"),f=i.attributes.getInt("ceil_mode",0),g=i.attributes.getInt("count_include_pad",0)!==0,m=i.attributes.getInts("kernel_shape"),y=i.attributes.getInts("strides",[]),v=i.attributes.getInts("pads",[]);if(f!==0)throw new Error("using ceil() in shape computation is not yet supported for AveragePool");return(0,b.createAttributeWithCacheKey)({autoPad:s,ceilMode:f,countIncludePad:g,kernelShape:m,strides:y,pads:v})};const p=(i,s,f,g)=>{const[m,y]=l(i,g,f),v=d.ShapeUtil.size(m.kernelShape);let T="";m.countIncludePad?T+=`value /= float(${v});`:T+=`value /= float(${v} - pad);`;const x=`
        ${t(i[0].dims,m,"value += _X(x);",T,"0.0")}
      `;return Object.assign(Object.assign({},s),{output:{dims:y,type:i[0].type,textureType:h.TextureType.unpacked},shaderSource:x})};c.globalAveragePool=(i,s,f)=>{n(s);const g={name:"GlobalAveragePool",inputNames:["X"],inputTypes:[h.TextureType.unpacked],cacheHint:`${f.countIncludePad}`};return[i.run(Object.assign(Object.assign({},g),{get:()=>p(s,g,!0,f)}),s)]},c.parseGlobalAveragePoolAttributes=i=>{const s=i.attributes.getInt("count_include_pad",0)!==0;return(0,b.createAttributeWithCacheKey)({autoPad:"",ceilMode:0,countIncludePad:s,kernelShape:[],strides:[],pads:[]})},c.maxPool=(i,s,f)=>{n(s);const g={name:"MaxPool",inputNames:["X"],inputTypes:[h.TextureType.unpacked],cacheHint:f.cacheKey};return[i.run(Object.assign(Object.assign({},g),{get:()=>u(s,g,!1,f)}),s)]},c.parseMaxPoolAttributes=i=>{const s=i.attributes.getString("auto_pad","NOTSET"),f=i.attributes.getInt("ceil_mode",0),g=i.attributes.getInts("kernel_shape"),m=i.attributes.getInts("strides",[]),y=i.attributes.getInts("pads",[]),v=i.attributes.getInt("storage_order",0),T=i.attributes.getInts("dilations",[]);if(v!==0)throw new Error("column major storage order is not yet supported for MaxPool");if(f!==0)throw new Error("using ceil() in shape computation is not yet supported for MaxPool");return(0,b.createAttributeWithCacheKey)({autoPad:s,ceilMode:f,countIncludePad:!1,kernelShape:g,strides:m,pads:y,storageOrder:v,dilations:T})};const u=(i,s,f,g)=>{const[m,y]=l(i,g,f),v=`
      ${t(i[0].dims,m,`
      value = max(_X(x), value);
    `,"","-1e5")}
    `;return Object.assign(Object.assign({},s),{output:{dims:y,type:i[0].type,textureType:h.TextureType.unpacked},shaderSource:v})},l=(i,s,f)=>{const g=i[0].dims.slice(),m=Object.hasOwnProperty.call(s,"dilations"),y=s.kernelShape.slice(),v=s.strides.slice(),T=m?s.dilations.slice():[],x=s.pads.slice();d.PoolConvUtil.adjustPoolAttributes(f,g,y,v,T,x);const A=d.PoolConvUtil.computePoolOutputShape(f,g,v,T,y,x,s.autoPad),D=Object.assign({},s);return m?Object.assign(D,{kernelShape:y,strides:v,pads:x,dilations:T,cacheKey:s.cacheKey}):Object.assign(D,{kernelShape:y,strides:v,pads:x,cacheKey:s.cacheKey}),[D,A]},a={autoPad:"",ceilMode:0,countIncludePad:!1,kernelShape:[],strides:[],pads:[],storageOrder:0,dilations:[],cacheKey:""},o={name:"GlobalMaxPool",inputNames:["X"],inputTypes:[h.TextureType.unpacked]};c.globalMaxPool=(i,s)=>(n(s),[i.run(Object.assign(Object.assign({},o),{get:()=>u(s,o,!0,a)}),s)]);const n=i=>{if(!i||i.length!==1)throw new Error("Pool ops requires 1 input.");if(i[0].type!=="float32"&&i[0].type!=="float64")throw new Error("Invalid input type.")},t=(i,s,f,g,m)=>{const y=i.length;if(s.kernelShape.length<=2){const v=s.kernelShape[s.kernelShape.length-1],T=s.strides[s.strides.length-1],x=s.pads[s.pads.length/2-1],A=s.pads[s.pads.length-1],D=i[y-1];let $="",C="",M="";if($=x+A!==0?`
          for (int i = 0; i < ${v}; i++) {
            x[${y} - 1] = indices[${y} - 1] * ${T} - ${x} + i;
            if (x[${y} - 1] < 0 || x[${y} - 1] >= ${D}) {
              pad++;
              continue;
            }
            ${f}
          }`:`
          for (int i = 0; i < ${v}; i++) {
            x[${y} - 1] = indices[${y} - 1] * ${T} - ${x} + i;
            ${f}
          }`,s.kernelShape.length===2){const S=s.kernelShape[s.kernelShape.length-2],U=s.strides[s.strides.length-2],O=s.pads[s.pads.length/2-2],E=s.pads[s.pads.length-2],F=i[y-2];C=O+E!==0?`
            for (int j = 0; j < ${S}; j++) {
              x[${y} - 2] = indices[${y} - 2] * ${U} - ${O} + j;
              if (x[${y} - 2] < 0 || x[${y} - 2] >= ${F}) {
                pad+= ${v};
                continue;
              }
          `:`
            for (int j = 0; j < ${S}; j++) {
              x[${y} - 2] = indices[${y} - 2] * ${U} - ${O} + j;
            `,M=`
          }
        `}return`
        float process(int indices[${y}]) {
          int x[${y}];
          copyVec(indices, x);

          float value = ${m};
          int pad = 0;
          ${C}
          ${$}
          ${M}
          ${g}
          return value;
        }
      `}{const v=d.ShapeUtil.size(s.kernelShape),T=d.ShapeUtil.computeStrides(s.kernelShape),x=T.length,A=s.pads.length,D=r(x),$=e(i,"inputDims"),C=e(s.pads,"pads"),M=e(T,"kernelStrides"),S=e(s.strides,"strides");let U="";return U=s.pads.reduce((O,E)=>O+E)?`
            if (x[j] >= inputDims[j] || x[j] < 0) {
              pad++;
              isPad = true;
              break;
            }
          }
          if (!isPad) {
            ${f}
          }`:`
          }
          ${f}
        `,`
        ${D}
        float process(int indices[${y}]) {
          int x[${y}];
          copyVec(indices, x);
          int offset[${x}];
          int pads[${A}];
          int inputDims[${y}];
          int kernelStrides[${x}];
          int strides[${x}];
          ${C}
          ${$}
          ${S}
          ${M}

          float value = ${m};
          int pad = 0;
          bool isPad = false;
          for (int i = 0; i < ${v}; i++) {
            offsetToIndices(i, kernelStrides, offset);
            isPad = false;
            for (int j = ${y} - ${x}; j < ${y}; j++) {
              x[j] = indices[j] * strides[j - ${y} + ${x}]
                + offset[j - ${y} + ${x}] - pads[j - 2];
              ${U}
          }
          ${g}

          return value;
        }
      `}},e=(i,s)=>{let f="";for(let g=0;g<i.length;g++)f+=`
      ${s}[${g}] = ${i[g]};
    `;return f},r=i=>`
  void offsetToIndices(int offset, int[${i}] strides, out int[${i}] indices) {
    if (${i} == 0) {
      return;
    }
    for (int i = 0; i < ${i} - 1; ++i) {
      indices[i] = offset / strides[i];
      offset -= indices[i] * strides[i];
    }
    indices[${i} - 1] = offset;
  }`},1010:(N,c,w)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.reduceLogSumSquare=c.reduceLogSum=c.reduceProd=c.reduceMin=c.reduceMax=c.reduceMean=c.reduceSum=c.parseReduceAttributes=void 0;const b=w(4910),d=w(6145),h=w(7273),p=w(5639),u=(o,n,t,e,r)=>{a(n);const i={name:e,inputNames:["A"],inputTypes:[p.TextureType.unpacked]};return[o.run(Object.assign(Object.assign({},i),{cacheHint:t.cacheKey,get:()=>l(o,n,t,e,r,i)}),n)]};c.parseReduceAttributes=o=>{const n=o.attributes.getInts("axes",[]),t=o.attributes.getInt("keepdims",1)===1;return(0,b.createAttributeWithCacheKey)({axes:n,keepDims:t})};const l=(o,n,t,e,r,i)=>{const s=[],f=n[0].dims.length||1,g=[],m=h.ShapeUtil.normalizeAxes(t.axes,n[0].dims.length),y=r(n,m);let v=y[1];for(let x=0;x<n[0].dims.length;x++)m.indexOf(x)>=0||m.length===0?(t.keepDims&&s.push(1),v=`
          for(int j${x} = 0; j${x} < ${n[0].dims[x]}; j${x}++) {
            inputIdx[${x}] = j${x};
            ${v}
          }`):(g.push(`inputIdx[${x}] = outputIdx[${s.length}];`),s.push(n[0].dims[x]));const T=`
      float process(int outputIdx[${s.length||1}]) {
        float value;                 // final result
        int inputIdx[${f}];      // addressing input data
        ${g.join(`
`)}
        ${y[0]}       // init ops for reduce max/min
        ${v}
        ${y[2]}       // final computation for reduce mean
        return value;
      }`;return Object.assign(Object.assign({},i),{output:{dims:s,type:n[0].type,textureType:p.TextureType.unpacked},shaderSource:T})},a=o=>{if(!o||o.length!==1)throw new Error("Reduce op requires 1 input.");if(d.NUMBER_TYPES.indexOf(o[0].type)===-1)throw new Error("Invalid input type.")};c.reduceSum=(o,n,t)=>u(o,n,t,"ReduceSum",()=>["value = 0.0;","value += _A(inputIdx);",""]),c.reduceMean=(o,n,t)=>u(o,n,t,"ReduceMean",(e,r)=>{let i=1;for(let s=0;s<e[0].dims.length;s++)(r.indexOf(s)>=0||r.length===0)&&(i*=e[0].dims[s]);return["value = 0.0;","value += _A(inputIdx);",`value /= ${i}.;`]}),c.reduceMax=(o,n,t)=>u(o,n,t,"ReduceMax",(e,r)=>{const i=[];for(let s=0;s<e[0].dims.length;s++)(r.indexOf(s)>=0||r.length===0)&&i.push(`inputIdx[${s}] = 0;`);return[`${i.join(`
`)}
value = _A(inputIdx);`,"value = max(value, _A(inputIdx));",""]}),c.reduceMin=(o,n,t)=>u(o,n,t,"ReduceMin",(e,r)=>{const i=[];for(let s=0;s<e[0].dims.length;s++)(r.indexOf(s)>=0||r.length===0)&&i.push(`inputIdx[${s}] = 0;`);return[`${i.join(`
`)}
value = _A(inputIdx);`,"value = min(value, _A(inputIdx));",""]}),c.reduceProd=(o,n,t)=>u(o,n,t,"ReduceProd",()=>["value = 1.0;","value *= _A(inputIdx);",""]),c.reduceLogSum=(o,n,t)=>u(o,n,t,"ReduceLogSum",()=>["value = 0.0;","value += _A(inputIdx);","value = log(value);"]),c.reduceLogSumSquare=(o,n,t)=>u(o,n,t,"ReduceLogSumSquare",()=>["float t; value = 0.0;","t = _A(inputIdx); value += t * t;",""])},7379:(N,c,w)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.isReshapeCheap=c.processDims3D=c.createPackedReshape3DProgramInfoLoader=void 0;const b=w(7273),d=w(6757),h=w(5639),p=w(5614);c.createPackedReshape3DProgramInfoLoader=(u,l,a)=>{const o=(n=>({name:"Reshape (packed)",inputTypes:[h.TextureType.packed],inputNames:["A"],cacheHint:`${n}`}))(a);return Object.assign(Object.assign({},o),{get:()=>((n,t,e,r)=>{const i=t.dims,s=r;let f="";for(let y=0;y<4;y++){let v="";switch(y){case 0:v="outputCoords = rc;";break;case 1:v="outputCoords = ivec3(rc.x, rc.y+1, rc.z);";break;case 2:v="outputCoords = ivec3(rc.x, rc.y, rc.z+1);";break;case 3:v="outputCoords = ivec3(rc.x, rc.y+1, rc.z+1);";break;default:throw new Error}f+=`
        ${v}
        ${y>0?"if(outputCoords.y < rows && outputCoords.z < cols){":""}
          int flattenedIndex = getFlattenedIndex(outputCoords);

          ivec3 inputRC = inputCoordsFromReshapedOutCoords(flattenedIndex);
          vec2 innerDims = vec2(float(inputRC.y),float(inputRC.z));

          result[${y}] = getChannel(getA(inputRC.x, inputRC.y, inputRC.z), innerDims);

        ${y>0?"}":""}
      `}const g=(0,d.getGlsl)(n.session.backend.glContext.version),m=`
      ${function(y){const v=b.ShapeUtil.computeStrides(y),T=["b","r","c"],x="index";return`
    ivec3 inputCoordsFromReshapedOutCoords(int index) {
      ${v.map((A,D)=>`int ${T[D]} = ${x} / ${A}; ${D===v.length-1?`int ${T[D+1]} = ${x} - ${T[D]} * ${A}`:`index -= ${T[D]} * ${A}`};`).join("")}
      return ivec3(b, r, c);
    }
  `}(i)}
      ${function(y){const v=b.ShapeUtil.computeStrides(y);return`
  int getFlattenedIndex(ivec3 coords) {
    // reverse y, z order
    return coords.x * ${v[0]} + coords.z * ${v[1]} + coords.y;
  }
`}(s)}
      ${(0,p.unpackFromChannel)()}

      void main() {
        ivec3 rc = getOutputCoords();

        vec4 result = vec4(0.0);

        ivec3 outputCoords;
        int rows = ${s[2]};
        int cols = ${s[1]};

        ${f}
        ${g.output} = result;
      }
    `;return Object.assign(Object.assign({},e),{output:{dims:s,type:t.type,textureType:h.TextureType.packed},shaderSource:m,hasMain:!0})})(u,l,o,a)})},c.processDims3D=function(u){if(u.length===0)return[1,1,1];let l=1;for(let a=0;a<u.length-2;++a)l*=u[a];return[l,u.length>1?u[u.length-2]:1,u[u.length-1]]},c.isReshapeCheap=function(u,l){let a=!1;return a=u.length===0||l.length===0||(u.length<2||l.length<2?u[u.length-1]===l[l.length-1]:u[u.length-1]===l[l.length-1]&&u[u.length-2]===l[l.length-2]),a}},8126:(N,c,w)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.reshape=void 0;const b=w(7273);c.reshape=(d,h)=>{const p=b.ShapeUtil.calculateReshapedDims(h[0].dims,h[1].integerData);return d.session.pack?[d.reshapePacked(h[0],p)]:[d.reshapeUnpacked(h[0],p)]}},2801:(N,c,w)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.parseResizeAttributesV11=c.parseResizeAttributesV10=c.resize=void 0;const b=w(6757),d=w(5639),h=w(432),p=w(5614),u=w(3980),l={name:"Resize",inputNames:["A"],inputTypes:[d.TextureType.packed]};c.resize=(e,r,i)=>((0,u.validateInputs)(r,i),[e.run(Object.assign(Object.assign({},l),{cacheHint:i.cacheKey,get:()=>a(e,r,i)}),r)]),c.parseResizeAttributesV10=e=>(0,u.parseUpsampleAttributes)(e,10),c.parseResizeAttributesV11=e=>(0,u.parseUpsampleAttributes)(e,11);const a=(e,r,i)=>{const s=(0,b.getGlsl)(e.session.backend.glContext.version),[f,g]=o(r,i);if(f.every(U=>U===1)&&i.coordinateTransformMode!=="tf_crop_and_resize")return Object.assign(Object.assign({},l),{output:{dims:g,type:r[0].type,textureType:d.TextureType.packed},hasMain:!0,shaderSource:`void main() {
                    vec4 v = ${s.texture2D}(X, TexCoords);
                    ${s.output} = v;
                }`});const m=g.length;if(m<2)throw new Error(`output dimension should be at least 2, but got ${m}`);const y=g[m-2],v=g[m-1],T=r[0].dims;if(m!==T.length)throw new Error(`output dimension should match input ${T.length}, but got ${m}`);const x=T[m-2],A=T[m-1],D=f[m-2],$=f[m-1];let C="";if(i.mode!=="linear")throw new Error(`resize (packed) does not support mode: '${i.mode}'`);switch(i.coordinateTransformMode){case"asymmetric":C=`
                    vec4 getSourceFracIndex(ivec4 coords) {
                        return vec4(coords) / scaleWHWH;
                    }
                `;break;case"half_pixel":C=`
                    vec4 getSourceFracIndex(ivec4 coords) {
                        return (vec4(coords) + 0.5) / scaleWHWH - 0.5;
                    }
                `;break;case"pytorch_half_pixel":C=`
                    vec4 getSourceFracIndex(ivec4 coords) {
                        vec4 fcoords = vec4(coords);
                        return vec4(
                            ${v}.0 > 1.0 ? (fcoords.x + 0.5) / scaleWHWH.x - 0.5 : 0.0,
                            ${y}.0 > 1.0 ? (fcoords.y + 0.5) / scaleWHWH.y - 0.5 : 0.0,
                            ${v}.0 > 1.0 ? (fcoords.z + 0.5) / scaleWHWH.z - 0.5 : 0.0,
                            ${y}.0 > 1.0 ? (fcoords.w + 0.5) / scaleWHWH.w - 0.5 : 0.0
                          );
                    }
                `;break;case"align_corners":C=`
                    vec4 getSourceFracIndex(ivec4 coords) {
                        vec4 resized = vec4(${v}.0 - 1.0, ${y}.0 - 1.0, ${v}.0 - 1.0,
                            ${y}.0 - 1.0);
                        vec4 original = vec4(${A}.0 - 1.0, ${x}.0 - 1.0, ${A}.0 - 1.0,
                            ${x}.0 - 1.0);
                        vec4 new_scale = original / resized;
                        return vec4(coords) * new_scale;
                    }
                `;break;default:throw new Error(`resize (packed) does not support coordinateTransformMode:                                 '${i.coordinateTransformMode}'`)}const M=(0,h.getCoordsDataType)(m),S=`
            const vec2 inputWH = vec2(${x}.0, ${A}.0);
            const vec4 scaleWHWH = vec4(float(${D}), float(${$}), float(${D}), float(${$}));
            ${(0,p.unpackFromChannel)()}
            ${C}
            float getAValue(int x10, int r, int c, int d) {
                return getChannel(getA(x10, r, c, d), vec2(c, d));
            }
            void main() {
                ${M} rc = getOutputCoords();

                int batch = rc[0];
                int depth = rc[1];

                // retrieve the 4 coordinates that is used in the 4 packed output values.
                ivec4 coords = ivec4(rc.wz, rc.w + 1, rc.z + 1);

                // calculate the source index in fraction
                vec4 sourceFrac = getSourceFracIndex(coords);

                // get the lower and upper bound of the 4 values that will be packed into one texel.
                ivec4 x00 = ivec4(max(sourceFrac.xy, vec2(0.0)), min(inputWH - 1.0, ceil(sourceFrac.xy)));
                ivec4 x01 = ivec4(max(sourceFrac.xw, vec2(0.0)), min(inputWH - 1.0, ceil(sourceFrac.xw)));
                ivec4 x10 = ivec4(max(sourceFrac.zy, vec2(0.0)), min(inputWH - 1.0, ceil(sourceFrac.zy)));
                ivec4 x11 = ivec4(max(sourceFrac.zw, vec2(0.0)), min(inputWH - 1.0, ceil(sourceFrac.zw)));

                bool hasNextRow = rc.w < ${y-1};
                bool hasNextCol = rc.z < ${v-1};

                // pack x00, x01, x10, x11's top-left corner into one vec4 structure
                vec4 topLeft = vec4(
                    getAValue(batch, depth, x00.x, x00.y),
                    hasNextCol ? getAValue(batch, depth, x01.x, x01.y) : 0.0,
                    hasNextRow ? getAValue(batch, depth, x10.x, x10.y) : 0.0,
                    (hasNextRow && hasNextCol) ? getAValue(batch, depth, x11.x, x11.y) : 0.0);

                // pack x00, x01, x10, x11's top-right corner into one vec4 structure
                vec4 topRight = vec4(
                    getAValue(batch, depth, x00.x, x00.w),
                    hasNextCol ? getAValue(batch, depth, x01.x, x01.w) : 0.0,
                    hasNextRow ? getAValue(batch, depth, x10.x, x10.w) : 0.0,
                    (hasNextRow && hasNextCol) ? getAValue(batch, depth, x11.x, x11.w) : 0.0);

                // pack x00, x01, x10, x11's bottom-left corner into one vec4 structure
                vec4 bottomLeft = vec4(
                    getAValue(batch, depth, x00.z, x00.y),
                    hasNextCol ? getAValue(batch, depth, x01.z, x01.y) : 0.0,
                    hasNextRow ? getAValue(batch, depth, x10.z, x10.y) : 0.0,
                    (hasNextRow && hasNextCol) ? getAValue(batch, depth, x11.z, x11.y) : 0.0);

                // pack x00, x01, x10, x11's bottom-right corner into one vec4 structure
                vec4 bottomRight = vec4(
                    getAValue(batch, depth, x00.z, x00.w),
                    hasNextCol ? getAValue(batch, depth, x01.z, x01.w) : 0.0,
                    hasNextRow ? getAValue(batch, depth, x10.z, x10.w) : 0.0,
                    (hasNextRow && hasNextCol) ? getAValue(batch, depth, x11.z, x11.w) : 0.0);

                // calculate the interpolation fraction on u and v direction
                vec4 frac = vec4(sourceFrac) - floor(sourceFrac);
                vec4 clampFrac = clamp(frac, vec4(0.0), vec4(1.0));

                vec4 top = mix(topLeft, topRight, clampFrac.ywyw);
                vec4 bottom = mix(bottomLeft, bottomRight, clampFrac.ywyw);
                vec4 newValue = mix(top, bottom, clampFrac.xxzz);

                ${s.output} = vec4(newValue);
            }
        `;return Object.assign(Object.assign({},l),{output:{dims:g,type:r[0].type,textureType:d.TextureType.packed},hasMain:!0,shaderSource:S})},o=(e,r)=>{const i=e[0].dims;let s,f=r.scales;if(f.length===0){const m=e[r.scalesInputIdx];if(m&&m.size!==0){if(e[r.sizesInputIdx])throw new Error("Only one of scales or sizes must be provided as input.");f=n(m,r.mode,r.isResize)}else{const y=e[r.sizesInputIdx];if(!y||y.size===0)throw new Error("Either scales or sizes MUST be provided as input.");s=Array.from(y.integerData),f=t(s,i,r.mode,r.isResize)}}else if(e[r.sizesInputIdx])throw new Error("Only one of scales or sizes must be provided as input.");const g=s||i.map((m,y)=>Math.floor(m*f[y]));return[f,g]},n=(e,r,i)=>{const s=Array.from(e.floatData);return(0,u.scalesValidation)(s,r,i),s},t=(e,r,i,s)=>{const f=r.length,g=new Array(f);for(let m=0,y=f;m<y;m++)if(r[m]===0){if(e[m]!==0)throw new Error("Input dim is zero but required output dim is non-zero.");g[m]=1}else g[m]=e[m]/r[m];return(0,u.scalesValidation)(g,i,s),g}},565:(N,c,w)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.shape=void 0;const b=w(9240);c.shape=(h,p)=>(d(p),[new b.Tensor([p[0].dims.length],"int32",void 0,void 0,new Int32Array(p[0].dims))]);const d=h=>{if(!h||h.length!==1)throw new Error("Shape requires 1 input.")}},2444:(N,c,w)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.sliceV10=c.parseSliceAttributes=c.slice=void 0;const b=w(4910),d=w(6145),h=w(7273),p=w(5639),u={name:"Slice",inputNames:["A"],inputTypes:[p.TextureType.unpacked]};c.slice=(t,e,r)=>(a(e),[t.run(Object.assign(Object.assign({},u),{cacheHint:r.cacheKey,get:()=>l(t,e[0],r)}),e)]),c.parseSliceAttributes=t=>{const e=t.attributes.getInts("starts"),r=t.attributes.getInts("ends"),i=t.attributes.getInts("axes",[]);return(0,b.createAttributeWithCacheKey)({starts:e,ends:r,axes:i})};const l=(t,e,r)=>{const i=r.axes.length===0?e.dims.slice(0).map((T,x)=>x):r.axes,s=h.ShapeUtil.normalizeAxes(i,e.dims.length),f=r.starts.map((T,x)=>T>e.dims[s[x]]-1?e.dims[s[x]]:h.ShapeUtil.normalizeAxis(T,e.dims[s[x]])),g=r.ends.map((T,x)=>T>e.dims[s[x]]-1?e.dims[s[x]]:h.ShapeUtil.normalizeAxis(T,e.dims[s[x]])),m=e.dims.slice(),y=[];for(let T=0;T<s.length;T++)m[s[T]]=g[T]-f[T],f[T]>0&&y.push(`outputIdx[${s[T]}] += ${f[T]};`);const v=`
      float process(int outputIdx[${m.length}]) {
        ${y.join(`
      `)}
        return _A(outputIdx);
      }`;return Object.assign(Object.assign({},u),{output:{dims:m,type:e.type,textureType:p.TextureType.unpacked},shaderSource:v})},a=t=>{if(!t||t.length!==1)throw new Error("Slice requires 1 input.");if(d.NUMBER_TYPES.indexOf(t[0].type)===-1)throw new Error("Invalid input type.")};c.sliceV10=(t,e)=>{n(e);const r=o(t,e);return[t.run(Object.assign(Object.assign({},u),{cacheHint:r.cacheKey,get:()=>l(t,e[0],r)}),[e[0]])]};const o=(t,e)=>{if(!t.session.isInitializer(e[1].dataId)||!t.session.isInitializer(e[2].dataId)||e.length>=4&&!t.session.isInitializer(e[3].dataId)||e.length>=5&&!t.session.isInitializer(e[4].dataId))throw new Error("dynamic slice attributes are not allowed");if(e.length>=5&&e[4].integerData.some(f=>f!==1))throw new Error("currently non-1 steps is not supported for Slice");const r=Array.from(e[1].integerData),i=Array.from(e[2].integerData),s=e.length>=4?Array.from(e[3].integerData):[];return{starts:r,ends:i,axes:s,cacheKey:`${s};${r};${i}`}},n=t=>{if(!t||t.length<3||t.length>5)throw new Error("Invalid input number.");if(t[1].type!=="int32"||t[1].dims.length!==1)throw new Error("Invalid input type.");if(t[2].type!=="int32"||t[2].dims.length!==1)throw new Error("Invalid input type.");if(t.length>=4&&(t[3].type!=="int32"||t[3].dims.length!==1))throw new Error("Invalid input type.");if(t.length>=5&&(t[4].type!=="int32"||t[4].dims.length!==1))throw new Error("Invalid input type.")}},815:(N,c,w)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.softmaxV13=c.parseSoftmaxAttributesV13=c.parseSoftmaxAttributes=c.softmax=void 0;const b=w(4910),d=w(7273),h=w(6757),p=w(5639),u=w(5707),l={name:"SoftmaxComputeMax",inputNames:["A"],inputTypes:[p.TextureType.unpacked]},a={name:"SoftmaxComputeScale",inputNames:["A","Max"],inputTypes:[p.TextureType.unpacked,p.TextureType.unpacked]},o={name:"SoftMax",inputNames:["A","Max","Norm"],inputTypes:[p.TextureType.unpacked,p.TextureType.unpacked,p.TextureType.unpacked]};c.softmax=(s,f,g)=>{i(f);const m=f[0].dims.slice(),y=d.ShapeUtil.normalizeAxis(g.axis,m.length),v=d.ShapeUtil.sizeToDimension(m,y),T=d.ShapeUtil.sizeFromDimension(m,y);return n(s,f,g,v,T)},c.parseSoftmaxAttributes=s=>(0,b.createAttributeWithCacheKey)({axis:s.attributes.getInt("axis",1)}),c.parseSoftmaxAttributesV13=s=>(0,b.createAttributeWithCacheKey)({axis:s.attributes.getInt("axis",-1)}),c.softmaxV13=(s,f,g)=>{i(f);const m=f[0].dims.slice(),y=d.ShapeUtil.normalizeAxis(g.axis,m.length),v=m.length,T=y!==v-1,x=[];let A,D=[],$=[];T&&(D=Array.from({length:v}).map((U,O)=>O),D[y]=v-1,D[v-1]=y,D.map(U=>x.push(m[U])),A=(0,b.createAttributeWithCacheKey)({perm:D}),$=(0,u.transpose)(s,f,A));const C=T?d.ShapeUtil.sizeToDimension(x,v-1):d.ShapeUtil.sizeToDimension(m,v-1),M=T?d.ShapeUtil.sizeFromDimension(x,v-1):d.ShapeUtil.sizeFromDimension(m,v-1),S=n(s,T?$:f,g,C,M);return T?(0,u.transpose)(s,S,A):S};const n=(s,f,g,m,y)=>{const v=t(s,f[0],m,y,[m]),T=s.run(Object.assign(Object.assign({},l),{cacheHint:g.cacheKey,get:()=>v}),f),x=e(s,f[0],m,y,v.output.dims,[m]),A=s.run(Object.assign(Object.assign({},a),{cacheHint:g.cacheKey,get:()=>x}),[f[0],T]),D=r(s,f[0],m,y,v.output.dims,x.output.dims);return[s.run(Object.assign(Object.assign({},o),{cacheHint:g.cacheKey,get:()=>D}),[f[0],T,A])]},t=(s,f,g,m,y)=>{const[v,T]=s.calculateTextureWidthAndHeight(f.dims,p.TextureType.unpacked),x=y.length;if(g<1||m<1)throw new Error("Logical row count N and feature count D must be greater than or equal to 1");if(y.length!==1)throw new Error("Dimensionality of the output should be 1");if(y[0]!==g)throw new Error("Shape of the output should be equal to logical row count");const A=(0,h.getGlsl)(s.session.backend.glContext.version),D=`
      float process(int[${x}] indices) {
        int logical_row_start_offset = indices[0] * ${m};

        float max = getColorAsFloat(${A.texture2D}(A, offsetToCoords(logical_row_start_offset, ${v},
        ${T} )));
        for(int i=1; i<${m}; ++i)
        {
          float current = getColorAsFloat(${A.texture2D}(A, offsetToCoords(logical_row_start_offset + i,
            ${v}, ${T})));
          if(current > max)
          max = current;
        }

        return max;
      }`;return Object.assign(Object.assign({},l),{output:{dims:y,type:f.type,textureType:p.TextureType.unpacked},shaderSource:D})},e=(s,f,g,m,y,v)=>{const[T,x]=s.calculateTextureWidthAndHeight(f.dims,p.TextureType.unpacked),A=v.length;if(g<1||m<1)throw new Error("Logical row count N and feature count D must be greater than or equal to 1");if(v.length!==1)throw new Error("Dimensionality of the output should be 1");if(v[0]!==g)throw new Error("Shape of the output should be equal to logical row count");if(y.length!==1)throw new Error("Dimensionality of the intermediate results should be 1");if(y[0]!==g)throw new Error("Shape of the intermediate results should be equal to logical row count");const D=`
      float process(int[${A}] indices) {
        int logical_row_start_offset = indices[0] * ${m};

        float norm_factor = 0.0;
        float max = _Max(indices);
        for(int i=0; i<${m}; ++i)
        {
          norm_factor += exp(getColorAsFloat(${(0,h.getGlsl)(s.session.backend.glContext.version).texture2D}(A, offsetToCoords(logical_row_start_offset + i,
            ${T}, ${x}))) - max);
        }

        return norm_factor;
      }`;return Object.assign(Object.assign({},a),{output:{dims:v,type:f.type,textureType:p.TextureType.unpacked},shaderSource:D})},r=(s,f,g,m,y,v)=>{const[T,x]=s.calculateTextureWidthAndHeight(f.dims,p.TextureType.unpacked),A=f.dims.length;if(g<1||m<1)throw new Error("Logical row count N and feature count D must be greater than or equal to 1");if(y.length!==1||v.length!==1)throw new Error("Dimensionality of the intermediate results should be 1");if(y[0]!==g||v[0]!==g)throw new Error("Shape of the intermediate results should be equal to logical row count");const D=`
      float process(int[${A}] indices) {

      // get offset of current logical tensor index from the 2-D texture coordinates (TexCoords)
      int offset = coordsToOffset(TexCoords, ${T}, ${x});

      //determine the logical row for this index
      int logical_row_index[1];
      logical_row_index[0] = offset / ${m};

      float norm_factor = _Norm(logical_row_index);

      // avoid possible division by 0
      // if norm_facor is 0, all elements are zero
      // if so, return 0
      if(norm_factor == 0.0)
        return 0.0;

      return exp(_A(indices) - _Max(logical_row_index)) / norm_factor;
    }`;return Object.assign(Object.assign({},o),{output:{dims:f.dims,type:f.type,textureType:p.TextureType.unpacked},shaderSource:D})},i=s=>{if(!s||s.length!==1)throw new Error("Softmax requires 1 input.");if(s[0].type!=="float32"&&s[0].type!=="float64")throw new Error("Invalid input type")}},564:(N,c,w)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.parseSplitAttributes=c.split=void 0;const b=w(4910),d=w(7273),h=w(5639),p={name:"Split",inputNames:["A"],inputTypes:[h.TextureType.unpacked]};c.split=(o,n,t)=>{a(n);const e=d.ShapeUtil.normalizeAxis(t.axis,n[0].dims.length),r=u(o,n,e,t),i=[];for(let s=0;s<r;++s)i.push(o.run(Object.assign(Object.assign({},p),{cacheHint:`${t.cacheKey};${s}`,get:()=>l(o,n[0],t,e,s)}),n));return i},c.parseSplitAttributes=o=>{const n=o.attributes.getInt("axis",0),t=o.attributes.getInts("split",[]),e=o.outputs.length;return(0,b.createAttributeWithCacheKey)({axis:n,split:t,numOutputs:e})};const u=(o,n,t,e)=>{const[,r]=d.SplitUtil.splitShape(n[0].dims,t,e.split,e.numOutputs);return r.length},l=(o,n,t,e,r)=>{const[i,s]=d.SplitUtil.splitShape(n.dims,e,t.split,t.numOutputs),f=s[r],g=i[r],m=`
      float process(int indices[${g.length}]) {
        indices[${e}] += ${f};
        return _A(indices);
      }
    `;return Object.assign(Object.assign({},p),{cacheHint:`${t.cacheKey}:${r}`,output:{dims:g,type:n.type,textureType:h.TextureType.unpacked},shaderSource:m})},a=o=>{if(!o||o.length!==1)throw new Error("Split requires one input.");if(o[0].type!=="int8"&&o[0].type!=="uint8"&&o[0].type!=="int16"&&o[0].type!=="uint16"&&o[0].type!=="int32"&&o[0].type!=="uint32"&&o[0].type!=="float32"&&o[0].type!=="float64"&&o[0].type!=="bool")throw new Error("Invalid input type.")}},5416:(N,c,w)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.parseSqueezeAttributes=c.squeezeV13=c.squeeze=void 0;const b=w(7273);c.squeeze=(p,u,l)=>{d(u);const a=b.ShapeUtil.squeezeShape(u[0].dims,l);return[p.reshapeUnpacked(u[0],a)]},c.squeezeV13=(p,u)=>(h(u),(0,c.squeeze)(p,[u[0]],Array.from(u[1].integerData))),c.parseSqueezeAttributes=p=>p.attributes.getInts("axes");const d=p=>{if(!p||p.length!==1)throw new Error("Squeeze requires 1 input.");if(p[0].type==="string")throw new Error("invalid input tensor types.")},h=p=>{if(!p||p.length!==2)throw new Error("Squeeze requires 2 inputs.");if(p[1].type!=="int32")throw new Error("Invalid input type.")}},1240:(N,c,w)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.sum=void 0;const b=w(6757),d=w(5639);c.sum=(u,l)=>{p(l);const a={name:"Sum",inputNames:l.map((o,n)=>`X${n}`),inputTypes:new Array(l.length).fill(d.TextureType.unpacked)};return[u.run(Object.assign(Object.assign({},a),{get:()=>h(u,l,a)}),l)]};const h=(u,l,a)=>{const o=(0,b.getGlsl)(u.session.backend.glContext.version),n=l[0].dims.slice(),t=`
      void main() {
        vec4 result = ${l.map((e,r)=>`${o.texture2D}(X${r},TexCoords)`).join(" + ")};
        ${o.output} = result;
      }
    `;return Object.assign(Object.assign({},a),{output:{dims:n,type:l[0].type,textureType:d.TextureType.unpacked},hasMain:!0,shaderSource:t})},p=u=>{if(!u||u.length===0)throw new Error("Sum requires inputs.");const l=u[0].dims.length;for(let a=1;a<u.length;a++){if(l!==u[a].dims.length)throw new Error("Input shapes are mismatched.");for(let o=0;o<l;o++)if(u[0].dims[o]!==u[a].dims[o])throw new Error("Input shapes are not matched.")}if(u[0].type!=="float32"&&u[0].type!=="float64")throw new Error("Invalid input type.");for(let a=1;a<u.length;a++)if(u[0].type!==u[a].type)throw new Error("Input types are not matched.")}},5944:(N,c,w)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.tile=void 0;const b=w(6145),d=w(5639);c.tile=(u,l)=>{p(l);const a={name:"Tile",inputNames:["A"],inputTypes:[d.TextureType.unpacked]};return[u.run(Object.assign(Object.assign({},a),{get:()=>h(u,l,a)}),l)]};const h=(u,l,a)=>{const o=l[0].dims.slice(),n=new Array(o.length),t=[];for(let i=0;i<o.length;i++)n[i]=o[i]*l[1].numberData[i],t.push(`inputIdx[${i}] = int(mod(float(outputIdx[${i}]), ${o[i]}.));`);const e=n.length,r=`
      float process(int outputIdx[${e}]) {
        int inputIdx[${e}];
        ${t.join(`
`)}
        return _A(inputIdx);
      }
    `;return Object.assign(Object.assign({},a),{output:{dims:n,type:l[0].type,textureType:d.TextureType.unpacked},shaderSource:r})},p=u=>{if(!u||u.length!==2)throw new Error("Tile requires 2 input.");if(u[1].dims.length!==1)throw new Error("The second input shape must 1 dimension.");if(u[1].dims[0]!==u[0].dims.length)throw new Error("Invalid input shape.");if(b.NUMBER_TYPES.indexOf(u[0].type)===-1)throw new Error("Invalid input type.");if(u[1].type!=="int32"&&u[1].type!=="int16")throw new Error("Invalid repeat type.")}},5707:(N,c,w)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.parseTransposeAttributes=c.transpose=void 0;const b=w(4910),d=w(7273),h=w(5639),p={name:"Transpose",inputNames:["A"],inputTypes:[h.TextureType.unpacked]};c.transpose=(t,e,r)=>(n(e),[t.run(Object.assign(Object.assign({},p),{cacheHint:r.cacheKey,get:()=>u(t,e[0],r.perm)}),e)]),c.parseTransposeAttributes=t=>(0,b.createAttributeWithCacheKey)({perm:t.attributes.getInts("perm",[])});const u=(t,e,r)=>{const i=e.dims;r=l(i,r);const s=a(i,r),f=i.length,g=`
      ${o("perm",r,f)}
      float process(int indices[${f}]) {
        int a[${f}];
        perm(a, indices);
        return _A(a);
      }`;return Object.assign(Object.assign({},p),{output:{dims:s,type:e.type,textureType:h.TextureType.unpacked},shaderSource:g})},l=(t,e)=>(e&&e.length!==t.length&&(e=[...t.keys()].reverse()),e),a=(t,e)=>(e=l(t,e),d.ShapeUtil.sortBasedOnPerm(t,e)),o=(t,e,r)=>{const i=[];i.push(`void ${t}(out int a[${r}], int src[${r}]) {`);for(let s=0;s<r;++s)i.push(`	a[${e[s]}]=src[${s}];`);return i.push("	}"),i.join(`
`)},n=t=>{if(!t||t.length!==1)throw new Error("Transpose requires 1 input.");if(t[0].type!=="float32"&&t[0].type!=="float64")throw new Error("input should be float tensor")}},2488:(N,c,w)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.encodeAsUint8=void 0;const b=w(6757),d=w(5639);c.encodeAsUint8=(h,p)=>{const u=p.shape,l=(0,b.getGlsl)(h.session.backend.glContext.version),a=`
    const float FLOAT_MAX = 1.70141184e38;
    const float FLOAT_MIN = 1.17549435e-38;

    bool isNaN(float val) {
      return (val < 1.0 || 0.0 < val || val == 0.0) ? false : true;
    }

    highp vec4 encodeAsUint8(highp float v) {
      if (isNaN(v)) {
        return vec4(255, 255, 255, 255);
      }

      highp float av = abs(v);

      if(av < FLOAT_MIN) {
        return vec4(0.0, 0.0, 0.0, 0.0);
      } else if(v > FLOAT_MAX) {
        return vec4(0.0, 0.0, 128.0, 127.0) / 255.0;
      } else if(v < -FLOAT_MAX) {
        return vec4(0.0, 0.0,  128.0, 255.0) / 255.0;
      }

      highp vec4 c = vec4(0,0,0,0);

      highp float e = floor(log2(av));
      highp float m = exp2(fract(log2(av))) - 1.0;

      c[2] = floor(128.0 * m);
      m -= c[2] / 128.0;
      c[1] = floor(32768.0 * m);
      m -= c[1] / 32768.0;
      c[0] = floor(8388608.0 * m);

      highp float ebias = e + 127.0;
      c[3] = floor(ebias / 2.0);
      ebias -= c[3] * 2.0;
      c[2] += floor(ebias) * 128.0;

      c[3] += 128.0 * step(0.0, -v);

      return c / 255.0;
    }

    void main() {
      float value = ${l.texture2D}(X,TexCoords).r;
      ${l.output} = encodeAsUint8(value);
    }`,o={name:"Uint8Encode",inputTypes:[d.TextureType.unpacked],inputNames:["X"],output:{dims:u,type:p.tensor.type,textureType:d.TextureType.downloadUint8AsFloat},shaderSource:a,hasMain:!0};return h.executeProgram(o,[p.tensor])}},9087:(N,c,w)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.tanh=c.tan=c.sqrt=c.sin=c.sigmoid=c.relu=c.not=c.neg=c.log=c.parseLeakyReluAttributes=c.leakyRelu=c.identity=c.floor=c.exp=c.parseEluAttributes=c.elu=c.cos=c.ceil=c.clipV11=c.parseClipAttributes=c.clip=c.atan=c.asin=c.acos=c.abs=c.glslTanh=c.glslTan=c.glslSqrt=c.glslSigmoid=c.glslRelu=c.glslSin=c.glslNot=c.glslNeg=c.glslLog=c.glslLeakyRelu=c.glslIdentity=c.glslClip=c.glslFloor=c.glslExp=c.glslElu=c.glslCos=c.glslCeil=c.glslAtan=c.glslAsin=c.glslAcos=c.glslAbs=void 0;const b=w(4910),d=w(7273),h=w(1997),p=w(6757),u=w(5639);function l(){return S("abs")}function a(){return S("acos")}function o(){return S("asin")}function n(){return S("atan")}function t(){return S("ceil")}function e(){return S("cos")}function r(E){const F="elu";return{body:`
  const float alpha = float(${E});

  float ${F}_(float a) {
    return a >= 0.0 ? a: (exp(a) - 1.0) * alpha;
  }
  vec4 ${F}_(vec4 v) {
    return vec4(${F}_(v.x), ${F}_(v.y), ${F}_(v.z), ${F}_(v.w));
  }
  `,name:F,type:h.FunctionType.ValueBased}}function i(){return S("exp")}function s(){return S("floor")}function f(E,F){const W="clip";return{body:`
  const float min = float(${E});
  const float max = float(${F});

  float ${W}_(float a) {
    return clamp(a, min, max);
  }
  vec4 ${W}_(vec4 v) {
    return clamp(v, min, max);
  }
  `,name:W,type:h.FunctionType.ValueBased}}function g(){const E="indentity";return{body:`
  float ${E}_(float a) {
    return a;
  }
  vec4 ${E}_(vec4 v) {
    return v;
  }
  `,name:E,type:h.FunctionType.ValueBased}}function m(E){const F="leakyRelu";return{body:`
  const float alpha = float(${E});

  float ${F}_(float a) {
    return a < 0.0 ? a * alpha : a;
  }
  vec4 ${F}_(vec4 v) {
    return vec4(${F}_(v.x), ${F}_(v.y), ${F}_(v.z), ${F}_(v.w));
  }
  `,name:F,type:h.FunctionType.ValueBased}}function y(){return S("log")}function v(){const E="neg";return{body:`
  float ${E}_(float a) {
    return -a;
  }
  vec4 ${E}_(vec4 v) {
    return -v;
  }
  `,name:E,type:h.FunctionType.ValueBased}}function T(){const E="not";return{body:`
  float ${E}_(float a) {
    return float( ! bool(a) );
  }
  bool ${E}_(bool a) {
    return !a;
  }
  vec4 ${E}_(vec4 v) {
    return vec4(!bool(v.x), !bool(v.y), !bool(v.z), !bool(v.w));
  }
  bvec4 ${E}_(bvec4 v) {
    return bvec4(!v.x, !v.y, !v.z, !v.w);
  }
  `,name:E,type:h.FunctionType.ValueBased}}function x(){return S("sin")}function A(){const E="relu";return{body:`
  float ${E}_(float a) {
    return max( a, 0.0 );
  }
  vec4 ${E}_(vec4 v) {
    return max( v, 0.0 );
  }
  `,name:E,type:h.FunctionType.ValueBased}}function D(){const E="sigmoid";return{body:`
  float ${E}_(float a) {
    return 1.0 / (1.0 + exp(-a));
  }
  vec4 ${E}_(vec4 v) {
    return 1.0 / (1.0 + exp(-v));
  }
  `,name:E,type:h.FunctionType.ValueBased}}function $(){return S("sqrt")}function C(){return S("tan")}function M(){const E="tanh";return{body:`
  float ${E}_(float a) {
    a = clamp(a, -10., 10.);
    a = exp(2.*a);
    return (a - 1.) / (a + 1.);
  }
  vec4 ${E}_(vec4 v) {
    v = clamp(v, -10., 10.);
    v = exp(2.*v);
    return (v - 1.) / (v + 1.);
  }
  `,name:E,type:h.FunctionType.ValueBased}}function S(E){return{body:`
  float ${E}_(float a) {
    return ${E}(a);
  }
  vec4 ${E}_(vec4 v) {
    return ${E}(v);
  }
  `,name:E,type:h.FunctionType.ValueBased}}c.glslAbs=l,c.glslAcos=a,c.glslAsin=o,c.glslAtan=n,c.glslCeil=t,c.glslCos=e,c.glslElu=r,c.glslExp=i,c.glslFloor=s,c.glslClip=f,c.glslIdentity=g,c.glslLeakyRelu=m,c.glslLog=y,c.glslNeg=v,c.glslNot=T,c.glslSin=x,c.glslRelu=A,c.glslSigmoid=D,c.glslSqrt=$,c.glslTan=C,c.glslTanh=M;const U=(E,F,W,H)=>{const K=E.session.pack?u.TextureType.packed:u.TextureType.unpacked,X={name:W.name,inputTypes:[K],inputNames:["A"],cacheHint:H};return Object.assign(Object.assign({},X),{get:()=>((J,tt,nt,rt)=>{const it=J.session.pack?u.TextureType.packed:u.TextureType.unpacked,ut=(0,p.getGlsl)(J.session.backend.glContext.version);return Object.assign(Object.assign({},tt),{output:{dims:nt.dims,type:nt.type,textureType:it},shaderSource:`
     ${rt.body}
     void main() {
       vec4 v = ${ut.texture2D}(A, TexCoords);
       v = ${rt.name}_(v);
       ${ut.output} = v;
     }
     `,hasMain:!0})})(E,X,F,W)})};c.abs=(E,F)=>[E.run(U(E,F[0],l()),F)],c.acos=(E,F)=>[E.run(U(E,F[0],a()),F)],c.asin=(E,F)=>[E.run(U(E,F[0],o()),F)],c.atan=(E,F)=>[E.run(U(E,F[0],n()),F)],c.clip=(E,F,W)=>[E.run(U(E,F[0],f(W.min,W.max),W.cacheKey),F)],c.parseClipAttributes=E=>(0,b.createAttributeWithCacheKey)({min:E.attributes.getFloat("min",d.MIN_CLIP),max:E.attributes.getFloat("max",d.MAX_CLIP)}),c.clipV11=(E,F)=>{const W=O(E,F);return(0,c.clip)(E,[F[0]],W)};const O=(E,F)=>{if(F.length>=3&&(!E.session.isInitializer(F[1].dataId)||!E.session.isInitializer(F[2].dataId)))throw new Error("dynamic clip attributes are not allowed");const W=F.length>=3?F[1].numberData[0]:d.MIN_CLIP,H=F.length>=3?F[2].numberData[0]:d.MAX_CLIP;return(0,b.createAttributeWithCacheKey)({min:W,max:H})};c.ceil=(E,F)=>[E.run(U(E,F[0],t()),F)],c.cos=(E,F)=>[E.run(U(E,F[0],e()),F)],c.elu=(E,F,W)=>[E.run(U(E,F[0],r(W.alpha),W.cacheKey),F)],c.parseEluAttributes=E=>(0,b.createAttributeWithCacheKey)({alpha:E.attributes.getFloat("alpha",1)}),c.exp=(E,F)=>[E.run(U(E,F[0],i()),F)],c.floor=(E,F)=>[E.run(U(E,F[0],s()),F)],c.identity=(E,F)=>[E.run(U(E,F[0],g()),F)],c.leakyRelu=(E,F,W)=>[E.run(U(E,F[0],m(W.alpha),W.cacheKey),F)],c.parseLeakyReluAttributes=E=>(0,b.createAttributeWithCacheKey)({alpha:E.attributes.getFloat("alpha",.01)}),c.log=(E,F)=>[E.run(U(E,F[0],y()),F)],c.neg=(E,F)=>[E.run(U(E,F[0],v()),F)],c.not=(E,F)=>[E.run(U(E,F[0],T()),F)],c.relu=(E,F)=>[E.run(U(E,F[0],A()),F)],c.sigmoid=(E,F)=>[E.run(U(E,F[0],D()),F)],c.sin=(E,F)=>[E.run(U(E,F[0],x()),F)],c.sqrt=(E,F)=>[E.run(U(E,F[0],$()),F)],c.tan=(E,F)=>[E.run(U(E,F[0],C()),F)],c.tanh=(E,F)=>[E.run(U(E,F[0],M()),F)]},540:(N,c,w)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.createUnpackProgramInfoLoader=c.createUnpackProgramInfo=void 0;const b=w(6757),d=w(5639),h=w(432),p=w(5614),u={name:"unpack",inputNames:["A"],inputTypes:[d.TextureType.packed]};c.createUnpackProgramInfo=(l,a)=>{const o=a.dims.length,n=(0,p.getChannels)("rc",o),t=n.slice(-2),e=(0,h.getCoordsDataType)(o),r=(0,p.unpackFromChannel)(),i=a.dims.length===0?"":function(g,m){if(g===1)return"rc";let y="";for(let v=0;v<g;v++)y+=m[v],v<g-1&&(y+=",");return y}(o,n),s=o<=1?"rc":`vec2(${t.join(",")})`,f=`
    ${r}
    void main() {
      ${e} rc = getOutputCoords();

       // Sample the texture with the coords to get the rgba channel value.
       vec4 packedInput = getA(${i});

       ${(0,b.getGlsl)(l.session.backend.glContext.version).output} = vec4(getChannel(packedInput, ${s}), 0, 0, 0);
     }
   `;return Object.assign(Object.assign({},u),{hasMain:!0,output:{dims:a.dims,type:a.type,textureType:d.TextureType.unpacked},shaderSource:f})},c.createUnpackProgramInfoLoader=(l,a)=>Object.assign(Object.assign({},u),{get:()=>(0,c.createUnpackProgramInfo)(l,a)})},7862:(N,c,w)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.parseUnsqueezeAttributes=c.unsqueezeV13=c.unsqueeze=void 0;const b=w(7273);c.unsqueeze=(p,u,l)=>{d(u);const a=b.ShapeUtil.unsqueezeShape(u[0].dims,l);return[p.reshapeUnpacked(u[0],a)]},c.unsqueezeV13=(p,u)=>(h(u),(0,c.unsqueeze)(p,[u[0]],Array.from(u[1].integerData))),c.parseUnsqueezeAttributes=p=>p.attributes.getInts("axes");const d=p=>{if(!p||p.length!==1)throw new Error("Unsqueeze requires 1 input.");if(p[0].type==="string")throw new Error("invalid input tensor types.")},h=p=>{if(!p||p.length!==2)throw new Error("Unsqueeze requires 2 inputs.");if(p[1].type!=="int32")throw new Error("Invalid input type.")}},3980:(N,c,w)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.scalesValidation=c.validateInputs=c.parseUpsampleAttributes=c.parseUpsampleAttributesV9=c.parseUpsampleAttributesV7=c.upsample=void 0;const b=w(4910),d=w(6757),h=w(5639),p={name:"Upsample",inputNames:["X"],inputTypes:[h.TextureType.unpacked]};c.upsample=(l,a,o)=>((0,c.validateInputs)(a,o),[l.run(Object.assign(Object.assign({},p),{cacheHint:o.cacheKey,get:()=>u(l,a,o)}),a)]),c.parseUpsampleAttributesV7=l=>(0,c.parseUpsampleAttributes)(l,7),c.parseUpsampleAttributesV9=l=>(0,c.parseUpsampleAttributes)(l,9),c.parseUpsampleAttributes=(l,a)=>{const o=a>=10,n=l.attributes.getString("mode","nearest");if(n!=="nearest"&&n!=="linear"&&(a<11||n!=="cubic"))throw new Error(`unrecognized mode: ${n}`);let t=[];a<9&&(t=l.attributes.getFloats("scales"),(0,c.scalesValidation)(t,n,o));const e=l.attributes.getFloat("extrapolation_value",0),r=a>10?l.attributes.getString("coordinate_transformation_mode","half_pixel"):"asymmetric";if(["asymmetric","pytorch_half_pixel","tf_half_pixel_for_nn","align_corners","tf_crop_and_resize","half_pixel"].indexOf(r)===-1)throw new Error(`coordinate_transform_mode '${r}' is not supported`);const i=r==="tf_crop_and_resize",s=i,f=n==="nearest"&&a>=11?l.attributes.getString("nearest_mode","round_prefer_floor"):"";if(["round_prefer_floor","round_prefer_ceil","floor","ceil",""].indexOf(f)===-1)throw new Error(`nearest_mode '${f}' is not supported`);const g=l.attributes.getFloat("cubic_coeff_a",-.75),m=l.attributes.getInt("exclude_outside",0)!==0;if(m&&n!=="cubic")throw new Error("exclude_outside can be set to 1 only when mode is CUBIC.");const y=a<11||n==="nearest"&&r==="asymmetric"&&f==="floor";let v=0,T=0,x=0;return a>10?l.inputs.length>2?(v=1,T=2,x=3):(T=1,x=2):a===9&&(T=1),(0,b.createAttributeWithCacheKey)({opset:a,isResize:o,mode:n,scales:t,extrapolationValue:e,coordinateTransformMode:r,useExtrapolation:s,needRoiInput:i,nearestMode:f,cubicCoefficientA:g,excludeOutside:m,useNearest2xOptimization:y,roiInputIdx:v,scalesInputIdx:T,sizesInputIdx:x})};const u=(l,a,o)=>{const n=(0,d.getGlsl)(l.session.backend.glContext.version),[t,e]=l.calculateTextureWidthAndHeight(a[0].dims,h.TextureType.unpacked),r=a[0].dims.map((x,A)=>Math.floor(x*o.scales[A])),[i,s]=l.calculateTextureWidthAndHeight(r,h.TextureType.unpacked),f=r.length,g=new Array(f),m=new Array(f);let y=`
      int output_pitches[${f}];
      int input_pitches[${f}];
      `;for(let x=f-1;x>=0;x--)g[x]=x===f-1?1:g[x+1]*r[x+1],m[x]=x===f-1?1:m[x+1]*a[0].dims[x+1],y+=`
        output_pitches[${x}] = ${g[x]};
        input_pitches[${x}] = ${m[x]};
        `;const v=`
      float getInputFloat(int index) {
        vec2 coords = offsetToCoords(index, ${t}, ${e});
        float value = getColorAsFloat(${n.texture2D}(X, coords));
        return value;
      }
      `,T=o.mode==="nearest"?`
    ${v}
    float process(int indices[${f}]) {
      int input_index = 0;
      int output_index = coordsToOffset(TexCoords, ${i}, ${s});

      ${y}

      int d, m;
      for (int dim = 0; dim < ${f}; ++dim) {
        d = output_index / output_pitches[dim];
        m = output_index - d * output_pitches[dim];
        output_index = m;

        if (scales[dim] != 1 && d > 0) {
          int d2 = d / scales[dim];
          m = d - d2 * scales[dim];
          d = d2;
        }
        input_index += input_pitches[dim] * d;
      }

      return getInputFloat(input_index);
    }`:f===4?`
    ${v}
    float process(int indices[4]) {
      int input_index = 0;
      int output_index = coordsToOffset(TexCoords, ${i}, ${s});

      ${y}

      int m;
      int index_of_dim0, index_of_dim1, index_of_dim2, index_of_dim3;
      index_of_dim0 = output_index / output_pitches[0];
      m = output_index - index_of_dim0 * output_pitches[0];
      index_of_dim1 = m / output_pitches[1];
      m = m - index_of_dim1 * output_pitches[1];
      index_of_dim2 = m / output_pitches[2];
      m = m - index_of_dim2 * output_pitches[2];
      index_of_dim3 = m;

      int index_of_input_dim2, index_of_input_dim3, x_offset, y_offset;
      index_of_input_dim2 = index_of_dim2 / scales[2];
      y_offset = index_of_dim2 - index_of_input_dim2 * scales[2];
      index_of_input_dim3 = index_of_dim3 / scales[3];
      x_offset = index_of_dim3 - index_of_input_dim3 * scales[3];

      input_index = index_of_dim0 * input_pitches[0] +
            index_of_dim1 * input_pitches[1] +
            index_of_input_dim2 * input_pitches[2] +
            index_of_input_dim3;

      float x00 = getInputFloat(input_index);
      float x10, x01, x11;

      bool end_of_dim2 = false;
      if (index_of_input_dim2 == (${a[0].dims[2]} - 1)) {
        // It's the end in dimension 2
        x01 = x00;
        end_of_dim2 = true;
      } else {
        x01 = getInputFloat(input_index + input_pitches[2]);
      }

      if (index_of_input_dim3 == (input_pitches[2] - 1)) {
        // It's the end in dimension 3
        x10 = x00;
        x11 = x01;
      }
      else {
        x10 = getInputFloat(input_index + 1);
        x11 = end_of_dim2 ? x10 : getInputFloat(input_index + input_pitches[2] + 1);
      }

      float y0 = x00 + float(y_offset) * (x01 - x00) / float(scales[2]);
      float y1 = x10 + float(y_offset) * (x11 - x10) / float(scales[2]);
      return y0 + float(x_offset) * (y1 - y0) / float(scales[3]);
    }`:`
    ${v}
    float process(int indices[2]) {
      int input_index = 0;
      int output_index = coordsToOffset(TexCoords, ${i}, ${s});

      ${y}

      int m;
      int index_of_dim0, index_of_dim1;
      index_of_dim0 = output_index / output_pitches[0];
      m = output_index - index_of_dim0 * output_pitches[0];
      index_of_dim1 = m;

      int index_of_input_dim0, index_of_input_dim1, x_offset, y_offset;
      index_of_input_dim0 = index_of_dim0 / scales[0];
      y_offset = index_of_dim0 - index_of_input_dim0 * scales[0];
      index_of_input_dim1 = index_of_dim1 / scales[1];
      x_offset = index_of_dim1 - index_of_input_dim1 * scales[1];

      input_index = index_of_input_dim0 * input_pitches[0] + index_of_input_dim1;

      float x00 = getInputFloat(input_index);
      float x10, x01, x11;

      bool end_of_dim0 = false;
      if (index_of_input_dim0 == (${a[0].dims[0]} - 1)) {
        // It's the end in dimension 0
        x01 = x00;
        end_of_dim0 = true;
      } else {
        x01 = getInputFloat(input_index + input_pitches[0]);
      }

      if (index_of_input_dim1 == (input_pitches[0] - 1)) {
        // It's the end in dimension 1
        x10 = x00;
        x11 = x01;
      }
      else {
        x10 = getInputFloat(input_index + 1);
        x11 = end_of_dim0 ? x10 : getInputFloat(input_index + input_pitches[0] + 1);
      }

      float y0 = x00 + float(y_offset) * (x01 - x00) / float(scales[0]);
      float y1 = x10 + float(y_offset) * (x11 - x10) / float(scales[0]);
      return y0 + float(x_offset) * (y1 - y0) / float(scales[1]);
    }`;return Object.assign(Object.assign({},p),{output:{dims:r,type:a[0].type,textureType:h.TextureType.unpacked},shaderSource:T,variables:[{name:"scales",type:"int",arrayLength:o.scales.length,data:o.scales.map(x=>Math.ceil(x))}]})};c.validateInputs=(l,a)=>{if(!l||a.opset<9&&l.length!==1||a.opset>=9&&a.opset<11&&l.length!==2||a.opset>=11&&l.length<2)throw new Error("invalid inputs.");if(a.scales.length>0&&l[0].dims.length!==a.scales.length)throw new Error("Invalid input shape.");if(l[0].type==="string")throw new Error("Invalid input tensor types.")},c.scalesValidation=(l,a,o)=>{if(o){for(const n of l)if(n<=0)throw new Error("Scale value should be greater than 0.")}else for(const n of l)if(n<1)throw new Error("Scale value should be greater than or equal to 1.");if(!(a!=="linear"&&a!=="cubic"||l.length===2||l.length===4&&l[0]===1&&l[1]===1))throw new Error(`'Linear' mode and 'Cubic' mode only support 2-D inputs ('Bilinear', 'Bicubic')         or 4-D inputs with the corresponding outermost 2 scale values being 1         in the ${o?"Resize":"Upsample"} opeartor.`)}},2757:(N,c,w)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.ProgramManager=void 0;const b=w(2235),d=w(1315),h=w(8897),p=w(6757);c.ProgramManager=class{constructor(u,l,a){this.profiler=u,this.glContext=l,this.textureLayoutStrategy=a,this.repo=new Map,this.attributesBound=!1}getArtifact(u){return this.repo.get(u)}setArtifact(u,l){this.repo.set(u,l)}run(u,l,a){var o;this.profiler.event("op",`ProgramManager.run ${(o=u.programInfo.name)!==null&&o!==void 0?o:"unknown kernel"}`,()=>{var n;const t=this.glContext.gl,e=u.program;t.useProgram(e);try{this.bindOutput(a),this.attributesBound||this.bindAttributes(u.attribLocations),this.bindUniforms(u.uniformLocations,(n=u.programInfo.variables)!==null&&n!==void 0?n:[],l)}catch(r){throw d.Logger.error("ProgramManager",u.programInfo.shaderSource),r}this.profiler.event("backend","GlContext.draw()",()=>{this.glContext.draw()})},this.glContext)}dispose(){this.vertexShader&&this.glContext.deleteShader(this.vertexShader),this.repo.forEach(u=>this.glContext.deleteProgram(u.program))}build(u,l,a){return this.profiler.event("backend","ProgramManager.build",()=>{const o=new h.GlslPreprocessor(this.glContext,u,l,a),n=o.preprocess(),t=this.compile(n);return{programInfo:u,program:t,uniformLocations:this.getUniformLocations(t,o.context.programInfo.inputNames,o.context.programInfo.variables),attribLocations:this.getAttribLocations(t)}})}compile(u){if(!this.vertexShader){d.Logger.verbose("ProrgramManager","Compiling and caching Vertex shader for the first time");const o=(0,p.getVertexShaderSource)(this.glContext.version);this.vertexShader=this.glContext.compileShader(o,this.glContext.gl.VERTEX_SHADER)}b.env.debug&&d.Logger.verbose("ProrgramManager",`FragShader:
${u}
`);const l=this.glContext.compileShader(u,this.glContext.gl.FRAGMENT_SHADER),a=this.glContext.createProgram(this.vertexShader,l);return this.glContext.deleteShader(l),a}bindOutput(u){const l=u.width,a=u.height;d.Logger.verbose("ProrgramManager",`Binding output texture to Framebuffer: w/h=${l}/${a}, shape=${u.shape}, type=${u.tensor.type}`),this.glContext.attachFramebuffer(u.texture,l,a)}bindAttributes(u){const l=u.position,a=u.textureCoord;this.glContext.setVertexAttributes(l,a),this.attributesBound=!0}bindUniforms(u,l,a){var o;const n=this.glContext.gl;let t=0;for(const{name:e,type:r,location:i,arrayLength:s}of u){const f=(o=l.find(g=>g.name===e))===null||o===void 0?void 0:o.data;if(r!=="sampler2D"&&!f)throw new Error(`variable '${e}' does not have data defined in program info`);switch(r){case"sampler2D":this.bindTexture(a[t],i,t),t++;break;case"float":s?n.uniform1fv(i,f):n.uniform1f(i,f);break;case"int":s?n.uniform1iv(i,f):n.uniform1i(i,f);break;default:throw new Error(`Uniform not implemented: ${r}`)}}}bindTexture(u,l,a){this.glContext.bindTextureToUniform(u.texture,a,l)}getAttribLocations(u){return{position:this.getAttribLocation(u,"position"),textureCoord:this.getAttribLocation(u,"textureCoord")}}getUniformLocations(u,l,a){const o=[];if(l)for(const n of l)o.push({name:n,type:"sampler2D",location:this.getUniformLocation(u,n)});if(a)for(const n of a)o.push(Object.assign(Object.assign({},n),{location:this.getUniformLocation(u,n.name)}));return o}getUniformLocation(u,l){const a=this.glContext.gl.getUniformLocation(u,l);if(a===null)throw new Error(`Uniform ${l} not found.`);return a}getAttribLocation(u,l){return this.glContext.gl.getAttribLocation(u,l)}}},2171:(N,c,w)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.WebGLSessionHandler=void 0;const b=w(1315),d=w(5881),h=w(7860),p=w(4110),u=w(2757),l=w(7618),a=w(5243);c.WebGLSessionHandler=class{constructor(o,n){this.backend=o,this.context=n,this.layoutStrategy=new l.PreferLogicalStrategy(o.glContext.maxTextureSize),this.programManager=new u.ProgramManager(this.context.profiler,o.glContext,this.layoutStrategy),this.textureManager=new a.TextureManager(o.glContext,this.layoutStrategy,this.context.profiler,{reuseTextures:o.textureCacheMode==="full"}),this.packedTextureDataCache=new Map,this.unpackedTextureDataCache=new Map,this.pack=o.pack,this.pack2unpackMap=new Map,this.unpack2packMap=new Map}createInferenceHandler(){return new h.WebGLInferenceHandler(this)}onGraphInitialized(o){const n=o.getValues().filter(t=>t.from===-1&&t.tensor).map(t=>t.tensor.dataId);this.initializers=new Set(n)}isInitializer(o){return!!this.initializers&&this.initializers.has(o)}addInitializer(o){this.initializers.add(o)}getTextureData(o,n){return n?this.packedTextureDataCache.get(o):this.unpackedTextureDataCache.get(o)}setTextureData(o,n,t=!1){b.Logger.verbose("WebGLSessionHandler","Storing Texture data in cache"),t?this.packedTextureDataCache.set(o,n):this.unpackedTextureDataCache.set(o,n)}dispose(){this.programManager.dispose(),this.textureManager.clearActiveTextures(),this.packedTextureDataCache.forEach(o=>this.textureManager.releaseTexture(o,!0)),this.packedTextureDataCache=new Map,this.unpackedTextureDataCache.forEach(o=>this.textureManager.releaseTexture(o,!0)),this.unpackedTextureDataCache=new Map}resolve(o,n,t){const e=(0,d.resolveOperator)(o,n,p.WEBGL_OP_RESOLVE_RULES);return{impl:e.opImpl,context:e.opInit?e.opInit(o,t):o}}}},9622:(N,c,w)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.Uint8DataEncoder=c.RGBAFloatDataEncoder=c.RedFloat32DataEncoder=void 0;const b=w(1315);c.RedFloat32DataEncoder=class{constructor(d,h=1){if(h===1)this.internalFormat=d.R32F,this.format=d.RED,this.textureType=d.FLOAT,this.channelSize=h;else{if(h!==4)throw new Error(`Invalid number of channels: ${h}`);this.internalFormat=d.RGBA32F,this.format=d.RGBA,this.textureType=d.FLOAT,this.channelSize=h}}encode(d,h){let p,u;return d.constructor!==Float32Array&&(b.Logger.warning("Encoder","data was not of type Float32; creating new Float32Array"),u=new Float32Array(d)),h*this.channelSize>d.length?(b.Logger.warning("Encoder","Source data too small. Allocating larger array"),u=d,p=this.allocate(h*this.channelSize),u.forEach((l,a)=>p[a]=l)):(u=d,p=u),p}allocate(d){return new Float32Array(4*d)}decode(d,h){return this.channelSize===1?d.filter((p,u)=>u%4==0).subarray(0,h):d.subarray(0,h)}},c.RGBAFloatDataEncoder=class{constructor(d,h=1,p){if(h!==1&&h!==4)throw new Error(`Invalid number of channels: ${h}`);this.internalFormat=d.RGBA,this.format=d.RGBA,this.channelSize=h,this.textureType=p||d.FLOAT}encode(d,h){let p=d;return this.channelSize===1&&(b.Logger.verbose("Encoder","Exploding into a larger array"),p=this.allocate(h),d.forEach((u,l)=>p[4*l]=u)),p}allocate(d){return new Float32Array(4*d)}decode(d,h){return this.channelSize===1?d.filter((p,u)=>u%4==0).subarray(0,h):d.subarray(0,h)}},c.Uint8DataEncoder=class{constructor(d,h=1){if(this.channelSize=4,h===1)this.internalFormat=d.ALPHA,this.format=d.ALPHA,this.textureType=d.UNSIGNED_BYTE,this.channelSize=h;else{if(h!==4)throw new Error(`Invalid number of channels: ${h}`);this.internalFormat=d.RGBA,this.format=d.RGBA,this.textureType=d.UNSIGNED_BYTE,this.channelSize=h}}encode(d,h){return new Uint8Array(d.buffer,d.byteOffset,d.byteLength)}allocate(d){return new Uint8Array(d*this.channelSize)}decode(d,h){if(d instanceof Uint8Array)return d.subarray(0,h);throw new Error(`Invalid array type: ${d.constructor}`)}}},7618:(N,c,w)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.getBatchDim=c.sizeToSquarishShape=c.getRowsCols=c.sizeFromShape=c.isInt=c.parseAxisParam=c.squeezeShape=c.PreferLogicalStrategy=c.AlwaysKeepOriginalSizeStrategy=void 0;const b=w(1315),d=w(7273);function h(o,n){const t=[],e=[],r=n!=null&&Array.isArray(n)&&n.length===0,i=n==null||r?null:p(n,o).sort();let s=0;for(let f=0;f<o.length;++f){if(i!=null){if(i[s]===f&&o[f]!==1)throw new Error(`Can't squeeze axis ${f} since its dim '${o[f]}' is not 1`);(i[s]==null||i[s]>f)&&o[f]===1&&(t.push(o[f]),e.push(f)),i[s]<=f&&s++}o[f]!==1&&(t.push(o[f]),e.push(f))}return{newShape:t,keptDims:e}}function p(o,n){const t=n.length;return o=o==null?n.map((e,r)=>r):[].concat(o),(0,d.assert)(o.every(e=>e>=-t&&e<t),()=>`All values in axis param must be in range [-${t}, ${t}) but got axis ${o}`),(0,d.assert)(o.every(u),()=>`All values in axis param must be integers but got axis ${o}`),o.map(e=>e<0?t+e:e)}function u(o){return o%1==0}function l(o){if(o.length===0)return 1;let n=o[0];for(let t=1;t<o.length;t++)n*=o[t];return n}function a(o){const n=Math.ceil(Math.sqrt(o));return[n,Math.ceil(o/n)]}c.AlwaysKeepOriginalSizeStrategy=class{constructor(o){this.maxTextureSize=o}computeTextureWH(o,n){if(o.length===0)return[1,1];const t=this.maxTextureSize;if(n&&n.breakAxis!==void 0){const i=n.breakAxis>=o.length?1:o.slice(n.breakAxis).reduce((f,g)=>f*g),s=n.breakAxis<=0?1:o.slice(0,n.breakAxis).reduce((f,g)=>f*g);if(!(i>t||s>t))return[i,s];b.Logger.verbose("TextureLayout",`Given width/height preferences were unattainable: shape:${o}, breakAxis:${n.breakAxis}`)}const e=o.reduce((i,s)=>i*s);let r=Math.floor(Math.sqrt(e));for(;r<t&&r<e&&e%r!=0;r++);if(r>=t||e%r!=0)throw new Error(`The given dimensions are outside this GPU's boundaries: ${o}`);return[r,e/r]}},c.PreferLogicalStrategy=class{constructor(o){this.maxTextureSize=o}computeTextureWH(o,n){const t=this.computeTexture(o,n);return n&&n.isPacked&&(t[0]/=2,t[1]/=2),n&&n.reverseWH?[t[1],t[0]]:t}computeTexture(o,n){const t=n&&n.isPacked;if(o.length===0)return t?[2,2]:[1,1];let e=this.maxTextureSize;if(n&&n.breakAxis!==void 0){const s=n.breakAxis>=o.length?1:o.slice(n.breakAxis).reduce((g,m)=>g*m),f=n.breakAxis<=0?1:o.slice(0,n.breakAxis).reduce((g,m)=>g*m);if(!(s>e||f>e))return[s,f];b.Logger.verbose("TextureLayout",`Given width/height preferences were unattainable: shape:${o}, breakAxis:${n.breakAxis}`)}let r=o.slice(0);t&&(e*=2,r=r.map((s,f)=>f>=r.length-2?r[f]%2==0?r[f]:r[f]+1:r[f]),r.length===1&&(r=[2,r[0]])),r.length!==2&&(r=h(r).newShape);const i=l(r);return r.length<=1&&i<=e?[1,i]:r.length===2&&r[0]<=e&&r[1]<=e?r:r.length===3&&r[0]*r[1]<=e&&r[2]<=e?[r[0]*r[1],r[2]]:r.length===3&&r[0]<=e&&r[1]*r[2]<=e?[r[0],r[1]*r[2]]:r.length===4&&r[0]*r[1]*r[2]<=e&&r[3]<=e?[r[0]*r[1]*r[2],r[3]]:r.length===4&&r[0]<=e&&r[1]*r[2]*r[3]<=e?[r[0],r[1]*r[2]*r[3]]:t?a(i/4).map(s=>2*s):a(i)}},c.squeezeShape=h,c.parseAxisParam=p,c.isInt=u,c.sizeFromShape=l,c.getRowsCols=function(o){if(o.length===0)throw Error("Cannot get rows and columns of an empty shape array.");return[o.length>1?o[o.length-2]:1,o[o.length-1]]},c.sizeToSquarishShape=a,c.getBatchDim=function(o,n=2){return l(o.slice(0,o.length-n))}},3314:(N,c,w)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.createTextureLayoutFromShape=c.calculateTextureWidthAndHeight=c.createTextureLayoutFromTextureType=void 0;const b=w(7273),d=w(5639);c.createTextureLayoutFromTextureType=(h,p,u)=>{const l=u===d.TextureType.unpacked||u===d.TextureType.unpackedReversed?1:4,a=u===d.TextureType.packed,o=u===d.TextureType.unpackedReversed||u===d.TextureType.packed,n=u===d.TextureType.packedLastDimension?p.length-1:void 0,t=u===d.TextureType.packedLastDimension?p.map((e,r)=>r===p.length-1?4*e:e):void 0;return(0,c.createTextureLayoutFromShape)(h,p,l,t,{isPacked:a,reverseWH:o,breakAxis:n})},c.calculateTextureWidthAndHeight=(h,p,u)=>{const l=(0,c.createTextureLayoutFromTextureType)(h,p,u);return[l.width,l.height]},c.createTextureLayoutFromShape=(h,p,u=1,l,a)=>{const o=!(!a||!a.isPacked),[n,t]=h.computeTextureWH(o&&l||p,a),e=p.length;let r=p.slice(0);if(e===0&&(r=[1]),u===1)l=p;else if(o){if(u!==4)throw new Error("a packed texture must be 4-channel");l=p,e>0&&(r[e-1]=Math.ceil(r[e-1]/2)),e>1&&(r[e-2]=Math.ceil(r[e-2]/2))}else if(!l)throw new Error("Unpacked shape is needed when using channels > 1");return{width:n,height:t,channels:u,isPacked:o,shape:r,strides:b.ShapeUtil.computeStrides(r),unpackedShape:l,reversedWH:a&&a.reverseWH}}},5243:(N,c,w)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.TextureManager=void 0;const b=w(1315);c.TextureManager=class{constructor(d,h,p,u){this.glContext=d,this.layoutStrategy=h,this.profiler=p,this.config=u,this.pendingRead=new Map,u.reuseTextures&&(this.inUseTextures=new Map,this.idleTextures=new Map,this.textureLookup=new Map)}createTextureFromLayout(d,h,p,u){const l=this.toEncoderType(d),a=this.glContext.getEncoder(l,h.channels||1,u);if(h.isPacked&&u===1)throw new Error("not implemented");const o=h.width,n=h.height;let t,e;if(this.config.reuseTextures){t=`${o}x${n}_${a.format}_${a.internalFormat}_${a.textureType}`,e=this.inUseTextures.get(t),e||(e=[],this.inUseTextures.set(t,e));const i=this.idleTextures.get(t);if(i&&i.length>0){const s=i.pop();return e.push(s),u===1&&this.glContext.updateTexture(s,o,n,a,this.toTextureData(d,p)),s}}b.Logger.verbose("TextureManager",`Creating new texture of size ${h.width}x${h.height}`);const r=this.glContext.allocateTexture(o,n,a,this.toTextureData(d,p));return this.config.reuseTextures&&(e.push(r),this.textureLookup.set(r,t)),r}readTexture(d,h,p){return p||(p=1),this.profiler.event("backend","TextureManager.readTexture",()=>{const u=d.shape.reduce((a,o)=>a*o)*p,l=this.glContext.readTexture(d.texture,d.width,d.height,u,this.toEncoderType(h),p);return this.toTensorData(h,l)})}async readTextureAsync(d,h,p){const u=d.tensor.dataId;if(p||(p=1),this.pendingRead.has(u)){const l=this.pendingRead.get(u);return new Promise(a=>l==null?void 0:l.push(a))}return this.profiler.event("backend","TextureManager.readTextureAsync",async()=>{this.pendingRead.set(u,[]);const l=d.shape.reduce((t,e)=>t*e)*p;await this.glContext.createAndWaitForFence();const a=this.glContext.readTexture(d.texture,d.width,d.height,l,this.toEncoderType(h),p),o=this.toTensorData(h,a),n=this.pendingRead.get(u);return this.pendingRead.delete(u),n==null||n.forEach(t=>t(o)),o})}readUint8TextureAsFloat(d){return this.profiler.event("backend","TextureManager.readUint8TextureAsFloat",()=>{const h=d.shape.reduce((u,l)=>u*l),p=this.glContext.readTexture(d.texture,d.width,d.height,4*h,"byte",4);return new Float32Array(p.buffer,p.byteOffset,h)})}releaseTexture(d,h){let p;if(this.config.reuseTextures&&(p=this.textureLookup.get(d.texture),p)){h&&this.textureLookup.delete(p);const u=this.inUseTextures.get(p);if(u){const l=u.indexOf(d.texture);if(l!==-1){u.splice(l,1);let a=this.idleTextures.get(p);a||(a=[],this.idleTextures.set(p,a)),a.push(d.texture)}}}p&&!h||(b.Logger.verbose("TextureManager",`Deleting texture of size ${d.width}x${d.height}`),this.glContext.deleteTexture(d.texture))}toTensorData(d,h){switch(d){case"int16":return h instanceof Int16Array?h:Int16Array.from(h);case"int32":return h instanceof Int32Array?h:Int32Array.from(h);case"int8":return h instanceof Int8Array?h:Int8Array.from(h);case"uint16":return h instanceof Uint16Array?h:Uint16Array.from(h);case"uint32":return h instanceof Uint32Array?h:Uint32Array.from(h);case"uint8":case"bool":return h instanceof Uint8Array?h:Uint8Array.from(h);case"float32":return h instanceof Float32Array?h:Float32Array.from(h);case"float64":return h instanceof Float64Array?h:Float64Array.from(h);default:throw new Error(`TensorData type ${d} is not supported`)}}toTextureData(d,h){if(h)return h instanceof Float32Array?h:new Float32Array(h)}toEncoderType(d){return"float"}clearActiveTextures(){this.glContext.clearActiveTextures()}}},5639:(N,c)=>{var w;Object.defineProperty(c,"__esModule",{value:!0}),c.TextureType=void 0,(w=c.TextureType||(c.TextureType={}))[w.unpacked=0]="unpacked",w[w.unpackedReversed=1]="unpackedReversed",w[w.packed=2]="packed",w[w.downloadUint8AsFloat=3]="downloadUint8AsFloat",w[w.packedLastDimension=4]="packedLastDimension"},432:(N,c,w)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.getGlChannels=c.getCoordsDataType=c.getSqueezedParams=c.squeezeInputShape=c.generateShaderFuncNameFromInputSamplerNameAtOutCoords=c.generateShaderFuncNameFromInputSamplerName=c.repeatedTry=c.getPackedShape=void 0;const b=w(7273);c.getPackedShape=function(d){const h=d.length;return d.slice(0,h-1).concat(d[h-1]/4)},c.repeatedTry=async function(d,h=u=>0,p){return new Promise((u,l)=>{let a=0;const o=()=>{if(d())return void u();a++;const n=h(a);p!=null&&a>=p?l():setTimeout(o,n)};o()})},c.generateShaderFuncNameFromInputSamplerName=function(d){return(0,b.assert)(d!==void 0&&d.length!==0,()=>"empty string found for sampler name"),"get"+d.charAt(0).toUpperCase()+d.slice(1)},c.generateShaderFuncNameFromInputSamplerNameAtOutCoords=function(d){return(0,b.assert)(d!==void 0&&d.length!==0,()=>"empty string found for sampler name"),"get"+d.charAt(0).toUpperCase()+d.slice(1)+"AtOutCoords"},c.squeezeInputShape=function(d,h){let p=JSON.parse(JSON.stringify(d));return p=h,p},c.getSqueezedParams=function(d,h){return h.map(p=>d[p]).join(", ")},c.getCoordsDataType=function(d){if(d<=1)return"int";if(d===2)return"ivec2";if(d===3)return"ivec3";if(d===4)return"ivec4";if(d===5)return"ivec5";if(d===6)return"ivec6";throw Error(`GPU for rank ${d} is not yet supported`)},c.getGlChannels=function(d=6){return["x","y","z","w","u","v"].slice(0,d)}},3389:(N,c,w)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.createNewWebGLContext=c.createWebGLContext=void 0;const b=w(1315),d=w(3524),h={};function p(u,l){let a;const o={alpha:!1,depth:!1,antialias:!1,stencil:!1,preserveDrawingBuffer:!1,premultipliedAlpha:!1,failIfMajorPerformanceCaveat:!1};if((!l||l==="webgl2")&&(a=u.getContext("webgl2",o),a))try{return new d.WebGLContext(a,2)}catch(n){b.Logger.warning("GlContextFactory",`failed to create WebGLContext using contextId 'webgl2'. Error: ${n}`)}if((!l||l==="webgl")&&(a=u.getContext("webgl",o)||u.getContext("experimental-webgl",o),a))try{return new d.WebGLContext(a,1)}catch(n){b.Logger.warning("GlContextFactory",`failed to create WebGLContext using contextId 'webgl' or 'experimental-webgl'. Error: ${n}`)}throw new Error("WebGL is not supported")}c.createWebGLContext=function u(l){let a;if(l&&l!=="webgl2"||!("webgl2"in h)?l&&l!=="webgl"||!("webgl"in h)||(a=h.webgl):a=h.webgl2,!a)try{a=p(function(){if(typeof OffscreenCanvas>"u")throw new TypeError("failed to create offscreen canvas: OffscreenCanvas is not supported");return new OffscreenCanvas(1,1)}(),l)}catch{a=p(function(){if(typeof document>"u")throw new TypeError("failed to create canvas: document is not supported");const t=document.createElement("canvas");return t.width=1,t.height=1,t}(),l)}l=l||a.version===1?"webgl":"webgl2";const o=a.gl;return h[l]=a,o.isContextLost()?(delete h[l],u(l)):(o.disable(o.DEPTH_TEST),o.disable(o.STENCIL_TEST),o.disable(o.BLEND),o.disable(o.DITHER),o.disable(o.POLYGON_OFFSET_FILL),o.disable(o.SAMPLE_COVERAGE),o.enable(o.SCISSOR_TEST),o.enable(o.CULL_FACE),o.cullFace(o.BACK),a)},c.createNewWebGLContext=p},3524:function(N,c,w){var b=this&&this.__createBinding||(Object.create?function(o,n,t,e){e===void 0&&(e=t);var r=Object.getOwnPropertyDescriptor(n,t);r&&!("get"in r?!n.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return n[t]}}),Object.defineProperty(o,e,r)}:function(o,n,t,e){e===void 0&&(e=t),o[e]=n[t]}),d=this&&this.__setModuleDefault||(Object.create?function(o,n){Object.defineProperty(o,"default",{enumerable:!0,value:n})}:function(o,n){o.default=n}),h=this&&this.__importStar||function(o){if(o&&o.__esModule)return o;var n={};if(o!=null)for(var t in o)t!=="default"&&Object.prototype.hasOwnProperty.call(o,t)&&b(n,o,t);return d(n,o),n};Object.defineProperty(c,"__esModule",{value:!0}),c.WebGLContext=c.linearSearchLastTrue=void 0;const p=w(2235),u=h(w(9622)),l=w(432);function a(o){let n=0;for(;n<o.length&&o[n]();++n);return n-1}c.linearSearchLastTrue=a,c.WebGLContext=class{constructor(o,n){this.frameBufferBound=!1,this.itemsToPoll=[],this.gl=o,this.version=n,this.getExtensions(),this.vertexbuffer=this.createVertexbuffer(),this.framebuffer=this.createFramebuffer(),this.queryVitalParameters()}allocateTexture(o,n,t,e){const r=this.gl,i=r.createTexture();r.bindTexture(r.TEXTURE_2D,i),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.NEAREST),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,r.NEAREST),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE);const s=e?t.encode(e,o*n):null;return r.texImage2D(r.TEXTURE_2D,0,t.internalFormat,o,n,0,t.format,t.textureType,s),this.checkError(),i}updateTexture(o,n,t,e,r){const i=this.gl;i.bindTexture(i.TEXTURE_2D,o);const s=e.encode(r,n*t);i.texSubImage2D(i.TEXTURE_2D,0,0,0,n,t,e.format,e.textureType,s),this.checkError()}attachFramebuffer(o,n,t){const e=this.gl;e.bindTexture(e.TEXTURE_2D,o),e.bindFramebuffer(e.FRAMEBUFFER,this.framebuffer),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,o,0),this.checkError(),e.viewport(0,0,n,t),e.scissor(0,0,n,t)}readTexture(o,n,t,e,r,i){const s=this.gl;i||(i=1),this.frameBufferBound||this.attachFramebuffer(o,n,t);const f=this.getEncoder(r,i),g=f.allocate(n*t);return s.bindTexture(s.TEXTURE_2D,o),s.framebufferTexture2D(s.FRAMEBUFFER,s.COLOR_ATTACHMENT0,s.TEXTURE_2D,o,0),s.readPixels(0,0,n,t,s.RGBA,f.textureType,g),this.checkError(),f.decode(g,e)}isFramebufferReady(){return!0}getActiveTexture(){const o=this.gl;return"TEXTURE"+(o.getParameter(this.gl.ACTIVE_TEXTURE)-o.TEXTURE0)}getTextureBinding(){return this.gl.getParameter(this.gl.TEXTURE_BINDING_2D)}getFramebufferBinding(){return this.gl.getParameter(this.gl.FRAMEBUFFER_BINDING)}setVertexAttributes(o,n){const t=this.gl;t.vertexAttribPointer(o,3,t.FLOAT,!1,20,0),t.enableVertexAttribArray(o),n!==-1&&(t.vertexAttribPointer(n,2,t.FLOAT,!1,20,12),t.enableVertexAttribArray(n)),this.checkError()}createProgram(o,n){const t=this.gl,e=t.createProgram();return t.attachShader(e,o),t.attachShader(e,n),t.linkProgram(e),e}compileShader(o,n){const t=this.gl,e=t.createShader(n);if(!e)throw new Error(`createShader() returned null with type ${n}`);if(t.shaderSource(e,o),t.compileShader(e),t.getShaderParameter(e,t.COMPILE_STATUS)===!1)throw new Error(`Failed to compile shader: ${t.getShaderInfoLog(e)}
Shader source:
${o}`);return e}deleteShader(o){this.gl.deleteShader(o)}bindTextureToUniform(o,n,t){const e=this.gl;e.activeTexture(e.TEXTURE0+n),this.checkError(),e.bindTexture(e.TEXTURE_2D,o),this.checkError(),e.uniform1i(t,n),this.checkError()}draw(){this.gl.drawArrays(this.gl.TRIANGLE_STRIP,0,4),this.checkError()}checkError(){if(p.env.debug){const o=this.gl,n=o.getError();let t="";switch(n){case o.NO_ERROR:return;case o.INVALID_ENUM:t="INVALID_ENUM";break;case o.INVALID_VALUE:t="INVALID_VALUE";break;case o.INVALID_OPERATION:t="INVALID_OPERATION";break;case o.INVALID_FRAMEBUFFER_OPERATION:t="INVALID_FRAMEBUFFER_OPERATION";break;case o.OUT_OF_MEMORY:t="OUT_OF_MEMORY";break;case o.CONTEXT_LOST_WEBGL:t="CONTEXT_LOST_WEBGL";break;default:t=`Unknown WebGL Error: ${n.toString(16)}`}throw new Error(t)}}deleteTexture(o){this.gl.deleteTexture(o)}deleteProgram(o){this.gl.deleteProgram(o)}getEncoder(o,n,t=0){if(this.version===2)return new u.RedFloat32DataEncoder(this.gl,n);switch(o){case"float":return t===1||this.isRenderFloat32Supported?new u.RGBAFloatDataEncoder(this.gl,n):new u.RGBAFloatDataEncoder(this.gl,n,this.textureHalfFloatExtension.HALF_FLOAT_OES);case"int":throw new Error("not implemented");case"byte":return new u.Uint8DataEncoder(this.gl,n);default:throw new Error(`Invalid dataType: ${o}`)}}clearActiveTextures(){const o=this.gl;for(let n=0;n<this.maxTextureImageUnits;++n)o.activeTexture(o.TEXTURE0+n),o.bindTexture(o.TEXTURE_2D,null)}dispose(){if(this.disposed)return;const o=this.gl;o.bindFramebuffer(o.FRAMEBUFFER,null),o.deleteFramebuffer(this.framebuffer),o.bindBuffer(o.ARRAY_BUFFER,null),o.deleteBuffer(this.vertexbuffer),o.bindBuffer(o.ELEMENT_ARRAY_BUFFER,null),o.finish(),this.disposed=!0}createDefaultGeometry(){return new Float32Array([-1,1,0,0,1,-1,-1,0,0,0,1,1,0,1,1,1,-1,0,1,0])}createVertexbuffer(){const o=this.gl,n=o.createBuffer();if(!n)throw new Error("createBuffer() returned null");const t=this.createDefaultGeometry();return o.bindBuffer(o.ARRAY_BUFFER,n),o.bufferData(o.ARRAY_BUFFER,t,o.STATIC_DRAW),this.checkError(),n}createFramebuffer(){const o=this.gl.createFramebuffer();if(!o)throw new Error("createFramebuffer returned null");return o}queryVitalParameters(){const o=this.gl;if(this.isFloatTextureAttachableToFrameBuffer=this.checkFloatTextureAttachableToFrameBuffer(),this.isRenderFloat32Supported=this.checkRenderFloat32(),this.isFloat32DownloadSupported=this.checkFloat32Download(),this.version===1&&!this.textureHalfFloatExtension&&!this.isRenderFloat32Supported)throw new Error("both float32 and float16 TextureType are not supported");this.isBlendSupported=!this.isRenderFloat32Supported||this.checkFloat32Blend(),this.maxTextureSize=o.getParameter(o.MAX_TEXTURE_SIZE),this.maxTextureImageUnits=o.getParameter(o.MAX_TEXTURE_IMAGE_UNITS),this.version}getExtensions(){this.version===2?(this.colorBufferFloatExtension=this.gl.getExtension("EXT_color_buffer_float"),this.disjointTimerQueryWebgl2Extension=this.gl.getExtension("EXT_disjoint_timer_query_webgl2")):(this.textureFloatExtension=this.gl.getExtension("OES_texture_float"),this.textureHalfFloatExtension=this.gl.getExtension("OES_texture_half_float"))}checkFloatTextureAttachableToFrameBuffer(){const o=this.gl,n=o.createTexture();o.bindTexture(o.TEXTURE_2D,n);const t=this.version===2?o.RGBA32F:o.RGBA;o.texImage2D(o.TEXTURE_2D,0,t,1,1,0,o.RGBA,o.FLOAT,null);const e=o.createFramebuffer();o.bindFramebuffer(o.FRAMEBUFFER,e),o.framebufferTexture2D(o.FRAMEBUFFER,o.COLOR_ATTACHMENT0,o.TEXTURE_2D,n,0);const r=o.checkFramebufferStatus(o.FRAMEBUFFER)===o.FRAMEBUFFER_COMPLETE;return o.bindTexture(o.TEXTURE_2D,null),o.bindFramebuffer(o.FRAMEBUFFER,null),o.deleteTexture(n),o.deleteFramebuffer(e),r}checkRenderFloat32(){if(this.version===2){if(!this.colorBufferFloatExtension)return!1}else if(!this.textureFloatExtension)return!1;return this.isFloatTextureAttachableToFrameBuffer}checkFloat32Download(){if(this.version===2){if(!this.colorBufferFloatExtension)return!1}else if(!this.textureFloatExtension||!this.gl.getExtension("WEBGL_color_buffer_float"))return!1;return this.isFloatTextureAttachableToFrameBuffer}checkFloat32Blend(){const o=this.gl;let n,t,e,r,i;try{n=o.createTexture(),t=o.createFramebuffer(),o.bindTexture(o.TEXTURE_2D,n);const s=this.version===2?o.RGBA32F:o.RGBA;return o.texImage2D(o.TEXTURE_2D,0,s,1,1,0,o.RGBA,o.FLOAT,null),o.bindFramebuffer(o.FRAMEBUFFER,t),o.framebufferTexture2D(o.FRAMEBUFFER,o.COLOR_ATTACHMENT0,o.TEXTURE_2D,n,0),o.enable(o.BLEND),e=o.createShader(o.VERTEX_SHADER),!!e&&(o.shaderSource(e,"void main(){}"),o.compileShader(e),r=o.createShader(o.FRAGMENT_SHADER),!!r&&(o.shaderSource(r,"precision highp float;void main(){gl_FragColor=vec4(0.5);}"),o.compileShader(r),i=o.createProgram(),!!i&&(o.attachShader(i,e),o.attachShader(i,r),o.linkProgram(i),o.useProgram(i),o.drawArrays(o.POINTS,0,1),o.getError()===o.NO_ERROR)))}finally{o.disable(o.BLEND),i&&o.deleteProgram(i),e&&o.deleteShader(e),r&&o.deleteShader(r),t&&(o.bindFramebuffer(o.FRAMEBUFFER,null),o.deleteFramebuffer(t)),n&&(o.bindTexture(o.TEXTURE_2D,null),o.deleteTexture(n))}}beginTimer(){if(this.version===2&&this.disjointTimerQueryWebgl2Extension){const o=this.gl,n=this.disjointTimerQueryWebgl2Extension,t=o.createQuery();return o.beginQuery(n.TIME_ELAPSED_EXT,t),t}throw new Error("WebGL1 profiling currently not supported.")}endTimer(){if(this.version!==2||!this.disjointTimerQueryWebgl2Extension)throw new Error("WebGL1 profiling currently not supported");{const o=this.gl,n=this.disjointTimerQueryWebgl2Extension;o.endQuery(n.TIME_ELAPSED_EXT)}}isTimerResultAvailable(o){let n=!1,t=!1;if(this.version!==2||!this.disjointTimerQueryWebgl2Extension)throw new Error("WebGL1 profiling currently not supported");{const e=this.gl,r=this.disjointTimerQueryWebgl2Extension;n=e.getQueryParameter(o,e.QUERY_RESULT_AVAILABLE),t=e.getParameter(r.GPU_DISJOINT_EXT)}return n&&!t}getTimerResult(o){let n=0;if(this.version!==2)throw new Error("WebGL1 profiling currently not supported");{const t=this.gl;n=t.getQueryParameter(o,t.QUERY_RESULT),t.deleteQuery(o)}return n/1e6}async waitForQueryAndGetTime(o){return await(0,l.repeatedTry)(()=>this.isTimerResultAvailable(o)),this.getTimerResult(o)}async createAndWaitForFence(){const o=this.createFence(this.gl);return this.pollFence(o)}createFence(o){let n;const t=o,e=t.fenceSync(t.SYNC_GPU_COMMANDS_COMPLETE,0);return o.flush(),n=e===null?()=>!0:()=>{const r=t.clientWaitSync(e,0,0);return r===t.ALREADY_SIGNALED||r===t.CONDITION_SATISFIED},{query:e,isFencePassed:n}}async pollFence(o){return new Promise(n=>{this.addItemToPoll(()=>o.isFencePassed(),()=>n())})}pollItems(){const o=a(this.itemsToPoll.map(n=>n.isDoneFn));for(let n=0;n<=o;++n){const{resolveFn:t}=this.itemsToPoll[n];t()}this.itemsToPoll=this.itemsToPoll.slice(o+1)}async addItemToPoll(o,n){this.itemsToPoll.push({isDoneFn:o,resolveFn:n}),this.itemsToPoll.length>1||await(0,l.repeatedTry)(()=>(this.pollItems(),this.itemsToPoll.length===0))}}},6496:(N,c,w)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.ExecutionPlan=void 0;const b=w(1315);class d{constructor(p,u){this.op=p,this.node=u}}c.ExecutionPlan=class{constructor(h,p,u){this.graph=h,this.profiler=u,this.initialize(p)}initialize(h){this.profiler.event("session","ExecutionPlan.initialize",()=>{const p=this.graph.getNodes();if(p.length!==h.length)throw new Error("The size of nodes and OPs do not match.");this._ops=h.map((u,l)=>new d(u,p[l])),this.reset(),this._starter=[],this._ops.forEach((u,l)=>{let a=!0;for(const o of u.node.inputs)if(!this._values[o]&&this.graph.getInputIndices().indexOf(o)===-1){a=!1;break}a&&this._starter.push(l)})})}reset(){this._values=this.graph.getValues().map(h=>h.tensor)}async execute(h,p){return this.profiler.event("session","ExecutionPlan.execute",async()=>{this.reset();const u=h.createInferenceHandler(),l=this.graph.getInputIndices();if(p.length!==l.length)throw new Error(`number of input tensors don't match the number of inputs to the model: actual: ${p.length} expected: ${l.length}`);p.forEach((r,i)=>{const s=l[i];this._values[s]=r});const a=this._starter.slice(0),o=this.graph.getValues(),n=this.graph.getNodes();let t=0;for(;t<a.length;){const r=a[t++],i=this._ops[r],s=i.node.inputs.map(y=>this._values[y]);if(s.indexOf(void 0)!==-1)throw new Error(`unresolved input detected: op: ${i.node}`);const f=s;b.Logger.verbose("ExecPlan",`Runing op:${i.node.name} (${f.map((y,v)=>`'${i.node.inputs[v]}': ${y.type}[${y.dims.join(",")}]`).join(", ")})`);const g=await this.profiler.event("node",i.node.name,async()=>i.op.impl(u,f,i.op.context));if(g.length!==i.node.outputs.length)throw new Error("the size of output does not match model definition.");g.forEach((y,v)=>{const T=i.node.outputs[v];if(this._values[T])throw new Error(`output [${T}] already has value: op:${i.node.name}`);this._values[T]=y});const m=new Set;g.forEach((y,v)=>{const T=i.node.outputs[v];for(const x of o[T].to){const A=n[x];let D=!0;for(const $ of A.inputs)if(!this._values[$]){D=!1;break}D&&m.add(x)}}),a.push(...m)}const e=[];for(let r=0;r<this.graph.getOutputIndices().length;r++){const i=this.graph.getOutputIndices()[r],s=this._values[i];if(s===void 0)throw new Error(`required output [${i}] does not have value`);i===0?await s.getData():s.data,e.push(s)}return b.Logger.verbose("ExecPlan","disposing of inferenceHandler"),u.dispose(),e})}}},4662:(N,c,w)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.Graph=void 0;const b=w(6874),d=w(5127),h=w(2446),p=w(9240),u=w(7273);var l=d.onnxruntime.experimental.fbs;c.Graph={from:(t,e)=>new n(t,e)};class a{constructor(e){this._from=void 0,this._to=[],this.tensor=void 0,this.type=void 0,e&&(this.type=u.ProtoUtil.tensorValueTypeFromProto(e.type.tensorType))}get from(){return this._from}get to(){return this._to}}class o{constructor(e,r){e instanceof h.onnx.NodeProto?(this.name=e.name,this.opType=e.opType,this.attributes=new b.Attribute(e.attribute)):e instanceof l.Node&&(this.name=r??e.name(),this.opType=e.opType(),this.attributes=new b.Attribute(u.ProtoUtil.tensorAttributesFromORTFormat(e))),this.inputs=[],this.outputs=[],this.executeNode=!0}}class n{constructor(e,r){if(!e)throw new TypeError("graph is empty");this.buildGraph(e),this.transformGraph(r),this.checkIsAcyclic()}getInputIndices(){return this._allInputIndices}getInputNames(){return this._allInputNames}getOutputIndices(){return this._allOutputIndices}getOutputNames(){return this._allOutputNames}getValues(){return this._allData}getNodes(){return this._nodes}buildGraph(e){if(e instanceof h.onnx.GraphProto)this.buildGraphFromOnnxFormat(e);else{if(!(e instanceof l.Graph))throw new TypeError("Graph type is not supported.");this.buildGraphFromOrtFormat(e)}}buildGraphFromOnnxFormat(e){const r=new Map;this._allData=[],this._allInputIndices=[],this._allInputNames=[],this._allOutputIndices=[],this._allOutputNames=[],this._nodes=[];const i=new Map;if(!e.input)throw new Error("missing information in graph: input");const s=[];for(const f of e.input){if(r.has(f.name))throw new Error(`duplicated input name: ${f.name}`);const g=this._allData.push(new a(f))-1;r.set(f.name,g),s.push(f.name)}if(!e.initializer)throw new Error("missing information in graph: initializer");for(const f of e.initializer){let g=r.get(f.name);if(g===void 0){const m=new a;m.type={shape:{dims:u.ProtoUtil.tensorDimsFromProto(f.dims)},tensorType:u.ProtoUtil.tensorDataTypeFromProto(f.dataType)},g=this._allData.push(m)-1,r.set(f.name,g)}this._allData[g]._from=-1,this._allData[g].tensor=p.Tensor.fromProto(f)}for(let f=0;f<this._allData.length;f++)this._allData[f].tensor||(this._allInputIndices.push(f),this._allInputNames.push(s[f]));if(!e.output)throw new Error("missing information in graph: output");for(const f of e.output){if(r.has(f.name))throw new Error(`duplicated output name: ${f.name}`);const g=this._allData.push(new a(f))-1;r.set(f.name,g),this._allOutputIndices.push(g),this._allOutputNames.push(f.name)}if(!e.node)throw new Error("missing information in graph: node");for(const f of e.node){if(!f.name)for(let m=0;;m++){const y=`unnamed_${f.opType}_${m}`;if(!i.has(y)){f.name=y;break}}if(i.has(f.name))throw new Error(`duplicated node name: ${f.name}`);const g=this._nodes.push(new o(f))-1;i.set(f.name,g)}for(let f=0;f<this._nodes.length;f++){const g=this._nodes[f],m=e.node[f];if(!m.output)throw new Error(`missing output for node: ${m.name}`);for(const y of m.output){let v=r.get(y);if(v===void 0&&(v=this._allData.push(new a)-1,r.set(y,v)),g.outputs.push(v),this._allData[v]._from!==void 0)throw new Error(`multiple nodes output to one data value: ${v}`);if(this._allData[v]._from=f,m.opType==="Constant"){if(!m.attribute||m.attribute.length!==1||!m.attribute[0].t)throw new Error("missing attributes or missing tensor value in attributes for this Constant operator");if(!m.output||m.output.length!==1)throw new Error("missing output or incorrect number of outputs for this Constant operator");g.outputs.pop(),g.executeNode=!1,this._allData[v]._from=-1,this._allData[v].tensor=p.Tensor.fromProto(m.attribute[0].t)}}}for(let f=0;f<this._nodes.length;f++){const g=this._nodes[f],m=e.node[f];if(!m.input)throw new Error(`missing input for node: ${m.name}`);for(const y of m.input){const v=r.get(y);if(v===void 0){if(y===""&&(m.input.length===3||m.input.length===4)&&m.opType==="Resize")continue;throw new Error(`unrecognized input '${y}' for node: ${m.name}`)}g.inputs.push(v),this._allData[v]._to.push(f)}}return!0}buildGraphFromOrtFormat(e){var r,i,s;const f=new Map;this._allData=[],this._allInputIndices=[],this._allInputNames=[],this._allOutputIndices=[],this._allOutputNames=[],this._nodes=[];const g=new Map,m=[];for(let y=0;y<e.inputsLength();y++){const v=e.inputs(y);if(f.has(v))throw new Error(`duplicated input name: ${v}`);for(let T=0;T<e.nodeArgsLength();T++)if(((r=e.nodeArgs(T))===null||r===void 0?void 0:r.name())===v){const x=new a;if(((s=(i=e.nodeArgs(T))===null||i===void 0?void 0:i.type())===null||s===void 0?void 0:s.valueType())!==l.TypeInfoValue.tensor_type)throw new Error("Unexpected value type for the nodeArg.");const A=e.nodeArgs(T).type().value(new l.TensorTypeAndShape),D=u.ProtoUtil.tensorDataTypeFromProto(A.elemType()),$=A.shape(),C=[];for(let S=0;S<$.dimLength();S++)C.push(u.LongUtil.longToNumber($.dim(S).value().dimValue()));x.type={shape:{dims:C},tensorType:D};const M=this._allData.push(x)-1;f.set(v,M),m.push(v)}}for(let y=0;y<e.initializersLength();y++){const v=e.initializers(y);let T=f.get(v.name());if(T===void 0){const x=new a,A=u.ProtoUtil.tensorDimsFromORTFormat(v),D=u.ProtoUtil.tensorDataTypeFromProto(v.dataType());x.type={shape:{dims:A},tensorType:D},T=this._allData.push(x)-1,f.set(v.name(),T)}this._allData[T]._from=-1,this._allData[T].tensor=p.Tensor.fromOrtTensor(v)}for(let y=0;y<this._allData.length;y++)this._allData[y].tensor||(this._allInputIndices.push(y),this._allInputNames.push(m[y]));for(let y=0;y<e.outputsLength();y++){const v=e.outputs(y);if(f.has(v))throw new Error(`duplicated output name: ${v}`);const T=this._allData.push(new a)-1;f.set(v,T),this._allOutputIndices.push(T),this._allOutputNames.push(v)}if(!e.nodes)throw new Error("missing information in graph: node");for(let y=0;y<e.nodesLength();y++){const v=e.nodes(y);let T=v.name();if(!T)for(let A=0;T=`unnamed_${v.opType()}_${A}`,g.has(T);A++);if(g.has(T))throw new Error(`duplicated node name: ${T}`);const x=this._nodes.push(new o(v,T))-1;g.set(T,x)}for(let y=0;y<this._nodes.length;y++){const v=this._nodes[y],T=e.nodes(y);if(T==null)throw new Error(`No node exists at index ${y}`);if((T==null?void 0:T.outputsLength())===0)throw new Error(`missing output for node: ${T.name}`);for(let x=0;x<(T==null?void 0:T.outputsLength());x++){const A=T==null?void 0:T.outputs(x);let D=f.get(A);if(D===void 0&&(D=this._allData.push(new a)-1,f.set(A,D)),v.outputs.push(D),this._allData[D]._from!==void 0)throw new Error(`multiple nodes output to one data value: ${D}`);if(this._allData[D]._from=y,T.opType()==="Constant"){if(T.attributesLength()!==1||!T.attributes(0).t())throw new Error("missing attributes or missing tensor value in attributes for this Constant operator");if(T.outputsLength()!==1)throw new Error("missing output or incorrect number of outputs for this Constant operator");v.outputs.pop(),v.executeNode=!1,this._allData[D]._from=-1,this._allData[D].tensor=p.Tensor.fromOrtTensor(T.attributes(0).t())}}}for(let y=0;y<this._nodes.length;y++){const v=this._nodes[y],T=e.nodes(y);if(T.inputsLength()===0)throw new Error(`missing input for node: ${T.name}`);for(let x=0;x<T.inputsLength();x++){const A=T.inputs(x),D=f.get(A);if(D===void 0)throw new Error(`unrecognized input '${A}' for node: ${T.name()}`);v.inputs.push(D),this._allData[D]._to.push(y)}}}checkIsAcyclic(){const e=new Set;this._allInputIndices.forEach(s=>{this._allData[s]._to.forEach(f=>{e.add(f)})});const r=Array.from(e),i=new Array(this._nodes.length).fill("white");for(;r.length>0;){const s=r.pop();i[s]==="gray"?i[s]="black":(r.push(s),i[s]="gray",this._nodes[s].outputs.forEach(f=>{const g=this._allData[f];if(g.tensor!==void 0)throw new Error("node outputs should not be initialized");if(g._from!==s)throw new Error("from property of the Value object doesn't match index of Node being processed");g._to.forEach(m=>{if(i[m]==="gray")throw new Error("model graph is cyclic");i[m]==="white"&&r.push(m)})}))}}transformGraph(e){this.removeAllIdentityNodes(),this.removeAllDropoutNodes(),this.fuseConvActivationNodes(),e&&e.transformGraph(this),this.finalizeGraph()}finalizeGraph(){let e=0;const r=new Array(this._nodes.length,0);let i=0;for(let s=0;s<this._nodes.length;s++)r[s]=i,this._nodes[s].executeNode?(i!==s&&(this._nodes[i]=this._nodes[s]),i++):this._nodes[s].outputs.forEach(f=>{this._allData[f]._from=-2});this._nodes.splice(i,this._nodes.length-i);for(let s=0;s<this._allData.length;s++){const f=this._allData[s];f._from!==void 0&&f._from!==-1&&f._from!==-2&&(f._from=r[f._from]);for(let g=0;g<f._to.length;g++){if(!(f._to[g]>=0))throw new Error("Trying to update a removed node");f._to[g]=r[f._to[g]]}}e=0;for(let s=0;s<this._allData.length;s++)if(this._allData[s].from!==-2||this._allOutputIndices.indexOf(s+e)!==-1){if(e>0){let f=-1;this._allData[s].from!==void 0&&this._allData[s].from!==-1?(f=this._nodes[this._allData[s].from].outputs.indexOf(s+e),f!==-1&&(this._nodes[this._allData[s].from].outputs[f]=s)):(f=this._allInputIndices.indexOf(s+e),f!==-1&&(this._allInputIndices[f]=s)),this._allData[s].to.forEach(g=>{f=this._nodes[g].inputs.indexOf(s+e),f!==-1&&(this._nodes[g].inputs[f]=s)}),this._allData[s].to.length===0&&(f=this._allOutputIndices.indexOf(s+e),f!==-1&&(this._allOutputIndices[f]=s))}}else e++,this._allData.splice(s,1),s--}deleteNode(e){const r=this._nodes[e];if(r.outputs.length>1){for(let m=1;m<r.outputs.length;m++)if(this._allData[r.outputs[m]].to.length>0)throw new Error("Node deletion with more than one output connected to other nodes is not supported. ")}r.executeNode=!1;const i=r.inputs[0],s=r.outputs[0],f=this._allData[s].to;for(let m=0;m<r.inputs.length;m++){const y=this._allData[r.inputs[m]].to.indexOf(e);if(y===-1)throw new Error("The Value object doesn't have the current Node in it's 'to' property ");this._allData[r.inputs[m]].to.splice(y,1)}this._allData[s]._to=[];const g=this._allOutputIndices.indexOf(s);if(g!==-1&&(this._allOutputIndices[g]=i),f&&f.length>0)for(const m of f){const y=this._nodes[m].inputs.indexOf(s);if(y===-1)throw new Error("The Node object doesn't have the output Value in it's 'inputs' property ");this._nodes[m].inputs[y]=i,this._allData[i].to.push(m)}}removeAllDropoutNodes(){let e=0;for(const r of this._nodes){if(r.opType==="Dropout"){if(r.inputs.length!==1)throw new Error("Dropout nodes should only contain one input. ");if(r.outputs.length!==1&&r.outputs.length!==2)throw new Error("Dropout nodes should contain either 1 or 2 output(s)");if(r.outputs.length===2&&this._allData[r.outputs[1]]._to.length!==0)throw new Error("Dropout nodes's second output should not be referenced by other nodes");this.deleteNode(e)}e++}}removeAllIdentityNodes(){let e=0;for(const r of this._nodes)r.opType==="Identity"&&this.deleteNode(e),e++}isActivation(e){switch(e.opType){case"Relu":case"Sigmoid":case"Clip":return!0;default:return!1}}fuseConvActivationNodes(){for(const e of this._nodes)if(e.opType==="Conv"){const r=this._allData[e.outputs[0]]._to;if(r.length===1&&this.isActivation(this._nodes[r[0]])){const i=this._nodes[r[0]];if(i.opType==="Clip")if(i.inputs.length===1)try{e.attributes.set("activation_params","floats",[i.attributes.getFloat("min"),i.attributes.getFloat("max")])}catch{e.attributes.set("activation_params","floats",[u.MIN_CLIP,u.MAX_CLIP])}else{if(!(i.inputs.length>=3&&this._allData[i.inputs[1]].tensor!==void 0&&this._allData[i.inputs[2]].tensor!==void 0))continue;e.attributes.set("activation_params","floats",[this._allData[i.inputs[1]].tensor.floatData[0],this._allData[i.inputs[2]].tensor.floatData[0]])}e.attributes.set("activation","string",i.opType),this.deleteNode(r[0])}}}}},1315:(N,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.now=c.Profiler=c.Logger=void 0;const w={verbose:1e3,info:2e3,warning:4e3,error:5e3,fatal:6e3},b={none:new class{log(o,n,t){}},console:new class{log(o,n,t){console.log(`${this.color(o)} ${t?"\x1B[35m"+t+"\x1B[0m ":""}${n}`)}color(o){switch(o){case"verbose":return"\x1B[34;40mv\x1B[0m";case"info":return"\x1B[32mi\x1B[0m";case"warning":return"\x1B[30;43mw\x1B[0m";case"error":return"\x1B[31;40me\x1B[0m";case"fatal":return"\x1B[101mf\x1B[0m";default:throw new Error(`unsupported severity: ${o}`)}}}},d={provider:"console",minimalSeverity:"warning",logDateTime:!0,logSourceLocation:!1};let h={"":d};function p(o,n,t,e){if(n===void 0)return r=o,{verbose:p.verbose.bind(null,r),info:p.info.bind(null,r),warning:p.warning.bind(null,r),error:p.error.bind(null,r),fatal:p.fatal.bind(null,r)};if(t===void 0)u(o,n);else if(typeof t=="number"&&e===void 0)u(o,n);else if(typeof t=="string"&&e===void 0)u(o,t,0,n);else{if(typeof t!="string"||typeof e!="number")throw new TypeError("input is valid");u(o,t,0,n)}var r}function u(o,n,t,e){const r=h[e||""]||h[""];w[o]<w[r.minimalSeverity]||(r.logDateTime&&(n=`${new Date().toISOString()}|${n}`),r.logSourceLocation,b[r.provider].log(o,n,e))}(function(o){function n(e){h={},t("",e||{})}function t(e,r){if(e==="*")n(r);else{const i=h[e]||d;h[e]={provider:r.provider||i.provider,minimalSeverity:r.minimalSeverity||i.minimalSeverity,logDateTime:r.logDateTime===void 0?i.logDateTime:r.logDateTime,logSourceLocation:r.logSourceLocation===void 0?i.logSourceLocation:r.logSourceLocation}}}o.verbose=function(e,r){o("verbose",e,r)},o.info=function(e,r){o("info",e,r)},o.warning=function(e,r){o("warning",e,r)},o.error=function(e,r){o("error",e,r)},o.fatal=function(e,r){o("fatal",e,r)},o.reset=n,o.set=t,o.setWithEnv=function(e){const r={};e.logLevel&&(r.minimalSeverity=e.logLevel),t("",r)}})(p||(p={})),c.Logger=p;class l{constructor(n,t,e,r,i,s){this.category=n,this.name=t,this.startTime=e,this.endCallback=r,this.timer=i,this.ctx=s}async end(){return this.endCallback(this)}async checkTimer(){if(this.ctx===void 0||this.timer===void 0)throw new Error("No webgl timer found");return this.ctx.endTimer(),this.ctx.waitForQueryAndGetTime(this.timer)}}class a{constructor(n,t,e,r){this.category=n,this.name=t,this.startTime=e,this.endTime=r}}c.Profiler=class{static create(o){return o===void 0?new this:new this(o.maxNumberEvents,o.flushBatchSize,o.flushIntervalInMilliseconds)}constructor(o,n,t){this._started=!1,this._flushPointer=0,this._started=!1,this._maxNumberEvents=o===void 0?1e4:o,this._flushBatchSize=n===void 0?10:n,this._flushIntervalInMilliseconds=t===void 0?5e3:t}start(){this._started=!0,this._timingEvents=[],this._flushTime=(0,c.now)(),this._flushPointer=0}stop(){for(this._started=!1;this._flushPointer<this._timingEvents.length;this._flushPointer++)this.logOneEvent(this._timingEvents[this._flushPointer])}event(o,n,t,e){const r=this._started?this.begin(o,n,e):void 0;let i=!1;const s=t();if(s&&typeof s.then=="function")return i=!0,new Promise((f,g)=>{s.then(async m=>{r&&await r.end(),f(m)},async m=>{r&&await r.end(),g(m)})});if(!i&&r){const f=r.end();if(f&&typeof f.then=="function")return new Promise((g,m)=>{f.then(()=>{g(s)},y=>{m(y)})})}return s}begin(o,n,t){if(!this._started)throw new Error("profiler is not started yet");if(t===void 0){const e=(0,c.now)();return this.flush(e),new l(o,n,e,r=>this.endSync(r))}{const e=t.beginTimer();return new l(o,n,0,async r=>this.end(r),e,t)}}async end(o){const n=await o.checkTimer();this._timingEvents.length<this._maxNumberEvents&&(this._timingEvents.push(new a(o.category,o.name,o.startTime,n)),this.flush(n))}endSync(o){const n=(0,c.now)();this._timingEvents.length<this._maxNumberEvents&&(this._timingEvents.push(new a(o.category,o.name,o.startTime,n)),this.flush(n))}logOneEvent(o){c.Logger.verbose(`Profiler.${o.category}`,`${(o.endTime-o.startTime).toFixed(2)}ms on event '${o.name}' at ${o.endTime.toFixed(2)}`)}flush(o){if(this._timingEvents.length-this._flushPointer>=this._flushBatchSize||o-this._flushTime>=this._flushIntervalInMilliseconds){for(const n=this._flushPointer;this._flushPointer<n+this._flushBatchSize&&this._flushPointer<this._timingEvents.length;this._flushPointer++)this.logOneEvent(this._timingEvents[this._flushPointer]);this._flushTime=(0,c.now)()}}get started(){return this._started}},c.now=typeof performance<"u"&&performance.now?()=>performance.now():Date.now},1745:(N,c,w)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.Model=void 0;const b=w(5686),d=w(4662),h=w(5127),p=w(2446),u=w(7273);var l=h.onnxruntime.experimental.fbs;c.Model=class{constructor(){}load(a,o,n){if(!n)try{return void this.loadFromOnnxFormat(a,o)}catch(t){if(n!==void 0)throw t}this.loadFromOrtFormat(a,o)}loadFromOnnxFormat(a,o){const n=p.onnx.ModelProto.decode(a);if(u.LongUtil.longToNumber(n.irVersion)<3)throw new Error("only support ONNX model with IR_VERSION>=3");this._opsets=n.opsetImport.map(t=>({domain:t.domain,version:u.LongUtil.longToNumber(t.version)})),this._graph=d.Graph.from(n.graph,o)}loadFromOrtFormat(a,o){const n=new b.flatbuffers.ByteBuffer(a),t=l.InferenceSession.getRootAsInferenceSession(n).model();if(u.LongUtil.longToNumber(t.irVersion())<3)throw new Error("only support ONNX model with IR_VERSION>=3");this._opsets=[];for(let e=0;e<t.opsetImportLength();e++){const r=t.opsetImport(e);this._opsets.push({domain:r==null?void 0:r.domain(),version:u.LongUtil.longToNumber(r.version())})}this._graph=d.Graph.from(t.graph(),o)}get graph(){return this._graph}get opsets(){return this._opsets}}},6145:(N,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.FLOAT_TYPES=c.INT_TYPES=c.NUMBER_TYPES=void 0,c.NUMBER_TYPES=["float32","float64","int32","int16","int8","uint16","uint32","uint8"],c.INT_TYPES=["int32","int16","int8","uint16","uint32","uint8"],c.FLOAT_TYPES=["float32","float64"]},5881:(N,c)=>{function w(b,d){if(d.endsWith("+")){const h=Number.parseInt(d.substring(0,d.length-1),10);return!isNaN(h)&&h<=b}if(d.split("-").length===2){const h=d.split("-"),p=Number.parseInt(h[0],10),u=Number.parseInt(h[1],10);return!isNaN(p)&&!isNaN(u)&&p<=b&&b<=u}return Number.parseInt(d,10)===b}Object.defineProperty(c,"__esModule",{value:!0}),c.resolveOperator=void 0,c.resolveOperator=function(b,d,h){for(const p of h){const u=p[0],l=p[1],a=p[2],o=p[3],n=p[4];if(b.opType===u){for(const t of d)if((t.domain===l||t.domain==="ai.onnx"&&l==="")&&w(t.version,a))return{opImpl:o,opInit:n}}}throw new TypeError(`cannot resolve operator '${b.opType}' with opsets: ${d.map(p=>`${p.domain||"ai.onnx"} v${p.version}`).join(", ")}`)}},5127:(N,c,w)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.onnxruntime=void 0;const b=w(5686);var d,h;d=c.onnxruntime||(c.onnxruntime={}),function(p){(function(u){u[u.UNDEFINED=0]="UNDEFINED",u[u.FLOAT=1]="FLOAT",u[u.INT=2]="INT",u[u.STRING=3]="STRING",u[u.TENSOR=4]="TENSOR",u[u.GRAPH=5]="GRAPH",u[u.FLOATS=6]="FLOATS",u[u.INTS=7]="INTS",u[u.STRINGS=8]="STRINGS",u[u.TENSORS=9]="TENSORS",u[u.GRAPHS=10]="GRAPHS",u[u.SPARSE_TENSOR=11]="SPARSE_TENSOR",u[u.SPARSE_TENSORS=12]="SPARSE_TENSORS"})(p.AttributeType||(p.AttributeType={}))}((h=d.experimental||(d.experimental={})).fbs||(h.fbs={})),function(p){(function(u){(function(l){(function(a){a[a.UNKNOWN=0]="UNKNOWN",a[a.VALUE=1]="VALUE",a[a.PARAM=2]="PARAM"})(l.DimensionValueType||(l.DimensionValueType={}))})(u.fbs||(u.fbs={}))})(p.experimental||(p.experimental={}))}(c.onnxruntime||(c.onnxruntime={})),function(p){(function(u){(function(l){(function(a){a[a.UNDEFINED=0]="UNDEFINED",a[a.FLOAT=1]="FLOAT",a[a.UINT8=2]="UINT8",a[a.INT8=3]="INT8",a[a.UINT16=4]="UINT16",a[a.INT16=5]="INT16",a[a.INT32=6]="INT32",a[a.INT64=7]="INT64",a[a.STRING=8]="STRING",a[a.BOOL=9]="BOOL",a[a.FLOAT16=10]="FLOAT16",a[a.DOUBLE=11]="DOUBLE",a[a.UINT32=12]="UINT32",a[a.UINT64=13]="UINT64",a[a.COMPLEX64=14]="COMPLEX64",a[a.COMPLEX128=15]="COMPLEX128",a[a.BFLOAT16=16]="BFLOAT16",a[a.FLOAT8E4M3FN=17]="FLOAT8E4M3FN",a[a.FLOAT8E4M3FNUZ=18]="FLOAT8E4M3FNUZ",a[a.FLOAT8E5M2=19]="FLOAT8E5M2",a[a.FLOAT8E5M2FNUZ=20]="FLOAT8E5M2FNUZ"})(l.TensorDataType||(l.TensorDataType={}))})(u.fbs||(u.fbs={}))})(p.experimental||(p.experimental={}))}(c.onnxruntime||(c.onnxruntime={})),function(p){(function(u){(function(l){(function(a){a[a.Primitive=0]="Primitive",a[a.Fused=1]="Fused"})(l.NodeType||(l.NodeType={}))})(u.fbs||(u.fbs={}))})(p.experimental||(p.experimental={}))}(c.onnxruntime||(c.onnxruntime={})),function(p){(function(u){(function(l){(function(a){a[a.NONE=0]="NONE",a[a.tensor_type=1]="tensor_type",a[a.sequence_type=2]="sequence_type",a[a.map_type=3]="map_type"})(l.TypeInfoValue||(l.TypeInfoValue={}))})(u.fbs||(u.fbs={}))})(p.experimental||(p.experimental={}))}(c.onnxruntime||(c.onnxruntime={})),function(p){(function(u){(function(l){class a{constructor(){this.bb=null,this.bb_pos=0}__init(n,t){return this.bb_pos=n,this.bb=t,this}static getRootAsShape(n,t){return(t||new a).__init(n.readInt32(n.position())+n.position(),n)}static getSizePrefixedRootAsShape(n,t){return n.setPosition(n.position()+b.flatbuffers.SIZE_PREFIX_LENGTH),(t||new a).__init(n.readInt32(n.position())+n.position(),n)}dim(n,t){let e=this.bb.__offset(this.bb_pos,4);return e?(t||new p.experimental.fbs.Dimension).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+e)+4*n),this.bb):null}dimLength(){let n=this.bb.__offset(this.bb_pos,4);return n?this.bb.__vector_len(this.bb_pos+n):0}static startShape(n){n.startObject(1)}static addDim(n,t){n.addFieldOffset(0,t,0)}static createDimVector(n,t){n.startVector(4,t.length,4);for(let e=t.length-1;e>=0;e--)n.addOffset(t[e]);return n.endVector()}static startDimVector(n,t){n.startVector(4,t,4)}static endShape(n){return n.endObject()}static createShape(n,t){return a.startShape(n),a.addDim(n,t),a.endShape(n)}}l.Shape=a})(u.fbs||(u.fbs={}))})(p.experimental||(p.experimental={}))}(c.onnxruntime||(c.onnxruntime={})),function(p){(function(u){(function(l){class a{constructor(){this.bb=null,this.bb_pos=0}__init(n,t){return this.bb_pos=n,this.bb=t,this}static getRootAsDimension(n,t){return(t||new a).__init(n.readInt32(n.position())+n.position(),n)}static getSizePrefixedRootAsDimension(n,t){return n.setPosition(n.position()+b.flatbuffers.SIZE_PREFIX_LENGTH),(t||new a).__init(n.readInt32(n.position())+n.position(),n)}value(n){let t=this.bb.__offset(this.bb_pos,4);return t?(n||new p.experimental.fbs.DimensionValue).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null}denotation(n){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__string(this.bb_pos+t,n):null}static startDimension(n){n.startObject(2)}static addValue(n,t){n.addFieldOffset(0,t,0)}static addDenotation(n,t){n.addFieldOffset(1,t,0)}static endDimension(n){return n.endObject()}static createDimension(n,t,e){return a.startDimension(n),a.addValue(n,t),a.addDenotation(n,e),a.endDimension(n)}}l.Dimension=a})(u.fbs||(u.fbs={}))})(p.experimental||(p.experimental={}))}(c.onnxruntime||(c.onnxruntime={})),function(p){(function(u){(function(l){class a{constructor(){this.bb=null,this.bb_pos=0}__init(n,t){return this.bb_pos=n,this.bb=t,this}static getRootAsDimensionValue(n,t){return(t||new a).__init(n.readInt32(n.position())+n.position(),n)}static getSizePrefixedRootAsDimensionValue(n,t){return n.setPosition(n.position()+b.flatbuffers.SIZE_PREFIX_LENGTH),(t||new a).__init(n.readInt32(n.position())+n.position(),n)}dimType(){let n=this.bb.__offset(this.bb_pos,4);return n?this.bb.readInt8(this.bb_pos+n):p.experimental.fbs.DimensionValueType.UNKNOWN}dimValue(){let n=this.bb.__offset(this.bb_pos,6);return n?this.bb.readInt64(this.bb_pos+n):this.bb.createLong(0,0)}dimParam(n){let t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__string(this.bb_pos+t,n):null}static startDimensionValue(n){n.startObject(3)}static addDimType(n,t){n.addFieldInt8(0,t,p.experimental.fbs.DimensionValueType.UNKNOWN)}static addDimValue(n,t){n.addFieldInt64(1,t,n.createLong(0,0))}static addDimParam(n,t){n.addFieldOffset(2,t,0)}static endDimensionValue(n){return n.endObject()}static createDimensionValue(n,t,e,r){return a.startDimensionValue(n),a.addDimType(n,t),a.addDimValue(n,e),a.addDimParam(n,r),a.endDimensionValue(n)}}l.DimensionValue=a})(u.fbs||(u.fbs={}))})(p.experimental||(p.experimental={}))}(c.onnxruntime||(c.onnxruntime={})),function(p){(function(u){(function(l){class a{constructor(){this.bb=null,this.bb_pos=0}__init(n,t){return this.bb_pos=n,this.bb=t,this}static getRootAsTensorTypeAndShape(n,t){return(t||new a).__init(n.readInt32(n.position())+n.position(),n)}static getSizePrefixedRootAsTensorTypeAndShape(n,t){return n.setPosition(n.position()+b.flatbuffers.SIZE_PREFIX_LENGTH),(t||new a).__init(n.readInt32(n.position())+n.position(),n)}elemType(){let n=this.bb.__offset(this.bb_pos,4);return n?this.bb.readInt32(this.bb_pos+n):p.experimental.fbs.TensorDataType.UNDEFINED}shape(n){let t=this.bb.__offset(this.bb_pos,6);return t?(n||new p.experimental.fbs.Shape).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null}static startTensorTypeAndShape(n){n.startObject(2)}static addElemType(n,t){n.addFieldInt32(0,t,p.experimental.fbs.TensorDataType.UNDEFINED)}static addShape(n,t){n.addFieldOffset(1,t,0)}static endTensorTypeAndShape(n){return n.endObject()}static createTensorTypeAndShape(n,t,e){return a.startTensorTypeAndShape(n),a.addElemType(n,t),a.addShape(n,e),a.endTensorTypeAndShape(n)}}l.TensorTypeAndShape=a})(u.fbs||(u.fbs={}))})(p.experimental||(p.experimental={}))}(c.onnxruntime||(c.onnxruntime={})),function(p){(function(u){(function(l){class a{constructor(){this.bb=null,this.bb_pos=0}__init(n,t){return this.bb_pos=n,this.bb=t,this}static getRootAsMapType(n,t){return(t||new a).__init(n.readInt32(n.position())+n.position(),n)}static getSizePrefixedRootAsMapType(n,t){return n.setPosition(n.position()+b.flatbuffers.SIZE_PREFIX_LENGTH),(t||new a).__init(n.readInt32(n.position())+n.position(),n)}keyType(){let n=this.bb.__offset(this.bb_pos,4);return n?this.bb.readInt32(this.bb_pos+n):p.experimental.fbs.TensorDataType.UNDEFINED}valueType(n){let t=this.bb.__offset(this.bb_pos,6);return t?(n||new p.experimental.fbs.TypeInfo).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null}static startMapType(n){n.startObject(2)}static addKeyType(n,t){n.addFieldInt32(0,t,p.experimental.fbs.TensorDataType.UNDEFINED)}static addValueType(n,t){n.addFieldOffset(1,t,0)}static endMapType(n){return n.endObject()}static createMapType(n,t,e){return a.startMapType(n),a.addKeyType(n,t),a.addValueType(n,e),a.endMapType(n)}}l.MapType=a})(u.fbs||(u.fbs={}))})(p.experimental||(p.experimental={}))}(c.onnxruntime||(c.onnxruntime={})),function(p){(function(u){(function(l){class a{constructor(){this.bb=null,this.bb_pos=0}__init(n,t){return this.bb_pos=n,this.bb=t,this}static getRootAsSequenceType(n,t){return(t||new a).__init(n.readInt32(n.position())+n.position(),n)}static getSizePrefixedRootAsSequenceType(n,t){return n.setPosition(n.position()+b.flatbuffers.SIZE_PREFIX_LENGTH),(t||new a).__init(n.readInt32(n.position())+n.position(),n)}elemType(n){let t=this.bb.__offset(this.bb_pos,4);return t?(n||new p.experimental.fbs.TypeInfo).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null}static startSequenceType(n){n.startObject(1)}static addElemType(n,t){n.addFieldOffset(0,t,0)}static endSequenceType(n){return n.endObject()}static createSequenceType(n,t){return a.startSequenceType(n),a.addElemType(n,t),a.endSequenceType(n)}}l.SequenceType=a})(u.fbs||(u.fbs={}))})(p.experimental||(p.experimental={}))}(c.onnxruntime||(c.onnxruntime={})),function(p){(function(u){(u.fbs||(u.fbs={})).EdgeEnd=class{constructor(){this.bb=null,this.bb_pos=0}__init(l,a){return this.bb_pos=l,this.bb=a,this}nodeIndex(){return this.bb.readUint32(this.bb_pos)}srcArgIndex(){return this.bb.readInt32(this.bb_pos+4)}dstArgIndex(){return this.bb.readInt32(this.bb_pos+8)}static createEdgeEnd(l,a,o,n){return l.prep(4,12),l.writeInt32(n),l.writeInt32(o),l.writeInt32(a),l.offset()}}})(p.experimental||(p.experimental={}))}(c.onnxruntime||(c.onnxruntime={})),function(p){(function(u){(function(l){class a{constructor(){this.bb=null,this.bb_pos=0}__init(n,t){return this.bb_pos=n,this.bb=t,this}static getRootAsNodeEdge(n,t){return(t||new a).__init(n.readInt32(n.position())+n.position(),n)}static getSizePrefixedRootAsNodeEdge(n,t){return n.setPosition(n.position()+b.flatbuffers.SIZE_PREFIX_LENGTH),(t||new a).__init(n.readInt32(n.position())+n.position(),n)}nodeIndex(){let n=this.bb.__offset(this.bb_pos,4);return n?this.bb.readUint32(this.bb_pos+n):0}inputEdges(n,t){let e=this.bb.__offset(this.bb_pos,6);return e?(t||new p.experimental.fbs.EdgeEnd).__init(this.bb.__vector(this.bb_pos+e)+12*n,this.bb):null}inputEdgesLength(){let n=this.bb.__offset(this.bb_pos,6);return n?this.bb.__vector_len(this.bb_pos+n):0}outputEdges(n,t){let e=this.bb.__offset(this.bb_pos,8);return e?(t||new p.experimental.fbs.EdgeEnd).__init(this.bb.__vector(this.bb_pos+e)+12*n,this.bb):null}outputEdgesLength(){let n=this.bb.__offset(this.bb_pos,8);return n?this.bb.__vector_len(this.bb_pos+n):0}static startNodeEdge(n){n.startObject(3)}static addNodeIndex(n,t){n.addFieldInt32(0,t,0)}static addInputEdges(n,t){n.addFieldOffset(1,t,0)}static startInputEdgesVector(n,t){n.startVector(12,t,4)}static addOutputEdges(n,t){n.addFieldOffset(2,t,0)}static startOutputEdgesVector(n,t){n.startVector(12,t,4)}static endNodeEdge(n){return n.endObject()}static createNodeEdge(n,t,e,r){return a.startNodeEdge(n),a.addNodeIndex(n,t),a.addInputEdges(n,e),a.addOutputEdges(n,r),a.endNodeEdge(n)}}l.NodeEdge=a})(u.fbs||(u.fbs={}))})(p.experimental||(p.experimental={}))}(c.onnxruntime||(c.onnxruntime={})),function(p){(function(u){(function(l){class a{constructor(){this.bb=null,this.bb_pos=0}__init(n,t){return this.bb_pos=n,this.bb=t,this}static getRootAsNode(n,t){return(t||new a).__init(n.readInt32(n.position())+n.position(),n)}static getSizePrefixedRootAsNode(n,t){return n.setPosition(n.position()+b.flatbuffers.SIZE_PREFIX_LENGTH),(t||new a).__init(n.readInt32(n.position())+n.position(),n)}name(n){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__string(this.bb_pos+t,n):null}docString(n){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__string(this.bb_pos+t,n):null}domain(n){let t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__string(this.bb_pos+t,n):null}sinceVersion(){let n=this.bb.__offset(this.bb_pos,10);return n?this.bb.readInt32(this.bb_pos+n):0}index(){let n=this.bb.__offset(this.bb_pos,12);return n?this.bb.readUint32(this.bb_pos+n):0}opType(n){let t=this.bb.__offset(this.bb_pos,14);return t?this.bb.__string(this.bb_pos+t,n):null}type(){let n=this.bb.__offset(this.bb_pos,16);return n?this.bb.readInt32(this.bb_pos+n):p.experimental.fbs.NodeType.Primitive}executionProviderType(n){let t=this.bb.__offset(this.bb_pos,18);return t?this.bb.__string(this.bb_pos+t,n):null}inputs(n,t){let e=this.bb.__offset(this.bb_pos,20);return e?this.bb.__string(this.bb.__vector(this.bb_pos+e)+4*n,t):null}inputsLength(){let n=this.bb.__offset(this.bb_pos,20);return n?this.bb.__vector_len(this.bb_pos+n):0}outputs(n,t){let e=this.bb.__offset(this.bb_pos,22);return e?this.bb.__string(this.bb.__vector(this.bb_pos+e)+4*n,t):null}outputsLength(){let n=this.bb.__offset(this.bb_pos,22);return n?this.bb.__vector_len(this.bb_pos+n):0}attributes(n,t){let e=this.bb.__offset(this.bb_pos,24);return e?(t||new p.experimental.fbs.Attribute).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+e)+4*n),this.bb):null}attributesLength(){let n=this.bb.__offset(this.bb_pos,24);return n?this.bb.__vector_len(this.bb_pos+n):0}inputArgCounts(n){let t=this.bb.__offset(this.bb_pos,26);return t?this.bb.readInt32(this.bb.__vector(this.bb_pos+t)+4*n):0}inputArgCountsLength(){let n=this.bb.__offset(this.bb_pos,26);return n?this.bb.__vector_len(this.bb_pos+n):0}inputArgCountsArray(){let n=this.bb.__offset(this.bb_pos,26);return n?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+n),this.bb.__vector_len(this.bb_pos+n)):null}implicitInputs(n,t){let e=this.bb.__offset(this.bb_pos,28);return e?this.bb.__string(this.bb.__vector(this.bb_pos+e)+4*n,t):null}implicitInputsLength(){let n=this.bb.__offset(this.bb_pos,28);return n?this.bb.__vector_len(this.bb_pos+n):0}static startNode(n){n.startObject(13)}static addName(n,t){n.addFieldOffset(0,t,0)}static addDocString(n,t){n.addFieldOffset(1,t,0)}static addDomain(n,t){n.addFieldOffset(2,t,0)}static addSinceVersion(n,t){n.addFieldInt32(3,t,0)}static addIndex(n,t){n.addFieldInt32(4,t,0)}static addOpType(n,t){n.addFieldOffset(5,t,0)}static addType(n,t){n.addFieldInt32(6,t,p.experimental.fbs.NodeType.Primitive)}static addExecutionProviderType(n,t){n.addFieldOffset(7,t,0)}static addInputs(n,t){n.addFieldOffset(8,t,0)}static createInputsVector(n,t){n.startVector(4,t.length,4);for(let e=t.length-1;e>=0;e--)n.addOffset(t[e]);return n.endVector()}static startInputsVector(n,t){n.startVector(4,t,4)}static addOutputs(n,t){n.addFieldOffset(9,t,0)}static createOutputsVector(n,t){n.startVector(4,t.length,4);for(let e=t.length-1;e>=0;e--)n.addOffset(t[e]);return n.endVector()}static startOutputsVector(n,t){n.startVector(4,t,4)}static addAttributes(n,t){n.addFieldOffset(10,t,0)}static createAttributesVector(n,t){n.startVector(4,t.length,4);for(let e=t.length-1;e>=0;e--)n.addOffset(t[e]);return n.endVector()}static startAttributesVector(n,t){n.startVector(4,t,4)}static addInputArgCounts(n,t){n.addFieldOffset(11,t,0)}static createInputArgCountsVector(n,t){n.startVector(4,t.length,4);for(let e=t.length-1;e>=0;e--)n.addInt32(t[e]);return n.endVector()}static startInputArgCountsVector(n,t){n.startVector(4,t,4)}static addImplicitInputs(n,t){n.addFieldOffset(12,t,0)}static createImplicitInputsVector(n,t){n.startVector(4,t.length,4);for(let e=t.length-1;e>=0;e--)n.addOffset(t[e]);return n.endVector()}static startImplicitInputsVector(n,t){n.startVector(4,t,4)}static endNode(n){return n.endObject()}static createNode(n,t,e,r,i,s,f,g,m,y,v,T,x,A){return a.startNode(n),a.addName(n,t),a.addDocString(n,e),a.addDomain(n,r),a.addSinceVersion(n,i),a.addIndex(n,s),a.addOpType(n,f),a.addType(n,g),a.addExecutionProviderType(n,m),a.addInputs(n,y),a.addOutputs(n,v),a.addAttributes(n,T),a.addInputArgCounts(n,x),a.addImplicitInputs(n,A),a.endNode(n)}}l.Node=a})(u.fbs||(u.fbs={}))})(p.experimental||(p.experimental={}))}(c.onnxruntime||(c.onnxruntime={})),function(p){(function(u){(function(l){class a{constructor(){this.bb=null,this.bb_pos=0}__init(n,t){return this.bb_pos=n,this.bb=t,this}static getRootAsValueInfo(n,t){return(t||new a).__init(n.readInt32(n.position())+n.position(),n)}static getSizePrefixedRootAsValueInfo(n,t){return n.setPosition(n.position()+b.flatbuffers.SIZE_PREFIX_LENGTH),(t||new a).__init(n.readInt32(n.position())+n.position(),n)}name(n){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__string(this.bb_pos+t,n):null}docString(n){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__string(this.bb_pos+t,n):null}type(n){let t=this.bb.__offset(this.bb_pos,8);return t?(n||new p.experimental.fbs.TypeInfo).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null}static startValueInfo(n){n.startObject(3)}static addName(n,t){n.addFieldOffset(0,t,0)}static addDocString(n,t){n.addFieldOffset(1,t,0)}static addType(n,t){n.addFieldOffset(2,t,0)}static endValueInfo(n){return n.endObject()}static createValueInfo(n,t,e,r){return a.startValueInfo(n),a.addName(n,t),a.addDocString(n,e),a.addType(n,r),a.endValueInfo(n)}}l.ValueInfo=a})(u.fbs||(u.fbs={}))})(p.experimental||(p.experimental={}))}(c.onnxruntime||(c.onnxruntime={})),function(p){(function(u){(function(l){class a{constructor(){this.bb=null,this.bb_pos=0}__init(n,t){return this.bb_pos=n,this.bb=t,this}static getRootAsTypeInfo(n,t){return(t||new a).__init(n.readInt32(n.position())+n.position(),n)}static getSizePrefixedRootAsTypeInfo(n,t){return n.setPosition(n.position()+b.flatbuffers.SIZE_PREFIX_LENGTH),(t||new a).__init(n.readInt32(n.position())+n.position(),n)}denotation(n){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__string(this.bb_pos+t,n):null}valueType(){let n=this.bb.__offset(this.bb_pos,6);return n?this.bb.readUint8(this.bb_pos+n):p.experimental.fbs.TypeInfoValue.NONE}value(n){let t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__union(n,this.bb_pos+t):null}static startTypeInfo(n){n.startObject(3)}static addDenotation(n,t){n.addFieldOffset(0,t,0)}static addValueType(n,t){n.addFieldInt8(1,t,p.experimental.fbs.TypeInfoValue.NONE)}static addValue(n,t){n.addFieldOffset(2,t,0)}static endTypeInfo(n){return n.endObject()}static createTypeInfo(n,t,e,r){return a.startTypeInfo(n),a.addDenotation(n,t),a.addValueType(n,e),a.addValue(n,r),a.endTypeInfo(n)}}l.TypeInfo=a})(u.fbs||(u.fbs={}))})(p.experimental||(p.experimental={}))}(c.onnxruntime||(c.onnxruntime={})),function(p){(function(u){(function(l){class a{constructor(){this.bb=null,this.bb_pos=0}__init(n,t){return this.bb_pos=n,this.bb=t,this}static getRootAsOperatorSetId(n,t){return(t||new a).__init(n.readInt32(n.position())+n.position(),n)}static getSizePrefixedRootAsOperatorSetId(n,t){return n.setPosition(n.position()+b.flatbuffers.SIZE_PREFIX_LENGTH),(t||new a).__init(n.readInt32(n.position())+n.position(),n)}domain(n){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__string(this.bb_pos+t,n):null}version(){let n=this.bb.__offset(this.bb_pos,6);return n?this.bb.readInt64(this.bb_pos+n):this.bb.createLong(0,0)}static startOperatorSetId(n){n.startObject(2)}static addDomain(n,t){n.addFieldOffset(0,t,0)}static addVersion(n,t){n.addFieldInt64(1,t,n.createLong(0,0))}static endOperatorSetId(n){return n.endObject()}static createOperatorSetId(n,t,e){return a.startOperatorSetId(n),a.addDomain(n,t),a.addVersion(n,e),a.endOperatorSetId(n)}}l.OperatorSetId=a})(u.fbs||(u.fbs={}))})(p.experimental||(p.experimental={}))}(c.onnxruntime||(c.onnxruntime={})),function(p){(function(u){(function(l){class a{constructor(){this.bb=null,this.bb_pos=0}__init(n,t){return this.bb_pos=n,this.bb=t,this}static getRootAsTensor(n,t){return(t||new a).__init(n.readInt32(n.position())+n.position(),n)}static getSizePrefixedRootAsTensor(n,t){return n.setPosition(n.position()+b.flatbuffers.SIZE_PREFIX_LENGTH),(t||new a).__init(n.readInt32(n.position())+n.position(),n)}name(n){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__string(this.bb_pos+t,n):null}docString(n){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__string(this.bb_pos+t,n):null}dims(n){let t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readInt64(this.bb.__vector(this.bb_pos+t)+8*n):this.bb.createLong(0,0)}dimsLength(){let n=this.bb.__offset(this.bb_pos,8);return n?this.bb.__vector_len(this.bb_pos+n):0}dataType(){let n=this.bb.__offset(this.bb_pos,10);return n?this.bb.readInt32(this.bb_pos+n):p.experimental.fbs.TensorDataType.UNDEFINED}rawData(n){let t=this.bb.__offset(this.bb_pos,12);return t?this.bb.readUint8(this.bb.__vector(this.bb_pos+t)+n):0}rawDataLength(){let n=this.bb.__offset(this.bb_pos,12);return n?this.bb.__vector_len(this.bb_pos+n):0}rawDataArray(){let n=this.bb.__offset(this.bb_pos,12);return n?new Uint8Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+n),this.bb.__vector_len(this.bb_pos+n)):null}stringData(n,t){let e=this.bb.__offset(this.bb_pos,14);return e?this.bb.__string(this.bb.__vector(this.bb_pos+e)+4*n,t):null}stringDataLength(){let n=this.bb.__offset(this.bb_pos,14);return n?this.bb.__vector_len(this.bb_pos+n):0}static startTensor(n){n.startObject(6)}static addName(n,t){n.addFieldOffset(0,t,0)}static addDocString(n,t){n.addFieldOffset(1,t,0)}static addDims(n,t){n.addFieldOffset(2,t,0)}static createDimsVector(n,t){n.startVector(8,t.length,8);for(let e=t.length-1;e>=0;e--)n.addInt64(t[e]);return n.endVector()}static startDimsVector(n,t){n.startVector(8,t,8)}static addDataType(n,t){n.addFieldInt32(3,t,p.experimental.fbs.TensorDataType.UNDEFINED)}static addRawData(n,t){n.addFieldOffset(4,t,0)}static createRawDataVector(n,t){n.startVector(1,t.length,1);for(let e=t.length-1;e>=0;e--)n.addInt8(t[e]);return n.endVector()}static startRawDataVector(n,t){n.startVector(1,t,1)}static addStringData(n,t){n.addFieldOffset(5,t,0)}static createStringDataVector(n,t){n.startVector(4,t.length,4);for(let e=t.length-1;e>=0;e--)n.addOffset(t[e]);return n.endVector()}static startStringDataVector(n,t){n.startVector(4,t,4)}static endTensor(n){return n.endObject()}static createTensor(n,t,e,r,i,s,f){return a.startTensor(n),a.addName(n,t),a.addDocString(n,e),a.addDims(n,r),a.addDataType(n,i),a.addRawData(n,s),a.addStringData(n,f),a.endTensor(n)}}l.Tensor=a})(u.fbs||(u.fbs={}))})(p.experimental||(p.experimental={}))}(c.onnxruntime||(c.onnxruntime={})),function(p){(function(u){(function(l){class a{constructor(){this.bb=null,this.bb_pos=0}__init(n,t){return this.bb_pos=n,this.bb=t,this}static getRootAsSparseTensor(n,t){return(t||new a).__init(n.readInt32(n.position())+n.position(),n)}static getSizePrefixedRootAsSparseTensor(n,t){return n.setPosition(n.position()+b.flatbuffers.SIZE_PREFIX_LENGTH),(t||new a).__init(n.readInt32(n.position())+n.position(),n)}values(n){let t=this.bb.__offset(this.bb_pos,4);return t?(n||new p.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null}indices(n){let t=this.bb.__offset(this.bb_pos,6);return t?(n||new p.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null}dims(n){let t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readInt64(this.bb.__vector(this.bb_pos+t)+8*n):this.bb.createLong(0,0)}dimsLength(){let n=this.bb.__offset(this.bb_pos,8);return n?this.bb.__vector_len(this.bb_pos+n):0}static startSparseTensor(n){n.startObject(3)}static addValues(n,t){n.addFieldOffset(0,t,0)}static addIndices(n,t){n.addFieldOffset(1,t,0)}static addDims(n,t){n.addFieldOffset(2,t,0)}static createDimsVector(n,t){n.startVector(8,t.length,8);for(let e=t.length-1;e>=0;e--)n.addInt64(t[e]);return n.endVector()}static startDimsVector(n,t){n.startVector(8,t,8)}static endSparseTensor(n){return n.endObject()}static createSparseTensor(n,t,e,r){return a.startSparseTensor(n),a.addValues(n,t),a.addIndices(n,e),a.addDims(n,r),a.endSparseTensor(n)}}l.SparseTensor=a})(u.fbs||(u.fbs={}))})(p.experimental||(p.experimental={}))}(c.onnxruntime||(c.onnxruntime={})),function(p){(function(u){(function(l){class a{constructor(){this.bb=null,this.bb_pos=0}__init(n,t){return this.bb_pos=n,this.bb=t,this}static getRootAsAttribute(n,t){return(t||new a).__init(n.readInt32(n.position())+n.position(),n)}static getSizePrefixedRootAsAttribute(n,t){return n.setPosition(n.position()+b.flatbuffers.SIZE_PREFIX_LENGTH),(t||new a).__init(n.readInt32(n.position())+n.position(),n)}name(n){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__string(this.bb_pos+t,n):null}docString(n){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__string(this.bb_pos+t,n):null}type(){let n=this.bb.__offset(this.bb_pos,8);return n?this.bb.readInt32(this.bb_pos+n):p.experimental.fbs.AttributeType.UNDEFINED}f(){let n=this.bb.__offset(this.bb_pos,10);return n?this.bb.readFloat32(this.bb_pos+n):0}i(){let n=this.bb.__offset(this.bb_pos,12);return n?this.bb.readInt64(this.bb_pos+n):this.bb.createLong(0,0)}s(n){let t=this.bb.__offset(this.bb_pos,14);return t?this.bb.__string(this.bb_pos+t,n):null}t(n){let t=this.bb.__offset(this.bb_pos,16);return t?(n||new p.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null}g(n){let t=this.bb.__offset(this.bb_pos,18);return t?(n||new p.experimental.fbs.Graph).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null}floats(n){let t=this.bb.__offset(this.bb_pos,20);return t?this.bb.readFloat32(this.bb.__vector(this.bb_pos+t)+4*n):0}floatsLength(){let n=this.bb.__offset(this.bb_pos,20);return n?this.bb.__vector_len(this.bb_pos+n):0}floatsArray(){let n=this.bb.__offset(this.bb_pos,20);return n?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+n),this.bb.__vector_len(this.bb_pos+n)):null}ints(n){let t=this.bb.__offset(this.bb_pos,22);return t?this.bb.readInt64(this.bb.__vector(this.bb_pos+t)+8*n):this.bb.createLong(0,0)}intsLength(){let n=this.bb.__offset(this.bb_pos,22);return n?this.bb.__vector_len(this.bb_pos+n):0}strings(n,t){let e=this.bb.__offset(this.bb_pos,24);return e?this.bb.__string(this.bb.__vector(this.bb_pos+e)+4*n,t):null}stringsLength(){let n=this.bb.__offset(this.bb_pos,24);return n?this.bb.__vector_len(this.bb_pos+n):0}tensors(n,t){let e=this.bb.__offset(this.bb_pos,26);return e?(t||new p.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+e)+4*n),this.bb):null}tensorsLength(){let n=this.bb.__offset(this.bb_pos,26);return n?this.bb.__vector_len(this.bb_pos+n):0}graphs(n,t){let e=this.bb.__offset(this.bb_pos,28);return e?(t||new p.experimental.fbs.Graph).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+e)+4*n),this.bb):null}graphsLength(){let n=this.bb.__offset(this.bb_pos,28);return n?this.bb.__vector_len(this.bb_pos+n):0}static startAttribute(n){n.startObject(13)}static addName(n,t){n.addFieldOffset(0,t,0)}static addDocString(n,t){n.addFieldOffset(1,t,0)}static addType(n,t){n.addFieldInt32(2,t,p.experimental.fbs.AttributeType.UNDEFINED)}static addF(n,t){n.addFieldFloat32(3,t,0)}static addI(n,t){n.addFieldInt64(4,t,n.createLong(0,0))}static addS(n,t){n.addFieldOffset(5,t,0)}static addT(n,t){n.addFieldOffset(6,t,0)}static addG(n,t){n.addFieldOffset(7,t,0)}static addFloats(n,t){n.addFieldOffset(8,t,0)}static createFloatsVector(n,t){n.startVector(4,t.length,4);for(let e=t.length-1;e>=0;e--)n.addFloat32(t[e]);return n.endVector()}static startFloatsVector(n,t){n.startVector(4,t,4)}static addInts(n,t){n.addFieldOffset(9,t,0)}static createIntsVector(n,t){n.startVector(8,t.length,8);for(let e=t.length-1;e>=0;e--)n.addInt64(t[e]);return n.endVector()}static startIntsVector(n,t){n.startVector(8,t,8)}static addStrings(n,t){n.addFieldOffset(10,t,0)}static createStringsVector(n,t){n.startVector(4,t.length,4);for(let e=t.length-1;e>=0;e--)n.addOffset(t[e]);return n.endVector()}static startStringsVector(n,t){n.startVector(4,t,4)}static addTensors(n,t){n.addFieldOffset(11,t,0)}static createTensorsVector(n,t){n.startVector(4,t.length,4);for(let e=t.length-1;e>=0;e--)n.addOffset(t[e]);return n.endVector()}static startTensorsVector(n,t){n.startVector(4,t,4)}static addGraphs(n,t){n.addFieldOffset(12,t,0)}static createGraphsVector(n,t){n.startVector(4,t.length,4);for(let e=t.length-1;e>=0;e--)n.addOffset(t[e]);return n.endVector()}static startGraphsVector(n,t){n.startVector(4,t,4)}static endAttribute(n){return n.endObject()}static createAttribute(n,t,e,r,i,s,f,g,m,y,v,T,x,A){return a.startAttribute(n),a.addName(n,t),a.addDocString(n,e),a.addType(n,r),a.addF(n,i),a.addI(n,s),a.addS(n,f),a.addT(n,g),a.addG(n,m),a.addFloats(n,y),a.addInts(n,v),a.addStrings(n,T),a.addTensors(n,x),a.addGraphs(n,A),a.endAttribute(n)}}l.Attribute=a})(u.fbs||(u.fbs={}))})(p.experimental||(p.experimental={}))}(c.onnxruntime||(c.onnxruntime={})),function(p){(function(u){(function(l){class a{constructor(){this.bb=null,this.bb_pos=0}__init(n,t){return this.bb_pos=n,this.bb=t,this}static getRootAsGraph(n,t){return(t||new a).__init(n.readInt32(n.position())+n.position(),n)}static getSizePrefixedRootAsGraph(n,t){return n.setPosition(n.position()+b.flatbuffers.SIZE_PREFIX_LENGTH),(t||new a).__init(n.readInt32(n.position())+n.position(),n)}initializers(n,t){let e=this.bb.__offset(this.bb_pos,4);return e?(t||new p.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+e)+4*n),this.bb):null}initializersLength(){let n=this.bb.__offset(this.bb_pos,4);return n?this.bb.__vector_len(this.bb_pos+n):0}nodeArgs(n,t){let e=this.bb.__offset(this.bb_pos,6);return e?(t||new p.experimental.fbs.ValueInfo).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+e)+4*n),this.bb):null}nodeArgsLength(){let n=this.bb.__offset(this.bb_pos,6);return n?this.bb.__vector_len(this.bb_pos+n):0}nodes(n,t){let e=this.bb.__offset(this.bb_pos,8);return e?(t||new p.experimental.fbs.Node).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+e)+4*n),this.bb):null}nodesLength(){let n=this.bb.__offset(this.bb_pos,8);return n?this.bb.__vector_len(this.bb_pos+n):0}maxNodeIndex(){let n=this.bb.__offset(this.bb_pos,10);return n?this.bb.readUint32(this.bb_pos+n):0}nodeEdges(n,t){let e=this.bb.__offset(this.bb_pos,12);return e?(t||new p.experimental.fbs.NodeEdge).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+e)+4*n),this.bb):null}nodeEdgesLength(){let n=this.bb.__offset(this.bb_pos,12);return n?this.bb.__vector_len(this.bb_pos+n):0}inputs(n,t){let e=this.bb.__offset(this.bb_pos,14);return e?this.bb.__string(this.bb.__vector(this.bb_pos+e)+4*n,t):null}inputsLength(){let n=this.bb.__offset(this.bb_pos,14);return n?this.bb.__vector_len(this.bb_pos+n):0}outputs(n,t){let e=this.bb.__offset(this.bb_pos,16);return e?this.bb.__string(this.bb.__vector(this.bb_pos+e)+4*n,t):null}outputsLength(){let n=this.bb.__offset(this.bb_pos,16);return n?this.bb.__vector_len(this.bb_pos+n):0}sparseInitializers(n,t){let e=this.bb.__offset(this.bb_pos,18);return e?(t||new p.experimental.fbs.SparseTensor).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+e)+4*n),this.bb):null}sparseInitializersLength(){let n=this.bb.__offset(this.bb_pos,18);return n?this.bb.__vector_len(this.bb_pos+n):0}static startGraph(n){n.startObject(8)}static addInitializers(n,t){n.addFieldOffset(0,t,0)}static createInitializersVector(n,t){n.startVector(4,t.length,4);for(let e=t.length-1;e>=0;e--)n.addOffset(t[e]);return n.endVector()}static startInitializersVector(n,t){n.startVector(4,t,4)}static addNodeArgs(n,t){n.addFieldOffset(1,t,0)}static createNodeArgsVector(n,t){n.startVector(4,t.length,4);for(let e=t.length-1;e>=0;e--)n.addOffset(t[e]);return n.endVector()}static startNodeArgsVector(n,t){n.startVector(4,t,4)}static addNodes(n,t){n.addFieldOffset(2,t,0)}static createNodesVector(n,t){n.startVector(4,t.length,4);for(let e=t.length-1;e>=0;e--)n.addOffset(t[e]);return n.endVector()}static startNodesVector(n,t){n.startVector(4,t,4)}static addMaxNodeIndex(n,t){n.addFieldInt32(3,t,0)}static addNodeEdges(n,t){n.addFieldOffset(4,t,0)}static createNodeEdgesVector(n,t){n.startVector(4,t.length,4);for(let e=t.length-1;e>=0;e--)n.addOffset(t[e]);return n.endVector()}static startNodeEdgesVector(n,t){n.startVector(4,t,4)}static addInputs(n,t){n.addFieldOffset(5,t,0)}static createInputsVector(n,t){n.startVector(4,t.length,4);for(let e=t.length-1;e>=0;e--)n.addOffset(t[e]);return n.endVector()}static startInputsVector(n,t){n.startVector(4,t,4)}static addOutputs(n,t){n.addFieldOffset(6,t,0)}static createOutputsVector(n,t){n.startVector(4,t.length,4);for(let e=t.length-1;e>=0;e--)n.addOffset(t[e]);return n.endVector()}static startOutputsVector(n,t){n.startVector(4,t,4)}static addSparseInitializers(n,t){n.addFieldOffset(7,t,0)}static createSparseInitializersVector(n,t){n.startVector(4,t.length,4);for(let e=t.length-1;e>=0;e--)n.addOffset(t[e]);return n.endVector()}static startSparseInitializersVector(n,t){n.startVector(4,t,4)}static endGraph(n){return n.endObject()}static createGraph(n,t,e,r,i,s,f,g,m){return a.startGraph(n),a.addInitializers(n,t),a.addNodeArgs(n,e),a.addNodes(n,r),a.addMaxNodeIndex(n,i),a.addNodeEdges(n,s),a.addInputs(n,f),a.addOutputs(n,g),a.addSparseInitializers(n,m),a.endGraph(n)}}l.Graph=a})(u.fbs||(u.fbs={}))})(p.experimental||(p.experimental={}))}(c.onnxruntime||(c.onnxruntime={})),function(p){(function(u){(function(l){class a{constructor(){this.bb=null,this.bb_pos=0}__init(n,t){return this.bb_pos=n,this.bb=t,this}static getRootAsModel(n,t){return(t||new a).__init(n.readInt32(n.position())+n.position(),n)}static getSizePrefixedRootAsModel(n,t){return n.setPosition(n.position()+b.flatbuffers.SIZE_PREFIX_LENGTH),(t||new a).__init(n.readInt32(n.position())+n.position(),n)}irVersion(){let n=this.bb.__offset(this.bb_pos,4);return n?this.bb.readInt64(this.bb_pos+n):this.bb.createLong(0,0)}opsetImport(n,t){let e=this.bb.__offset(this.bb_pos,6);return e?(t||new p.experimental.fbs.OperatorSetId).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+e)+4*n),this.bb):null}opsetImportLength(){let n=this.bb.__offset(this.bb_pos,6);return n?this.bb.__vector_len(this.bb_pos+n):0}producerName(n){let t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__string(this.bb_pos+t,n):null}producerVersion(n){let t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__string(this.bb_pos+t,n):null}domain(n){let t=this.bb.__offset(this.bb_pos,12);return t?this.bb.__string(this.bb_pos+t,n):null}modelVersion(){let n=this.bb.__offset(this.bb_pos,14);return n?this.bb.readInt64(this.bb_pos+n):this.bb.createLong(0,0)}docString(n){let t=this.bb.__offset(this.bb_pos,16);return t?this.bb.__string(this.bb_pos+t,n):null}graph(n){let t=this.bb.__offset(this.bb_pos,18);return t?(n||new p.experimental.fbs.Graph).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null}graphDocString(n){let t=this.bb.__offset(this.bb_pos,20);return t?this.bb.__string(this.bb_pos+t,n):null}static startModel(n){n.startObject(9)}static addIrVersion(n,t){n.addFieldInt64(0,t,n.createLong(0,0))}static addOpsetImport(n,t){n.addFieldOffset(1,t,0)}static createOpsetImportVector(n,t){n.startVector(4,t.length,4);for(let e=t.length-1;e>=0;e--)n.addOffset(t[e]);return n.endVector()}static startOpsetImportVector(n,t){n.startVector(4,t,4)}static addProducerName(n,t){n.addFieldOffset(2,t,0)}static addProducerVersion(n,t){n.addFieldOffset(3,t,0)}static addDomain(n,t){n.addFieldOffset(4,t,0)}static addModelVersion(n,t){n.addFieldInt64(5,t,n.createLong(0,0))}static addDocString(n,t){n.addFieldOffset(6,t,0)}static addGraph(n,t){n.addFieldOffset(7,t,0)}static addGraphDocString(n,t){n.addFieldOffset(8,t,0)}static endModel(n){return n.endObject()}static createModel(n,t,e,r,i,s,f,g,m,y){return a.startModel(n),a.addIrVersion(n,t),a.addOpsetImport(n,e),a.addProducerName(n,r),a.addProducerVersion(n,i),a.addDomain(n,s),a.addModelVersion(n,f),a.addDocString(n,g),a.addGraph(n,m),a.addGraphDocString(n,y),a.endModel(n)}}l.Model=a})(u.fbs||(u.fbs={}))})(p.experimental||(p.experimental={}))}(c.onnxruntime||(c.onnxruntime={})),function(p){(function(u){(function(l){class a{constructor(){this.bb=null,this.bb_pos=0}__init(n,t){return this.bb_pos=n,this.bb=t,this}static getRootAsKernelCreateInfos(n,t){return(t||new a).__init(n.readInt32(n.position())+n.position(),n)}static getSizePrefixedRootAsKernelCreateInfos(n,t){return n.setPosition(n.position()+b.flatbuffers.SIZE_PREFIX_LENGTH),(t||new a).__init(n.readInt32(n.position())+n.position(),n)}nodeIndices(n){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readUint32(this.bb.__vector(this.bb_pos+t)+4*n):0}nodeIndicesLength(){let n=this.bb.__offset(this.bb_pos,4);return n?this.bb.__vector_len(this.bb_pos+n):0}nodeIndicesArray(){let n=this.bb.__offset(this.bb_pos,4);return n?new Uint32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+n),this.bb.__vector_len(this.bb_pos+n)):null}kernelDefHashes(n){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readUint64(this.bb.__vector(this.bb_pos+t)+8*n):this.bb.createLong(0,0)}kernelDefHashesLength(){let n=this.bb.__offset(this.bb_pos,6);return n?this.bb.__vector_len(this.bb_pos+n):0}static startKernelCreateInfos(n){n.startObject(2)}static addNodeIndices(n,t){n.addFieldOffset(0,t,0)}static createNodeIndicesVector(n,t){n.startVector(4,t.length,4);for(let e=t.length-1;e>=0;e--)n.addInt32(t[e]);return n.endVector()}static startNodeIndicesVector(n,t){n.startVector(4,t,4)}static addKernelDefHashes(n,t){n.addFieldOffset(1,t,0)}static createKernelDefHashesVector(n,t){n.startVector(8,t.length,8);for(let e=t.length-1;e>=0;e--)n.addInt64(t[e]);return n.endVector()}static startKernelDefHashesVector(n,t){n.startVector(8,t,8)}static endKernelCreateInfos(n){return n.endObject()}static createKernelCreateInfos(n,t,e){return a.startKernelCreateInfos(n),a.addNodeIndices(n,t),a.addKernelDefHashes(n,e),a.endKernelCreateInfos(n)}}l.KernelCreateInfos=a})(u.fbs||(u.fbs={}))})(p.experimental||(p.experimental={}))}(c.onnxruntime||(c.onnxruntime={})),function(p){(function(u){(function(l){class a{constructor(){this.bb=null,this.bb_pos=0}__init(n,t){return this.bb_pos=n,this.bb=t,this}static getRootAsSubGraphSessionState(n,t){return(t||new a).__init(n.readInt32(n.position())+n.position(),n)}static getSizePrefixedRootAsSubGraphSessionState(n,t){return n.setPosition(n.position()+b.flatbuffers.SIZE_PREFIX_LENGTH),(t||new a).__init(n.readInt32(n.position())+n.position(),n)}graphId(n){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__string(this.bb_pos+t,n):null}sessionState(n){let t=this.bb.__offset(this.bb_pos,6);return t?(n||new p.experimental.fbs.SessionState).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null}static startSubGraphSessionState(n){n.startObject(2)}static addGraphId(n,t){n.addFieldOffset(0,t,0)}static addSessionState(n,t){n.addFieldOffset(1,t,0)}static endSubGraphSessionState(n){let t=n.endObject();return n.requiredField(t,4),t}static createSubGraphSessionState(n,t,e){return a.startSubGraphSessionState(n),a.addGraphId(n,t),a.addSessionState(n,e),a.endSubGraphSessionState(n)}}l.SubGraphSessionState=a})(u.fbs||(u.fbs={}))})(p.experimental||(p.experimental={}))}(c.onnxruntime||(c.onnxruntime={})),function(p){(function(u){(function(l){class a{constructor(){this.bb=null,this.bb_pos=0}__init(n,t){return this.bb_pos=n,this.bb=t,this}static getRootAsSessionState(n,t){return(t||new a).__init(n.readInt32(n.position())+n.position(),n)}static getSizePrefixedRootAsSessionState(n,t){return n.setPosition(n.position()+b.flatbuffers.SIZE_PREFIX_LENGTH),(t||new a).__init(n.readInt32(n.position())+n.position(),n)}kernels(n){let t=this.bb.__offset(this.bb_pos,4);return t?(n||new p.experimental.fbs.KernelCreateInfos).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null}subGraphSessionStates(n,t){let e=this.bb.__offset(this.bb_pos,6);return e?(t||new p.experimental.fbs.SubGraphSessionState).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+e)+4*n),this.bb):null}subGraphSessionStatesLength(){let n=this.bb.__offset(this.bb_pos,6);return n?this.bb.__vector_len(this.bb_pos+n):0}static startSessionState(n){n.startObject(2)}static addKernels(n,t){n.addFieldOffset(0,t,0)}static addSubGraphSessionStates(n,t){n.addFieldOffset(1,t,0)}static createSubGraphSessionStatesVector(n,t){n.startVector(4,t.length,4);for(let e=t.length-1;e>=0;e--)n.addOffset(t[e]);return n.endVector()}static startSubGraphSessionStatesVector(n,t){n.startVector(4,t,4)}static endSessionState(n){return n.endObject()}static createSessionState(n,t,e){return a.startSessionState(n),a.addKernels(n,t),a.addSubGraphSessionStates(n,e),a.endSessionState(n)}}l.SessionState=a})(u.fbs||(u.fbs={}))})(p.experimental||(p.experimental={}))}(c.onnxruntime||(c.onnxruntime={})),function(p){(function(u){(function(l){class a{constructor(){this.bb=null,this.bb_pos=0}__init(n,t){return this.bb_pos=n,this.bb=t,this}static getRootAsInferenceSession(n,t){return(t||new a).__init(n.readInt32(n.position())+n.position(),n)}static getSizePrefixedRootAsInferenceSession(n,t){return n.setPosition(n.position()+b.flatbuffers.SIZE_PREFIX_LENGTH),(t||new a).__init(n.readInt32(n.position())+n.position(),n)}static bufferHasIdentifier(n){return n.__has_identifier("ORTM")}ortVersion(n){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__string(this.bb_pos+t,n):null}model(n){let t=this.bb.__offset(this.bb_pos,6);return t?(n||new p.experimental.fbs.Model).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null}sessionState(n){let t=this.bb.__offset(this.bb_pos,8);return t?(n||new p.experimental.fbs.SessionState).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null}static startInferenceSession(n){n.startObject(3)}static addOrtVersion(n,t){n.addFieldOffset(0,t,0)}static addModel(n,t){n.addFieldOffset(1,t,0)}static addSessionState(n,t){n.addFieldOffset(2,t,0)}static endInferenceSession(n){return n.endObject()}static finishInferenceSessionBuffer(n,t){n.finish(t,"ORTM")}static finishSizePrefixedInferenceSessionBuffer(n,t){n.finish(t,"ORTM",!0)}static createInferenceSession(n,t,e,r){return a.startInferenceSession(n),a.addOrtVersion(n,t),a.addModel(n,e),a.addSessionState(n,r),a.endInferenceSession(n)}}l.InferenceSession=a})(u.fbs||(u.fbs={}))})(p.experimental||(p.experimental={}))}(c.onnxruntime||(c.onnxruntime={}))},1723:(N,c,w)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.OnnxjsSessionHandler=void 0;const b=w(2235),d=w(9240);c.OnnxjsSessionHandler=class{constructor(h){this.session=h,this.inputNames=this.session.inputNames,this.outputNames=this.session.outputNames}async dispose(){}async run(h,p,u){const l=new Map;for(const n in h)if(Object.hasOwnProperty.call(h,n)){const t=h[n];l.set(n,new d.Tensor(t.dims,t.type,void 0,void 0,t.data))}const a=await this.session.run(l),o={};return a.forEach((n,t)=>{o[t]=new b.Tensor(n.type,n.data,n.dims)}),o}startProfiling(){this.session.startProfiling()}endProfiling(){this.session.endProfiling()}}},6027:(N,c,w)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.Session=void 0;const b=w(7067),d=w(1296),h=w(1975),p=w(6496),u=w(1315),l=w(1745);c.Session=class{constructor(a={}){this._initialized=!1,this.backendHint=a.backendHint,this.profiler=u.Profiler.create(a.profiler),this.context={profiler:this.profiler,graphInputTypes:[],graphInputDims:[]}}get inputNames(){return this._model.graph.getInputNames()}get outputNames(){return this._model.graph.getOutputNames()}startProfiling(){this.profiler.start()}endProfiling(){this.profiler.stop()}async loadModel(a,o,n){await this.profiler.event("session","Session.loadModel",async()=>{const t=await(0,h.resolveBackend)(this.backendHint);if(this.sessionHandler=t.createSessionHandler(this.context),this._model=new l.Model,typeof a=="string"){const e=a.endsWith(".ort");if(typeof process<"u"&&process.versions&&process.versions.node){const r=await(0,d.promisify)(b.readFile)(a);this.initialize(r,e)}else{const r=await fetch(a),i=await r.arrayBuffer();this.initialize(new Uint8Array(i),e)}}else if(ArrayBuffer.isView(a))this.initialize(a);else{const e=new Uint8Array(a,o||0,n||a.byteLength);this.initialize(e)}})}initialize(a,o){if(this._initialized)throw new Error("already initialized");this.profiler.event("session","Session.initialize",()=>{const n=this.sessionHandler.transformGraph?this.sessionHandler:void 0;this._model.load(a,n,o),this.sessionHandler.onGraphInitialized&&this.sessionHandler.onGraphInitialized(this._model.graph),this.initializeOps(this._model.graph),this._executionPlan=new p.ExecutionPlan(this._model.graph,this._ops,this.profiler)}),this._initialized=!0}async run(a){if(!this._initialized)throw new Error("session not initialized yet");return this.profiler.event("session","Session.run",async()=>{const o=this.normalizeAndValidateInputs(a),n=await this._executionPlan.execute(this.sessionHandler,o);return this.createOutput(n)})}normalizeAndValidateInputs(a){const o=this._model.graph.getInputNames();if(Array.isArray(a)){if(a.length!==o.length)throw new Error(`incorrect input array length: expected ${o.length} but got ${a.length}`)}else{if(a.size!==o.length)throw new Error(`incorrect input map size: expected ${o.length} but got ${a.size}`);const n=new Array(a.size);let t=0;for(let e=0;e<o.length;++e){const r=a.get(o[e]);if(!r)throw new Error(`missing input tensor for: '${name}'`);n[t++]=r}a=n}if(this.context.graphInputTypes&&this.context.graphInputTypes.length!==0&&this.context.graphInputDims&&this.context.graphInputDims.length!==0)this.validateInputTensorDims(this.context.graphInputDims,a,!1);else{const n=this._model.graph.getInputIndices(),t=this._model.graph.getValues(),e=new Array(n.length);for(let r=0;r<n.length;++r){const i=t[n[r]];e[r]=i.type.shape.dims,this.context.graphInputTypes.push(i.type.tensorType),this.context.graphInputDims.push(a[r].dims)}this.validateInputTensorDims(e,a,!0)}return this.validateInputTensorTypes(this.context.graphInputTypes,a),a}validateInputTensorTypes(a,o){for(let n=0;n<o.length;n++){const t=a[n],e=o[n].type;if(t!==e)throw new Error(`input tensor[${n}] check failed: expected type '${t}' but got ${e}`)}}validateInputTensorDims(a,o,n){for(let t=0;t<o.length;t++){const e=a[t],r=o[t].dims;if(!this.compareTensorDims(e,r,n))throw new Error(`input tensor[${t}] check failed: expected shape '[${e.join(",")}]' but got [${r.join(",")}]`)}}compareTensorDims(a,o,n){if(a.length!==o.length)return!1;for(let t=0;t<a.length;++t)if(a[t]!==o[t]&&(!n||a[t]!==0))return!1;return!0}createOutput(a){const o=this._model.graph.getOutputNames();if(a.length!==o.length)throw new Error("expected number of outputs do not match number of generated outputs");const n=new Map;for(let t=0;t<o.length;++t)n.set(o[t],a[t]);return n}initializeOps(a){const o=a.getNodes();this._ops=new Array(o.length);for(let n=0;n<o.length;n++)this._ops[n]=this.sessionHandler.resolve(o[n],this._model.opsets,a)}}},9240:function(N,c,w){var b=this&&this.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(c,"__esModule",{value:!0}),c.Tensor=void 0;const d=w(3442),h=b(w(1583)),p=w(5127),u=w(2446),l=w(7273);var a=p.onnxruntime.experimental.fbs;class o{get data(){if(this.cache===void 0){const s=this.dataProvider(this.dataId);if(s.length!==this.size)throw new Error("Length of data provided by the Data Provider is inconsistent with the dims of this Tensor.");this.cache=s}return this.cache}get stringData(){if(this.type!=="string")throw new TypeError("data type is not string");return this.data}get integerData(){switch(this.type){case"uint8":case"int8":case"uint16":case"int16":case"int32":case"uint32":case"bool":return this.data;default:throw new TypeError("data type is not integer (uint8, int8, uint16, int16, int32, uint32, bool)")}}get floatData(){switch(this.type){case"float32":case"float64":return this.data;default:throw new TypeError("data type is not float (float32, float64)")}}get numberData(){if(this.type!=="string")return this.data;throw new TypeError("type cannot be non-number (string)")}get(s){return this.data[l.ShapeUtil.indicesToOffset(s,this.strides)]}set(s,f){this.data[l.ShapeUtil.indicesToOffset(s,this.strides)]=f}async getData(){return this.cache===void 0&&(this.cache=await this.asyncDataProvider(this.dataId)),this.cache}get strides(){return this._strides||(this._strides=l.ShapeUtil.computeStrides(this.dims)),this._strides}constructor(s,f,g,m,y,v=d.Guid.create()){this.dims=s,this.type=f,this.dataProvider=g,this.asyncDataProvider=m,this.cache=y,this.dataId=v,this.size=l.ShapeUtil.validateDimsAndCalcSize(s);const T=this.size,x=g===void 0&&m===void 0&&y===void 0;if(y!==void 0&&y.length!==T)throw new RangeError("Input dims doesn't match data length.");if(f==="string"){if(!(y===void 0||Array.isArray(y)&&y.every(A=>typeof A=="string")))throw new TypeError("cache should be a string array");x&&(this.cache=new Array(T))}else{if(y!==void 0){const A=t(f);if(!(y instanceof A))throw new TypeError(`cache should be type ${A.name}`)}if(x){const A=new ArrayBuffer(T*function(D){switch(D){case"bool":case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;case"float64":return 8;default:throw new Error(`cannot calculate sizeof() on type ${D}`)}}(f));this.cache=function(D,$){return new(t($))(D)}(A,f)}}}static fromProto(s){if(!s)throw new Error("cannot construct Value from an empty tensor");const f=l.ProtoUtil.tensorDataTypeFromProto(s.dataType),g=l.ProtoUtil.tensorDimsFromProto(s.dims),m=new o(g,f);if(f==="string")s.stringData.forEach((y,v)=>{m.data[v]=(0,l.decodeUtf8String)(y)});else if(s.rawData&&typeof s.rawData.byteLength=="number"&&s.rawData.byteLength>0){const y=m.data,v=new DataView(s.rawData.buffer,s.rawData.byteOffset,s.rawData.byteLength),T=n(s.dataType),x=s.rawData.byteLength/T;if(s.rawData.byteLength%T!=0)throw new Error("invalid buffer length");if(y.length!==x)throw new Error("buffer length mismatch");for(let A=0;A<x;A++){const D=r(v,s.dataType,A*T);y[A]=D}}else{let y;switch(s.dataType){case u.onnx.TensorProto.DataType.FLOAT:y=s.floatData;break;case u.onnx.TensorProto.DataType.INT32:case u.onnx.TensorProto.DataType.INT16:case u.onnx.TensorProto.DataType.UINT16:case u.onnx.TensorProto.DataType.INT8:case u.onnx.TensorProto.DataType.UINT8:case u.onnx.TensorProto.DataType.BOOL:y=s.int32Data;break;case u.onnx.TensorProto.DataType.INT64:y=s.int64Data;break;case u.onnx.TensorProto.DataType.DOUBLE:y=s.doubleData;break;case u.onnx.TensorProto.DataType.UINT32:case u.onnx.TensorProto.DataType.UINT64:y=s.uint64Data;break;default:throw new Error("unspecific error")}if(y==null)throw new Error("failed to populate data from a tensorproto value");const v=m.data;if(v.length!==y.length)throw new Error("array length mismatch");for(let T=0;T<y.length;T++){const x=y[T];h.default.isLong(x)?v[T]=e(x,s.dataType):v[T]=x}}return m}static fromData(s,f,g){return new o(f,g,void 0,void 0,s)}static fromOrtTensor(s){if(!s)throw new Error("cannot construct Value from an empty tensor");const f=l.ProtoUtil.tensorDimsFromORTFormat(s),g=l.ProtoUtil.tensorDataTypeFromProto(s.dataType()),m=new o(f,g);if(g==="string")for(let y=0;y<s.stringDataLength();y++)m.data[y]=s.stringData(y);else if(s.rawDataArray()&&typeof s.rawDataLength()=="number"&&s.rawDataLength()>0){const y=m.data,v=new DataView(s.rawDataArray().buffer,s.rawDataArray().byteOffset,s.rawDataLength()),T=n(s.dataType()),x=s.rawDataLength()/T;if(s.rawDataLength()%T!=0)throw new Error("invalid buffer length");if(y.length!==x)throw new Error("buffer length mismatch");for(let A=0;A<x;A++){const D=r(v,s.dataType(),A*T);y[A]=D}}return m}}function n(i){switch(i){case u.onnx.TensorProto.DataType.UINT8:case u.onnx.TensorProto.DataType.INT8:case u.onnx.TensorProto.DataType.BOOL:return 1;case u.onnx.TensorProto.DataType.UINT16:case u.onnx.TensorProto.DataType.INT16:return 2;case u.onnx.TensorProto.DataType.FLOAT:case u.onnx.TensorProto.DataType.INT32:case u.onnx.TensorProto.DataType.UINT32:return 4;case u.onnx.TensorProto.DataType.INT64:case u.onnx.TensorProto.DataType.DOUBLE:case u.onnx.TensorProto.DataType.UINT64:return 8;default:throw new Error(`cannot calculate sizeof() on type ${u.onnx.TensorProto.DataType[i]}`)}}function t(i){switch(i){case"bool":case"uint8":return Uint8Array;case"int8":return Int8Array;case"int16":return Int16Array;case"uint16":return Uint16Array;case"int32":return Int32Array;case"uint32":return Uint32Array;case"int64":return BigInt64Array;case"float32":return Float32Array;case"float64":return Float64Array;default:throw new Error("unspecified error")}}function e(i,s){if(s===u.onnx.TensorProto.DataType.INT64||s===a.TensorDataType.INT64){if(i.greaterThanOrEqual(2147483648)||i.lessThan(-2147483648))throw new TypeError("int64 is not supported")}else{if(s!==u.onnx.TensorProto.DataType.UINT32&&s!==a.TensorDataType.UINT32&&s!==u.onnx.TensorProto.DataType.UINT64&&s!==a.TensorDataType.UINT64)throw new TypeError(`not a LONG type: ${u.onnx.TensorProto.DataType[s]}`);if(i.greaterThanOrEqual(4294967296)||i.lessThan(0))throw new TypeError("uint64 is not supported")}return i.toNumber()}function r(i,s,f){switch(s){case u.onnx.TensorProto.DataType.BOOL:case u.onnx.TensorProto.DataType.UINT8:return i.getUint8(f);case u.onnx.TensorProto.DataType.INT8:return i.getInt8(f);case u.onnx.TensorProto.DataType.UINT16:return i.getUint16(f,!0);case u.onnx.TensorProto.DataType.INT16:return i.getInt16(f,!0);case u.onnx.TensorProto.DataType.FLOAT:return i.getFloat32(f,!0);case u.onnx.TensorProto.DataType.INT32:return i.getInt32(f,!0);case u.onnx.TensorProto.DataType.UINT32:return i.getUint32(f,!0);case u.onnx.TensorProto.DataType.INT64:return e(h.default.fromBits(i.getUint32(f,!0),i.getUint32(f+4,!0),!1),s);case u.onnx.TensorProto.DataType.DOUBLE:return i.getFloat64(f,!0);case u.onnx.TensorProto.DataType.UINT64:return e(h.default.fromBits(i.getUint32(f,!0),i.getUint32(f+4,!0),!0),s);default:throw new Error(`cannot read from DataView for type ${u.onnx.TensorProto.DataType[s]}`)}}c.Tensor=o},7273:function(N,c,w){var b=this&&this.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(c,"__esModule",{value:!0}),c.decodeUtf8String=c.MAX_CLIP=c.MIN_CLIP=c.PoolConvUtil=c.ReduceUtil=c.SplitUtil=c.MathUtil=c.ShapeUtil=c.LongUtil=c.ProtoUtil=c.GemmUtil=c.arrayCopyHelper=c.BroadcastUtil=c.MatMulUtil=c.ArrayUtil=c.assert=c.checkInputsShape=void 0;const d=w(5686),h=b(w(1583)),p=w(2446),u=w(9240);c.checkInputsShape=function(s,...f){if(!s||s.length!==f.length)return!1;for(let g=0;g<s.length;g++)if(!s[g].dims||s[g].dims.length!==f[g])return!1;return!0},c.assert=function(s,f){if(!s)throw new Error(typeof f=="string"?f:f())},c.ArrayUtil=class{static arraysEqual(s,f){if(s.length!==f.length)return!1;for(let g=0;g<s.length;g++)if(s[g]!==f[g])return!1;return!0}};class l{static preprocessInputShapes(f,g){return[f.length===1?[1,f[0]]:f,g.length===1?[g[0],1]:g]}static postprocessOutputShape(f,g,m){g===1&&f.splice(f.length-2,1),m===1&&f.pop()}static calcMatMulShape(f,g){return f[1]!==g[0]?void 0:[f[0],g[1]]}}c.MatMulUtil=l;class a{static calcShape(f,g,m=!1){const y=f.length,v=g.length;if(y===0)return g;if(v===0)return f;const T=Math.max(f.length,g.length),x=new Array(T);if(m){if(y<2||v<2)return;const A=l.calcMatMulShape([f[y-2],f[y-1]],[g[v-2],g[v-1]]);if(A===void 0)return;[x[T-2],x[T-1]]=A}for(let A=m?3:1;A<=T;A++){const D=y-A<0?1:f[y-A],$=v-A<0?1:g[v-A];if(D!==$&&D>1&&$>1)return;x[T-A]=Math.max(D,$)}return x}static index(f,g){const m=new Array(g.length);return a.fillIndex(f,g,m),m}static fillIndex(f,g,m){const y=f.length-g.length;for(let v=0;v<g.length;v++)m[v]=f[y+v]%g[v]}static calc(f,g,m,y,v){const T=a.calcShape(f.dims,g.dims);if(T){if(y&&!t.areEqual(T,f.dims))return;const x=t.size(T),A=y?f:new u.Tensor(T,v||f.type);if(T.length===0)A.set([],m(f.get([]),g.get([])));else{const D=new Array(T.length),$=new Array(f.dims.length),C=new Array(g.dims.length);let M,S=0,U=0,O=!1,E=!1;f.dims.length===0&&(S=f.get([]),O=!0),g.dims.length===0&&(U=g.get([]),E=!0);for(let F=0;F<x;F++){M=F;for(let W=T.length-1;W>=0;W--)D[W]=M%T[W],M=Math.floor(M/T[W]);O||(a.fillIndex(D,f.dims,$),S=f.get($)),E||(a.fillIndex(D,g.dims,C),U=g.get(C)),A.set(D,m(S,U))}}return A}}static isValidBroadcast(f,g){const m=f.length,y=g.length;if(m>y)return!1;for(let v=1;v<=m;v++)if(f[m-v]!==1&&f[m-v]!==g[y-v])return!1;return!0}static getBroadcastDims(f,g){const m=f.length,y=[];for(let v=0;v<m;v++){const T=m-1-v,x=f[T]||1;(g[g.length-1-v]||1)>1&&x===1&&y.unshift(T)}return y}}c.BroadcastUtil=a,c.arrayCopyHelper=function(s,f,g,m,y){if(m<0||m>=f.length)throw new Error("sourceIndex out of bounds");if(g<0||g>=s.length)throw new Error("targetIndex out of bounds");if(m+y>f.length)throw new Error("source indices to be copied are outside bounds");if(g+y>s.length)throw new Error("target array is too small to hold result");for(let v=0;v<y;v++)s[g+v]=f[m+v]},c.GemmUtil=class{static getShapeOfGemmResult(s,f,g,m,y){if(s.length!==2||g.length!==2)throw new Error("shape need to be of size 2");let v,T,x;f?(v=s[1],T=s[0]):(v=s[0],T=s[1]);let A=-1;if(m?(x=g[0],A=1):(x=g[1],A=0),g[A]!==T)throw new Error("dimension mismatch");if(v<=0||x<=0||T<=0)throw new Error("invalid shape specified");if(y&&!a.isValidBroadcast(y,[v,x]))throw new Error("gemm: invalid bias shape for broadcast");return[v,x,T]}};class o{static tensorDataTypeFromProto(f){switch(f){case p.onnx.TensorProto.DataType.INT8:return"int8";case p.onnx.TensorProto.DataType.UINT8:return"uint8";case p.onnx.TensorProto.DataType.BOOL:return"bool";case p.onnx.TensorProto.DataType.INT16:return"int16";case p.onnx.TensorProto.DataType.UINT16:return"uint16";case p.onnx.TensorProto.DataType.INT32:return"int32";case p.onnx.TensorProto.DataType.UINT32:return"uint32";case p.onnx.TensorProto.DataType.FLOAT:return"float32";case p.onnx.TensorProto.DataType.DOUBLE:return"float64";case p.onnx.TensorProto.DataType.STRING:return"string";case p.onnx.TensorProto.DataType.INT64:return"int32";case p.onnx.TensorProto.DataType.UINT64:return"uint32";default:throw new Error(`unsupported data type: ${p.onnx.TensorProto.DataType[f]}`)}}static tensorDataTypeStringToEnum(f){switch(f){case"int8":return p.onnx.TensorProto.DataType.INT8;case"uint8":return p.onnx.TensorProto.DataType.UINT8;case"bool":return p.onnx.TensorProto.DataType.BOOL;case"int16":return p.onnx.TensorProto.DataType.INT16;case"uint16":return p.onnx.TensorProto.DataType.UINT16;case"int32":return p.onnx.TensorProto.DataType.INT32;case"uint32":return p.onnx.TensorProto.DataType.UINT32;case"float32":return p.onnx.TensorProto.DataType.FLOAT;case"float64":return p.onnx.TensorProto.DataType.DOUBLE;case"string":return p.onnx.TensorProto.DataType.STRING;case"int64":return p.onnx.TensorProto.DataType.INT64;case"uint64":return p.onnx.TensorProto.DataType.UINT64;default:throw new Error(`unsupported data type: ${f}`)}}static tensorDimsFromProto(f){return f.map(g=>h.default.isLong(g)?g.toNumber():g)}static tensorValueTypeFromProto(f){return{tensorType:o.tensorDataTypeFromProto(f.elemType),shape:{dims:o.tensorDimsFromProto(f.shape.dim.map(g=>g.dimValue))}}}static tensorDimsFromORTFormat(f){const g=[];for(let m=0;m<f.dimsLength();m++)g.push(n.longToNumber(f.dims(m)));return g}static tensorAttributesFromORTFormat(f){const g=[];for(let m=0;m<f.attributesLength();m++)g.push(f.attributes(m));return g}}c.ProtoUtil=o;class n{static longToNumber(f,g){return h.default.isLong(f)?f.toNumber():f instanceof d.flatbuffers.Long?h.default.fromValue({low:f.low,high:f.high,unsigned:g!=null&&g}).toNumber():f}static isLong(f){return h.default.isLong(f)||f instanceof d.flatbuffers.Long}}c.LongUtil=n;class t{static size(f){return t.getSizeFromDimensionRange(f,0,f.length)}static sizeFromDimension(f,g){if(g<0||g>f.length)throw new Error(`invalid dimension of ${g} for sizeFromDimension as Tensor has ${f.length} dimensions.`);return t.getSizeFromDimensionRange(f,g,f.length)}static sizeToDimension(f,g){if(g<0||g>f.length)throw new Error(`invalid dimension of ${g} for sizeToDimension as Tensor has ${f.length} dimensions.`);return t.getSizeFromDimensionRange(f,0,g)}static getSizeFromDimensionRange(f,g,m){let y=1;for(let v=g;v<m;v++){if(f[v]<=0)throw new Error("cannot get valid size from specified dimension range. Most likely the range contains 0 or negative values in them.");y*=f[v]}return y}static computeStrides(f){const g=f.length;if(g===0)return[];if(g===1)return[1];const m=new Array(g);m[g-1]=1,m[g-2]=f[g-1];for(let y=g-3;y>=0;--y)m[y]=m[y+1]*f[y+1];return m}static transpose(f){return f.slice().reverse()}static indicesToOffset(f,g,m){m===void 0&&(m=f.length);let y=0;for(let v=0;v<m;++v)y+=g[v]*f[v];return y}static offsetToIndices(f,g){const m=g.length;if(m===0)return[];if(m===1)return[f*g[0]];const y=new Array(g.length);for(let v=0;v<y.length-1;++v)y[v]=Math.floor(f/g[v]),f-=y[v]*g[v];return y[y.length-1]=f,y}static normalizeAxis(f,g){if(f<-g&&f>=g)throw new Error("unsupported axis for this operation.");return f<0?f+g:f}static normalizeAxes(f,g){return f.map(m=>this.normalizeAxis(m,g))}static incrementIndex(f,g,m){if(g.length===0||f.length===0)throw new Error("Index incrementing unsupported for scalar Tensor");if(m===void 0)m=g.length;else if(m<=0||m>g.length)throw new Error("Incorrect axis to increment on");for(let y=m-1;y>=0&&(f[y]++,!(f[y]<g[y]));--y)f[y]=0}static calculateReshapedDims(f,g){if(g.length===0){if(f.length===0||t.size(f)===1)return[];throw new Error("cannot reshape to a scalar Tensor")}const m=g.length,y=new Array(m);let v=-1,T=1;for(let A=0;A<m;A++){if(g[A]<-1)throw new Error("a dimension in shape hints cannot be less than -1");if(g[A]===-1){if(v!==-1)throw new Error("at most one dimension in shape hints can be -1");v=A}else{if(g[A]===0){if(A>=f.length)throw new Error("the dimension with value zero exceeds the dimension size of the input tensor");y[A]=f[A]}else y[A]=g[A];T*=y[A]}}const x=t.size(f);if(v!==-1){if(x%T!=0)throw new Error(`the input tensor cannot be reshaped to the requested shape. Input shape: [${f}] Output shape: [${g}]`);y[v]=x/T}else if(T!==x)throw new Error("reshapedDims and originalDims don't have matching sizes");return y}static sortBasedOnPerm(f,g){return g?g.map(m=>f[m]):f.slice().reverse()}static padShape(f,g){const m=f.length;return f.map((y,v)=>y+g[v]+g[v+m])}static areEqual(f,g){return f.length===g.length&&f.every((m,y)=>m===g[y])}static validateDimsAndCalcSize(f){if(f.length>6)throw new TypeError("Only rank 0 to 6 is supported for tensor shape.");let g=1;for(const m of f){if(!Number.isInteger(m))throw new TypeError(`Invalid shape: ${m} is not an integer`);if(m<0||m>2147483647)throw new TypeError(`Invalid shape: length ${m} is not allowed`);g*=m}return g}static flattenShape(f,g){g<0&&(g+=f.length);const m=f.reduce((v,T)=>v*T,1),y=f.slice(g).reduce((v,T)=>v*T,1);return[m/y,y]}static squeezeShape(f,g){const m=new Array;g=t.normalizeAxes(g,f.length);for(let y=0;y<f.length;y++){const v=g.indexOf(y)>=0;if(v&&f[y]!==1)throw new Error("squeeze an axis of size different than 1");(g.length===0&&f[y]>1||g.length>0&&!v)&&m.push(f[y])}return m}static unsqueezeShape(f,g){const m=new Array(f.length+g.length);m.fill(0);for(let v=0;v<g.length;v++){const T=t.normalizeAxis(g[v],m.length);if(T>=m.length)throw new Error("'axes' has an out of range axis");if(m[T]!==0)throw new Error("'axes' has a duplicate axis");m[T]=1}let y=0;for(let v=0;v<m.length;v++)m[v]===0&&(m[v]=f[y++]);if(y!==f.length)throw new Error("the unsqueezed dimension could not be established");return m}}c.ShapeUtil=t,c.MathUtil=class{static sqr(s,f,g,m,y){if(m<0||m>=f.length)throw new Error("sourceIndex out of bounds");if(g<0||g>=s.length)throw new Error("targetIndex out of bounds");if(m+y>f.length)throw new Error("source indices to be copied are outside bounds");if(g+y>s.length)throw new Error("target array is too small to hold result");for(let v=0;v<y;v++)s[g+v]+=Math.pow(f[m+v],2)}static axpy(s,f,g,m,y,v){if(m<0||m>=f.length)throw new Error("sourceIndex out of bounds");if(g<0||g>=s.length)throw new Error("targetIndex out of bounds");if(m+y>f.length)throw new Error("source indices to be copied are outside bounds");if(g+y>s.length)throw new Error("target array is too small to hold result");for(let T=0;T<y;T++)s[g+T]+=v*f[m+T]}static powx(s,f,g,m,y,v){if(m<0||m>=f.length)throw new Error("sourceIndex out of bounds");if(g<0||g>=s.length)throw new Error("targetIndex out of bounds");if(m+y>f.length)throw new Error("source indices to be copied are outside bounds");if(g+y>s.length)throw new Error("target array is too small to hold result");for(let T=0;T<y;T++)s[g+T]=Math.pow(f[m+T],v)}static mul(s,f,g,m,y){if(m<0||m>=f.length)throw new Error("sourceIndex out of bounds");if(g<0||g>=s.length)throw new Error("targetIndex out of bounds");if(m+y>f.length)throw new Error("source indices to be copied are outside bounds");if(g+y>s.length)throw new Error("target array is too small to hold result");for(let v=0;v<y;v++)s[g+v]=f[m+v]*s[g+v]}};class e{static splitShape(f,g,m,y){if(m.length===0){if(!y)throw new Error("need to know number of outputs when the 'split' attribute is not specified");e.determineSplit(f[g],y,m)}const v=[],T=[0];for(let x=0;x<m.length;++x){x!==0&&T.push(T[x-1]+m[x-1]);const A=f.slice();A[g]=m[x],v.push(A)}return[v,T]}static determineSplit(f,g,m){if(f%g!=0)throw new Error("cannot split tensor to equal sized parts");for(let y=0;y<g;++y)m.push(f/g)}}c.SplitUtil=e;class r{static calcReduce(f,g,m,y,v){const T=f.dims.slice(0);g.length===0&&T.forEach((S,U)=>g.push(U));const x=r.calcReduceShape(T,g,!0),A=t.size(x),D=new u.Tensor(x,f.type),$=t.computeStrides(x),C=t.computeStrides(T),M=new Array(T.length);for(let S=0;S<A;S++){const U=t.offsetToIndices(S,$);a.fillIndex(U,T,M),D.set(U,r.calcReduceByAxis(f.numberData,g,T,0,t.indicesToOffset(M,C),y,v))}return m?D:new u.Tensor(r.calcReduceShape(T,g,m),D.type,void 0,void 0,D.data,D.dataId)}static calcReduceByAxis(f,g,m,y,v,T,x){let A=0;if(y>=g.length)return T(f[v]);const D=g[y],$=D>=m.length?1:t.size(m.slice(D+1));for(let C=0;C<m[D];C++)A=C===0?r.calcReduceByAxis(f,g,m,y+1,v,T,x):x(A,r.calcReduceByAxis(f,g,m,y+1,v,T,x)),v+=$;return A}static calcReduceShape(f,g,m){const y=f.slice();for(let v=0;v<g.length;v++)y[g[v]]=m?1:0;return y.filter(v=>v!==0)}}c.ReduceUtil=r;class i{static adjustPoolAttributes(f,g,m,y,v,T){if(!f&&m.length!==g.length-2)throw new Error("length of specified kernel shapes should be 2 less than length of input dimensions");if(f)for(let x=0;x<g.length-2;x++)x>=m.length?m.push(g[x+2]):m[x]=g[x+2];for(let x=0;x<m.length;x++)if(x<y.length){if(y[x]<0)throw new Error("strides should be greater than or equal to 1")}else y.push(1);for(let x=0;x<m.length;x++)if(x<v.length){if(v[x]<0)throw new Error("dilations should be greater than or equal to 1")}else v.push(1);for(let x=0;x<2*m.length;x++)if(x<T.length){if(T[x]<0)throw new Error("pad should be greater than or equal to 1")}else T.push(0);for(let x=0;x<m.length;x++){if(m[x]<=0)throw new Error("kernel shapes need to be greater than 0");if(T[x]>=m[x]||T[x+m.length]>=m[x])throw new Error("pads should be smaller than kernel")}}static adjustPadsBasedOnAutoPad(f,g,m,y,v,T){if(T){if(v.length!==2*(f.length-2))throw new Error("length of pads should be twice the length of data dimensions");if(g.length!==f.length-2)throw new Error("length of strides should be the length of data dimensions");if(y.length!==f.length-2)throw new Error("length of kernel shapes should be the length of data dimensions");for(let x=0;x<f.length-2;x++)i.adjustPadAndReturnShape(f[x+2],g[x],m[x],y[x],v,x,x+f.length-2,T)}}static computePoolOutputShape(f,g,m,y,v,T,x){if(g.length<=0)throw new Error("input shape must be of size greater than 0");const A=[g[0],g[1]];return i.computeShapeHelper(f,g,A,m,y,v,T,x),A}static computeConvOutputShape(f,g,m,y,v,T,x){if(f.length<=0||g.length<=0)throw new Error("invalid input tensor dims or invalid filter tensor dims");const A=[f[0],g[0]];return i.computeShapeHelper(!1,f,A,m,y,v,T,x),A}static computeShapeHelper(f,g,m,y,v,T,x,A){if(f)for(let D=0;D<g.length-2;D++)m.push(1);else for(let D=0;D<g.length-2;D++)m.push(i.adjustPadAndReturnShape(g[D+2],y[D],v[D],T[D],x,D,D+g.length-2,A))}static adjustPadAndReturnShape(f,g,m,y,v,T,x,A){const D=m*(y-1)+1;if(!A||A==="NOTSET")return Math.floor((f+v[T]+v[x]-D)/g+1);switch(A){case"VALID":return v[T]=0,v[x]=0,Math.floor((f-D)/g+1);case"SAME_LOWER":case"SAME_UPPER":if(m!==1)throw new Error("Dilation not supported for SAME_UPPER or SAME_LOWER");{const $=((f+g-1)/g-1)*g+y-f;return v[T]=Math.floor(A==="SAME_LOWER"?($+1)/2:$/2),v[x]=$-v[T],Math.floor((f+$-y)/g+1)}default:throw new Error("Unsupported AutoPad type")}}}c.PoolConvUtil=i,c.MIN_CLIP=-34028234663852886e22,c.MAX_CLIP=34028234663852886e22,c.decodeUtf8String=function(s){return new TextDecoder().decode(s)}},8408:(N,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.version=void 0,c.version="1.16.3"},9544:function(N,c,w){var b,d=this&&this.__createBinding||(Object.create?function($,C,M,S){S===void 0&&(S=M);var U=Object.getOwnPropertyDescriptor(C,M);U&&!("get"in U?!C.__esModule:U.writable||U.configurable)||(U={enumerable:!0,get:function(){return C[M]}}),Object.defineProperty($,S,U)}:function($,C,M,S){S===void 0&&(S=M),$[S]=C[M]}),h=this&&this.__setModuleDefault||(Object.create?function($,C){Object.defineProperty($,"default",{enumerable:!0,value:C})}:function($,C){$.default=C}),p=this&&this.__importStar||function($){if($&&$.__esModule)return $;var C={};if($!=null)for(var M in $)M!=="default"&&Object.prototype.hasOwnProperty.call($,M)&&d(C,$,M);return h(C,$),C};Object.defineProperty(c,"__esModule",{value:!0}),c.endProfiling=c.run=c.releaseSession=c.createSession=c.createSessionFinalize=c.createSessionAllocate=c.initializeRuntime=c.initializeWebAssemblyInstance=void 0;const u=w(2235),l=p(w(1259)),a=w(263),o=()=>!!u.env.wasm.proxy&&typeof document<"u";let n,t,e,r=!1,i=!1,s=!1;const f=[],g=[],m=[],y=[],v=[],T=[],x=()=>{if(r||!i||s||!n)throw new Error("worker not ready")},A=$=>{switch($.data.type){case"init-wasm":r=!1,$.data.err?(s=!0,t[1]($.data.err)):(i=!0,t[0]());break;case"init-ort":$.data.err?e[1]($.data.err):e[0]();break;case"create_allocate":$.data.err?f.shift()[1]($.data.err):f.shift()[0]($.data.out);break;case"create_finalize":$.data.err?g.shift()[1]($.data.err):g.shift()[0]($.data.out);break;case"create":$.data.err?m.shift()[1]($.data.err):m.shift()[0]($.data.out);break;case"release":$.data.err?y.shift()[1]($.data.err):y.shift()[0]();break;case"run":$.data.err?v.shift()[1]($.data.err):v.shift()[0]($.data.out);break;case"end-profiling":$.data.err?T.shift()[1]($.data.err):T.shift()[0]()}},D=typeof document<"u"?(b=document==null?void 0:document.currentScript)===null||b===void 0?void 0:b.src:void 0;c.initializeWebAssemblyInstance=async()=>{if(o()){if(i)return;if(r)throw new Error("multiple calls to 'initWasm()' detected.");if(s)throw new Error("previous call to 'initWasm()' failed.");return r=!0,u.env.wasm.wasmPaths===void 0&&D&&D.indexOf("blob:")!==0&&(u.env.wasm.wasmPaths=D.substr(0,+D.lastIndexOf("/")+1)),new Promise(($,C)=>{n==null||n.terminate(),n=w(8050).Z(),n.onmessage=A,t=[$,C];const M={type:"init-wasm",in:u.env.wasm};n.postMessage(M)})}return(0,a.initializeWebAssembly)(u.env.wasm)},c.initializeRuntime=async $=>{if(o())return x(),new Promise((C,M)=>{e=[C,M];const S={type:"init-ort",in:$};n.postMessage(S)});await l.initRuntime($)},c.createSessionAllocate=async $=>o()?(x(),new Promise((C,M)=>{f.push([C,M]);const S={type:"create_allocate",in:{model:$}};n.postMessage(S,[$.buffer])})):l.createSessionAllocate($),c.createSessionFinalize=async($,C)=>o()?(x(),new Promise((M,S)=>{g.push([M,S]);const U={type:"create_finalize",in:{modeldata:$,options:C}};n.postMessage(U)})):l.createSessionFinalize($,C),c.createSession=async($,C)=>o()?(x(),new Promise((M,S)=>{m.push([M,S]);const U={type:"create",in:{model:$,options:C}};n.postMessage(U,[$.buffer])})):l.createSession($,C),c.releaseSession=async $=>{if(o())return x(),new Promise((C,M)=>{y.push([C,M]);const S={type:"release",in:$};n.postMessage(S)});l.releaseSession($)},c.run=async($,C,M,S,U)=>o()?(x(),new Promise((O,E)=>{v.push([O,E]);const F={type:"run",in:{sessionId:$,inputIndices:C,inputs:M,outputIndices:S,options:U}};n.postMessage(F,l.extractTransferableBuffers(M))})):l.run($,C,M,S,U),c.endProfiling=async $=>{if(o())return x(),new Promise((C,M)=>{T.push([C,M]);const S={type:"end-profiling",in:$};n.postMessage(S)});l.endProfiling($)}},7918:(N,c,w)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.setRunOptions=void 0;const b=w(263),d=w(1497);c.setRunOptions=h=>{const p=(0,b.getInstance)();let u=0;const l=[],a=h||{};try{if((h==null?void 0:h.logSeverityLevel)===void 0)a.logSeverityLevel=2;else if(typeof h.logSeverityLevel!="number"||!Number.isInteger(h.logSeverityLevel)||h.logSeverityLevel<0||h.logSeverityLevel>4)throw new Error(`log serverity level is not valid: ${h.logSeverityLevel}`);if((h==null?void 0:h.logVerbosityLevel)===void 0)a.logVerbosityLevel=0;else if(typeof h.logVerbosityLevel!="number"||!Number.isInteger(h.logVerbosityLevel))throw new Error(`log verbosity level is not valid: ${h.logVerbosityLevel}`);(h==null?void 0:h.terminate)===void 0&&(a.terminate=!1);let o=0;return(h==null?void 0:h.tag)!==void 0&&(o=(0,d.allocWasmString)(h.tag,l)),u=p._OrtCreateRunOptions(a.logSeverityLevel,a.logVerbosityLevel,!!a.terminate,o),u===0&&(0,d.checkLastError)("Can't create run options."),(h==null?void 0:h.extra)!==void 0&&(0,d.iterateExtraOptions)(h.extra,"",new WeakSet,(n,t)=>{const e=(0,d.allocWasmString)(n,l),r=(0,d.allocWasmString)(t,l);p._OrtAddRunConfigEntry(u,e,r)!==0&&(0,d.checkLastError)(`Can't set a run config entry: ${n} - ${t}.`)}),[u,l]}catch(o){throw u!==0&&p._OrtReleaseRunOptions(u),l.forEach(n=>p._free(n)),o}}},6640:(N,c,w)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.OnnxruntimeWebAssemblySessionHandler=void 0;const b=w(2806),d=w(2235),h=w(2850),p=w(9544);let u;c.OnnxruntimeWebAssemblySessionHandler=class{async createSessionAllocate(l){const a=await fetch(l);if(a.status!==200)throw new Error(`failed to load model: ${l}`);const o=await a.arrayBuffer();return(0,p.createSessionAllocate)(new Uint8Array(o))}async loadModel(l,a){if(u||(await(0,p.initializeRuntime)(d.env),u=!0),typeof l=="string")if(typeof process<"u"&&process.versions&&process.versions.node){const o=await(0,h.promisify)(b.readFile)(l);[this.sessionId,this.inputNames,this.outputNames]=await(0,p.createSession)(o,a)}else{const o=await this.createSessionAllocate(l);[this.sessionId,this.inputNames,this.outputNames]=await(0,p.createSessionFinalize)(o,a)}else[this.sessionId,this.inputNames,this.outputNames]=await(0,p.createSession)(l,a)}async dispose(){return(0,p.releaseSession)(this.sessionId)}async run(l,a,o){const n=[],t=[];Object.entries(l).forEach(s=>{const f=s[0],g=s[1],m=this.inputNames.indexOf(f);if(m===-1)throw new Error(`invalid input '${f}'`);n.push(g),t.push(m)});const e=[];Object.entries(a).forEach(s=>{const f=s[0],g=this.outputNames.indexOf(f);if(g===-1)throw new Error(`invalid output '${f}'`);e.push(g)});const r=await(0,p.run)(this.sessionId,t,n.map(s=>[s.type,s.dims,s.data]),e,o),i={};for(let s=0;s<r.length;s++)i[this.outputNames[e[s]]]=new d.Tensor(r[s][0],r[s][2],r[s][1]);return i}startProfiling(){}endProfiling(){(0,p.endProfiling)(this.sessionId)}}},7622:(N,c,w)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.setSessionOptions=void 0;const b=w(263),d=w(1497);c.setSessionOptions=h=>{var p,u,l,a;const o=(0,b.getInstance)();let n=0;const t=[],e=h||{};(r=>{r.extra||(r.extra={}),r.extra.session||(r.extra.session={});const i=r.extra.session;i.use_ort_model_bytes_directly||(i.use_ort_model_bytes_directly="1"),r.executionProviders&&r.executionProviders.some(s=>(typeof s=="string"?s:s.name)==="webgpu")&&(r.enableMemPattern=!1)})(e);try{const r=(y=>{switch(y){case"disabled":return 0;case"basic":return 1;case"extended":return 2;case"all":return 99;default:throw new Error(`unsupported graph optimization level: ${y}`)}})((p=e.graphOptimizationLevel)!==null&&p!==void 0?p:"all"),i=(y=>{switch(y){case"sequential":return 0;case"parallel":return 1;default:throw new Error(`unsupported execution mode: ${y}`)}})((u=e.executionMode)!==null&&u!==void 0?u:"sequential"),s=typeof e.logId=="string"?(0,d.allocWasmString)(e.logId,t):0,f=(l=e.logSeverityLevel)!==null&&l!==void 0?l:2;if(!Number.isInteger(f)||f<0||f>4)throw new Error(`log serverity level is not valid: ${f}`);const g=(a=e.logVerbosityLevel)!==null&&a!==void 0?a:0;if(!Number.isInteger(g)||g<0||g>4)throw new Error(`log verbosity level is not valid: ${g}`);const m=typeof e.optimizedModelFilePath=="string"?(0,d.allocWasmString)(e.optimizedModelFilePath,t):0;return n=o._OrtCreateSessionOptions(r,!!e.enableCpuMemArena,!!e.enableMemPattern,i,!!e.enableProfiling,0,s,f,g,m),n===0&&(0,d.checkLastError)("Can't create session options."),e.executionProviders&&((y,v,T)=>{for(const x of v){let A=typeof x=="string"?x:x.name;switch(A){case"xnnpack":A="XNNPACK";break;case"webnn":if(A="WEBNN",typeof x!="string"){const $=x;if($!=null&&$.deviceType){const C=(0,d.allocWasmString)("deviceType",T),M=(0,d.allocWasmString)($.deviceType,T);(0,b.getInstance)()._OrtAddSessionConfigEntry(y,C,M)!==0&&(0,d.checkLastError)(`Can't set a session config entry: 'deviceType' - ${$.deviceType}.`)}if($!=null&&$.powerPreference){const C=(0,d.allocWasmString)("powerPreference",T),M=(0,d.allocWasmString)($.powerPreference,T);(0,b.getInstance)()._OrtAddSessionConfigEntry(y,C,M)!==0&&(0,d.checkLastError)(`Can't set a session config entry: 'powerPreference' - ${$.powerPreference}.`)}}break;case"webgpu":A="JS";break;case"wasm":case"cpu":continue;default:throw new Error(`not supported execution provider: ${A}`)}const D=(0,d.allocWasmString)(A,T);(0,b.getInstance)()._OrtAppendExecutionProvider(y,D)!==0&&(0,d.checkLastError)(`Can't append execution provider: ${A}.`)}})(n,e.executionProviders,t),e.extra!==void 0&&(0,d.iterateExtraOptions)(e.extra,"",new WeakSet,(y,v)=>{const T=(0,d.allocWasmString)(y,t),x=(0,d.allocWasmString)(v,t);o._OrtAddSessionConfigEntry(n,T,x)!==0&&(0,d.checkLastError)(`Can't set a session config entry: ${y} - ${v}.`)}),[n,t]}catch(r){throw n!==0&&o._OrtReleaseSessionOptions(n),t.forEach(i=>o._free(i)),r}}},7917:(N,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.logLevelStringToEnum=c.tensorTypeToTypedArrayConstructor=c.getTensorElementSize=c.tensorDataTypeEnumToString=c.tensorDataTypeStringToEnum=void 0,c.tensorDataTypeStringToEnum=w=>{switch(w){case"int8":return 3;case"uint8":return 2;case"bool":return 9;case"int16":return 5;case"uint16":return 4;case"int32":return 6;case"uint32":return 12;case"float16":return 10;case"float32":return 1;case"float64":return 11;case"string":return 8;case"int64":return 7;case"uint64":return 13;default:throw new Error(`unsupported data type: ${w}`)}},c.tensorDataTypeEnumToString=w=>{switch(w){case 3:return"int8";case 2:return"uint8";case 9:return"bool";case 5:return"int16";case 4:return"uint16";case 6:return"int32";case 12:return"uint32";case 10:return"float16";case 1:return"float32";case 11:return"float64";case 8:return"string";case 7:return"int64";case 13:return"uint64";default:throw new Error(`unsupported data type: ${w}`)}},c.getTensorElementSize=w=>[void 0,4,1,1,2,2,4,8,void 0,1,2,8,4,8,void 0,void 0,void 0][w],c.tensorTypeToTypedArrayConstructor=w=>{switch(w){case"float16":case"uint16":return Uint16Array;case"float32":return Float32Array;case"uint8":case"bool":return Uint8Array;case"int8":return Int8Array;case"int16":return Int16Array;case"int32":return Int32Array;case"float64":return Float64Array;case"uint32":return Uint32Array;case"int64":return BigInt64Array;case"uint64":return BigUint64Array;default:throw new Error(`unsupported type: ${w}`)}},c.logLevelStringToEnum=w=>{switch(w){case"verbose":return 0;case"info":return 1;case"warning":return 2;case"error":return 3;case"fatal":return 4;default:throw new Error(`unsupported logging level: ${w}`)}}},1259:(N,c,w)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.extractTransferableBuffers=c.endProfiling=c.run=c.releaseSession=c.createSession=c.createSessionFinalize=c.createSessionAllocate=c.initRuntime=void 0;const b=w(7918),d=w(7622),h=w(7917),p=w(263),u=w(1497);c.initRuntime=async a=>{var o,n;o=a.wasm.numThreads,n=(0,h.logLevelStringToEnum)(a.logLevel),(0,p.getInstance)()._OrtInit(o,n)!==0&&(0,u.checkLastError)("Can't initialize onnxruntime.")};const l=new Map;c.createSessionAllocate=a=>{const o=(0,p.getInstance)(),n=o._malloc(a.byteLength);if(n===0)throw new Error(`Can't create a session. failed to allocate a buffer of size ${a.byteLength}.`);return o.HEAPU8.set(a,n),[n,a.byteLength]},c.createSessionFinalize=(a,o)=>{const n=(0,p.getInstance)();let t=0,e=0,r=[];const i=[],s=[];try{[e,r]=(0,d.setSessionOptions)(o),t=n._OrtCreateSession(a[0],a[1],e),t===0&&(0,u.checkLastError)("Can't create a session.");const[f,g]=(v=>{const T=(0,p.getInstance)(),x=T.stackSave();try{const A=T.stackAlloc(8);return T._OrtGetInputOutputCount(v,A,A+4)!==0&&(0,u.checkLastError)("Can't get session input/output count."),[T.HEAP32[A/4],T.HEAP32[A/4+1]]}finally{T.stackRestore(x)}})(t),m=[],y=[];for(let v=0;v<f;v++){const T=n._OrtGetInputName(t,v);T===0&&(0,u.checkLastError)("Can't get an input name."),i.push(T),m.push(n.UTF8ToString(T))}for(let v=0;v<g;v++){const T=n._OrtGetOutputName(t,v);T===0&&(0,u.checkLastError)("Can't get an output name."),s.push(T),y.push(n.UTF8ToString(T))}return l.set(t,[t,i,s]),[t,m,y]}catch(f){throw i.forEach(g=>n._OrtFree(g)),s.forEach(g=>n._OrtFree(g)),t!==0&&n._OrtReleaseSession(t),f}finally{n._free(a[0]),e!==0&&n._OrtReleaseSessionOptions(e),r.forEach(f=>n._free(f))}},c.createSession=(a,o)=>{const n=(0,c.createSessionAllocate)(a);return(0,c.createSessionFinalize)(n,o)},c.releaseSession=a=>{const o=(0,p.getInstance)(),n=l.get(a);if(!n)throw new Error(`cannot release session. invalid session id: ${a}`);const[t,e,r]=n;e.forEach(i=>o._OrtFree(i)),r.forEach(i=>o._OrtFree(i)),o._OrtReleaseSession(t),l.delete(a)},c.run=async(a,o,n,t,e)=>{const r=(0,p.getInstance)(),i=l.get(a);if(!i)throw new Error(`cannot run inference. invalid session id: ${a}`);const[s,f,g]=i,m=o.length,y=t.length;let v=0,T=[];const x=[],A=[];try{[v,T]=(0,b.setRunOptions)(e);for(let U=0;U<m;U++){const O=n[U][0],E=n[U][1],F=n[U][2];let W,H;if(Array.isArray(F)){H=4*F.length,W=r._malloc(H),A.push(W);let J=W/4;for(let tt=0;tt<F.length;tt++){if(typeof F[tt]!="string")throw new TypeError(`tensor data at index ${tt} is not a string`);r.HEAPU32[J++]=(0,u.allocWasmString)(F[tt],A)}}else H=F.byteLength,W=r._malloc(H),A.push(W),r.HEAPU8.set(new Uint8Array(F.buffer,F.byteOffset,H),W);const K=r.stackSave(),X=r.stackAlloc(4*E.length);try{let J=X/4;E.forEach(nt=>r.HEAP32[J++]=nt);const tt=r._OrtCreateTensor((0,h.tensorDataTypeStringToEnum)(O),W,H,X,E.length);tt===0&&(0,u.checkLastError)(`Can't create tensor for input[${U}].`),x.push(tt)}finally{r.stackRestore(K)}}const D=r.stackSave(),$=r.stackAlloc(4*m),C=r.stackAlloc(4*m),M=r.stackAlloc(4*y),S=r.stackAlloc(4*y);try{let U=$/4,O=C/4,E=M/4,F=S/4;for(let X=0;X<m;X++)r.HEAPU32[U++]=x[X],r.HEAPU32[O++]=f[o[X]];for(let X=0;X<y;X++)r.HEAPU32[E++]=0,r.HEAPU32[F++]=g[t[X]];let W=r._OrtRun(s,C,$,m,S,y,M,v);const H=r.jsepRunPromise;H&&H.then!==void 0&&(W=await H);const K=[];W!==0&&(0,u.checkLastError)("failed to call OrtRun().");for(let X=0;X<y;X++){const J=r.HEAPU32[M/4+X],tt=r.stackSave(),nt=r.stackAlloc(16);let rt,it=0;try{W=r._OrtGetTensorData(J,nt,nt+4,nt+8,nt+12),W!==0&&(0,u.checkLastError)(`Can't access output tensor data on index ${X}.`);let ut=nt/4;const gt=r.HEAPU32[ut++];it=r.HEAPU32[ut++];const xt=r.HEAPU32[ut++],kt=r.HEAPU32[ut++],bt=[];for(let lt=0;lt<kt;lt++)bt.push(r.HEAPU32[xt/4+lt]);r._OrtFree(xt);const Dt=bt.length===0?1:bt.reduce((lt,mt)=>lt*mt);if(rt=(0,h.tensorDataTypeEnumToString)(gt),rt==="string"){const lt=[];let mt=it/4;for(let St=0;St<Dt;St++){const _t=r.HEAPU32[mt++],At=St===Dt-1?void 0:r.HEAPU32[mt]-_t;lt.push(r.UTF8ToString(_t,At))}K.push([rt,bt,lt])}else{const lt=new((0,h.tensorTypeToTypedArrayConstructor)(rt))(Dt);new Uint8Array(lt.buffer,lt.byteOffset,lt.byteLength).set(r.HEAPU8.subarray(it,it+lt.byteLength)),K.push([rt,bt,lt])}}finally{r.stackRestore(tt),rt==="string"&&it&&r._free(it),r._OrtReleaseTensor(J)}}return K}finally{r.stackRestore(D)}}finally{x.forEach(D=>r._OrtReleaseTensor(D)),A.forEach(D=>r._free(D)),v!==0&&r._OrtReleaseRunOptions(v),T.forEach(D=>r._free(D))}},c.endProfiling=a=>{const o=(0,p.getInstance)(),n=l.get(a);if(!n)throw new Error("invalid session id");const t=n[0],e=o._OrtEndProfiling(t);e===0&&(0,u.checkLastError)("Can't get an profile file name."),o._OrtFree(e)},c.extractTransferableBuffers=a=>{const o=[];for(const n of a){const t=n[2];!Array.isArray(t)&&t.buffer&&o.push(t.buffer)}return o}},263:function(N,c,w){var b=this&&this.__createBinding||(Object.create?function(e,r,i,s){s===void 0&&(s=i);var f=Object.getOwnPropertyDescriptor(r,i);f&&!("get"in f?!r.__esModule:f.writable||f.configurable)||(f={enumerable:!0,get:function(){return r[i]}}),Object.defineProperty(e,s,f)}:function(e,r,i,s){s===void 0&&(s=i),e[s]=r[i]}),d=this&&this.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),h=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(e!=null)for(var i in e)i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)&&b(r,e,i);return d(r,e),r};Object.defineProperty(c,"__esModule",{value:!0}),c.dispose=c.getInstance=c.initializeWebAssembly=void 0;const p=h(w(6449)),u=w(932),l=w(3474);let a,o=!1,n=!1,t=!1;c.initializeWebAssembly=async e=>{if(o)return Promise.resolve();if(n)throw new Error("multiple calls to 'initializeWebAssembly()' detected.");if(t)throw new Error("previous call to 'initializeWebAssembly()' failed.");n=!0;const r=e.initTimeout,i=e.numThreads,s=e.simd,f=i>1&&(()=>{try{return typeof SharedArrayBuffer<"u"&&(typeof MessageChannel<"u"&&new MessageChannel().port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11])))}catch{return!1}})(),g=s&&(()=>{try{return WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,30,1,28,0,65,0,253,15,253,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,253,186,1,26,11]))}catch{return!1}})(),m=e.wasmPaths,y=typeof m=="string"?m:void 0,v=((D,$)=>$?D?"ort-wasm-simd-threaded.wasm":"ort-wasm-threaded.wasm":D?"ort-wasm-simd.wasm":"ort-wasm.wasm")(g,f),T=typeof m=="object"?m[v]:void 0;let x=!1;const A=[];if(r>0&&A.push(new Promise(D=>{setTimeout(()=>{x=!0,D()},r)})),A.push(new Promise((D,$)=>{const C=f?l:u,M={locateFile:(S,U)=>f&&S.endsWith(".worker.js")&&typeof Blob<"u"?URL.createObjectURL(new Blob([w(4154)],{type:"text/javascript"})):S.endsWith(".wasm")?T||(y??U)+v:U+S};if(f)if(typeof Blob>"u")M.mainScriptUrlOrBlob=p.join(__dirname,"ort-wasm-threaded.js");else{const S=`var ortWasmThreaded=(function(){var _scriptDir;return ${C.toString()}})();`;M.mainScriptUrlOrBlob=new Blob([S],{type:"text/javascript"})}C(M).then(S=>{n=!1,o=!0,a=S,D()},S=>{n=!1,t=!0,$(S)})})),await Promise.race(A),x)throw new Error(`WebAssembly backend initializing failed due to timeout: ${r}ms`)},c.getInstance=()=>{if(o&&a)return a;throw new Error("WebAssembly is not initialized yet.")},c.dispose=()=>{var e;!o||n||t||(n=!0,(e=a.PThread)===null||e===void 0||e.terminateAllThreads(),a=void 0,n=!1,o=!1,t=!0)}},1497:(N,c,w)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.checkLastError=c.iterateExtraOptions=c.allocWasmString=void 0;const b=w(263);c.allocWasmString=(d,h)=>{const p=(0,b.getInstance)(),u=p.lengthBytesUTF8(d)+1,l=p._malloc(u);return p.stringToUTF8(d,l,u),h.push(l),l},c.iterateExtraOptions=(d,h,p,u)=>{if(typeof d=="object"&&d!==null){if(p.has(d))throw new Error("Circular reference in options");p.add(d)}Object.entries(d).forEach(([l,a])=>{const o=h?h+l:l;if(typeof a=="object")(0,c.iterateExtraOptions)(a,o+".",p,u);else if(typeof a=="string"||typeof a=="number")u(o,a.toString());else{if(typeof a!="boolean")throw new Error("Can't handle extra config type: "+typeof a);u(o,a?"1":"0")}})},c.checkLastError=d=>{const h=(0,b.getInstance)(),p=h.stackSave();try{const u=h.stackAlloc(8);h._OrtGetLastError(u,u+4);const l=h.HEAP32[u/4],a=h.HEAPU32[u/4+1],o=a?h.UTF8ToString(a):"";throw new Error(`${d} ERROR_CODE: ${l}, ERROR_MESSAGE: ${o}`)}finally{h.stackRestore(p)}}},8050:(N,c,w)=>{w.d(c,{Z:()=>h});var b=w(6614),d=w.n(b);function h(){return d()('/*!\n* ONNX Runtime Web v1.16.3\n* Copyright (c) Microsoft Corporation. All rights reserved.\n* Licensed under the MIT License.\n*/\n(()=>{var e={918:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setRunOptions=void 0;const n=r(263),a=r(497);t.setRunOptions=e=>{const t=(0,n.getInstance)();let r=0;const o=[],i=e||{};try{if(void 0===(null==e?void 0:e.logSeverityLevel))i.logSeverityLevel=2;else if("number"!=typeof e.logSeverityLevel||!Number.isInteger(e.logSeverityLevel)||e.logSeverityLevel<0||e.logSeverityLevel>4)throw new Error(`log serverity level is not valid: ${e.logSeverityLevel}`);if(void 0===(null==e?void 0:e.logVerbosityLevel))i.logVerbosityLevel=0;else if("number"!=typeof e.logVerbosityLevel||!Number.isInteger(e.logVerbosityLevel))throw new Error(`log verbosity level is not valid: ${e.logVerbosityLevel}`);void 0===(null==e?void 0:e.terminate)&&(i.terminate=!1);let n=0;return void 0!==(null==e?void 0:e.tag)&&(n=(0,a.allocWasmString)(e.tag,o)),r=t._OrtCreateRunOptions(i.logSeverityLevel,i.logVerbosityLevel,!!i.terminate,n),0===r&&(0,a.checkLastError)("Can\'t create run options."),void 0!==(null==e?void 0:e.extra)&&(0,a.iterateExtraOptions)(e.extra,"",new WeakSet,((e,n)=>{const i=(0,a.allocWasmString)(e,o),s=(0,a.allocWasmString)(n,o);0!==t._OrtAddRunConfigEntry(r,i,s)&&(0,a.checkLastError)(`Can\'t set a run config entry: ${e} - ${n}.`)})),[r,o]}catch(e){throw 0!==r&&t._OrtReleaseRunOptions(r),o.forEach((e=>t._free(e))),e}}},622:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setSessionOptions=void 0;const n=r(263),a=r(497);t.setSessionOptions=e=>{var t,r,o,i;const s=(0,n.getInstance)();let u=0;const c=[],l=e||{};(e=>{e.extra||(e.extra={}),e.extra.session||(e.extra.session={});const t=e.extra.session;t.use_ort_model_bytes_directly||(t.use_ort_model_bytes_directly="1"),e.executionProviders&&e.executionProviders.some((e=>"webgpu"===("string"==typeof e?e:e.name)))&&(e.enableMemPattern=!1)})(l);try{const e=(e=>{switch(e){case"disabled":return 0;case"basic":return 1;case"extended":return 2;case"all":return 99;default:throw new Error(`unsupported graph optimization level: ${e}`)}})(null!==(t=l.graphOptimizationLevel)&&void 0!==t?t:"all"),f=(e=>{switch(e){case"sequential":return 0;case"parallel":return 1;default:throw new Error(`unsupported execution mode: ${e}`)}})(null!==(r=l.executionMode)&&void 0!==r?r:"sequential"),d="string"==typeof l.logId?(0,a.allocWasmString)(l.logId,c):0,p=null!==(o=l.logSeverityLevel)&&void 0!==o?o:2;if(!Number.isInteger(p)||p<0||p>4)throw new Error(`log serverity level is not valid: ${p}`);const g=null!==(i=l.logVerbosityLevel)&&void 0!==i?i:0;if(!Number.isInteger(g)||g<0||g>4)throw new Error(`log verbosity level is not valid: ${g}`);const h="string"==typeof l.optimizedModelFilePath?(0,a.allocWasmString)(l.optimizedModelFilePath,c):0;return u=s._OrtCreateSessionOptions(e,!!l.enableCpuMemArena,!!l.enableMemPattern,f,!!l.enableProfiling,0,d,p,g,h),0===u&&(0,a.checkLastError)("Can\'t create session options."),l.executionProviders&&((e,t,r)=>{for(const o of t){let t="string"==typeof o?o:o.name;switch(t){case"xnnpack":t="XNNPACK";break;case"webnn":if(t="WEBNN","string"!=typeof o){const t=o;if(null==t?void 0:t.deviceType){const o=(0,a.allocWasmString)("deviceType",r),i=(0,a.allocWasmString)(t.deviceType,r);0!==(0,n.getInstance)()._OrtAddSessionConfigEntry(e,o,i)&&(0,a.checkLastError)(`Can\'t set a session config entry: \'deviceType\' - ${t.deviceType}.`)}if(null==t?void 0:t.powerPreference){const o=(0,a.allocWasmString)("powerPreference",r),i=(0,a.allocWasmString)(t.powerPreference,r);0!==(0,n.getInstance)()._OrtAddSessionConfigEntry(e,o,i)&&(0,a.checkLastError)(`Can\'t set a session config entry: \'powerPreference\' - ${t.powerPreference}.`)}}break;case"webgpu":t="JS";break;case"wasm":case"cpu":continue;default:throw new Error(`not supported execution provider: ${t}`)}const i=(0,a.allocWasmString)(t,r);0!==(0,n.getInstance)()._OrtAppendExecutionProvider(e,i)&&(0,a.checkLastError)(`Can\'t append execution provider: ${t}.`)}})(u,l.executionProviders,c),void 0!==l.extra&&(0,a.iterateExtraOptions)(l.extra,"",new WeakSet,((e,t)=>{const r=(0,a.allocWasmString)(e,c),n=(0,a.allocWasmString)(t,c);0!==s._OrtAddSessionConfigEntry(u,r,n)&&(0,a.checkLastError)(`Can\'t set a session config entry: ${e} - ${t}.`)})),[u,c]}catch(e){throw 0!==u&&s._OrtReleaseSessionOptions(u),c.forEach((e=>s._free(e))),e}}},917:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.logLevelStringToEnum=t.tensorTypeToTypedArrayConstructor=t.getTensorElementSize=t.tensorDataTypeEnumToString=t.tensorDataTypeStringToEnum=void 0,t.tensorDataTypeStringToEnum=e=>{switch(e){case"int8":return 3;case"uint8":return 2;case"bool":return 9;case"int16":return 5;case"uint16":return 4;case"int32":return 6;case"uint32":return 12;case"float16":return 10;case"float32":return 1;case"float64":return 11;case"string":return 8;case"int64":return 7;case"uint64":return 13;default:throw new Error(`unsupported data type: ${e}`)}},t.tensorDataTypeEnumToString=e=>{switch(e){case 3:return"int8";case 2:return"uint8";case 9:return"bool";case 5:return"int16";case 4:return"uint16";case 6:return"int32";case 12:return"uint32";case 10:return"float16";case 1:return"float32";case 11:return"float64";case 8:return"string";case 7:return"int64";case 13:return"uint64";default:throw new Error(`unsupported data type: ${e}`)}},t.getTensorElementSize=e=>[void 0,4,1,1,2,2,4,8,void 0,1,2,8,4,8,void 0,void 0,void 0][e],t.tensorTypeToTypedArrayConstructor=e=>{switch(e){case"float16":case"uint16":return Uint16Array;case"float32":return Float32Array;case"uint8":case"bool":return Uint8Array;case"int8":return Int8Array;case"int16":return Int16Array;case"int32":return Int32Array;case"float64":return Float64Array;case"uint32":return Uint32Array;case"int64":return BigInt64Array;case"uint64":return BigUint64Array;default:throw new Error(`unsupported type: ${e}`)}},t.logLevelStringToEnum=e=>{switch(e){case"verbose":return 0;case"info":return 1;case"warning":return 2;case"error":return 3;case"fatal":return 4;default:throw new Error(`unsupported logging level: ${e}`)}}},259:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.extractTransferableBuffers=t.endProfiling=t.run=t.releaseSession=t.createSession=t.createSessionFinalize=t.createSessionAllocate=t.initRuntime=void 0;const n=r(918),a=r(622),o=r(917),i=r(263),s=r(497);t.initRuntime=async e=>{var t,r;t=e.wasm.numThreads,r=(0,o.logLevelStringToEnum)(e.logLevel),0!==(0,i.getInstance)()._OrtInit(t,r)&&(0,s.checkLastError)("Can\'t initialize onnxruntime.")};const u=new Map;t.createSessionAllocate=e=>{const t=(0,i.getInstance)(),r=t._malloc(e.byteLength);if(0===r)throw new Error(`Can\'t create a session. failed to allocate a buffer of size ${e.byteLength}.`);return t.HEAPU8.set(e,r),[r,e.byteLength]},t.createSessionFinalize=(e,t)=>{const r=(0,i.getInstance)();let n=0,o=0,c=[];const l=[],f=[];try{[o,c]=(0,a.setSessionOptions)(t),n=r._OrtCreateSession(e[0],e[1],o),0===n&&(0,s.checkLastError)("Can\'t create a session.");const[d,p]=(e=>{const t=(0,i.getInstance)(),r=t.stackSave();try{const r=t.stackAlloc(8);return 0!==t._OrtGetInputOutputCount(e,r,r+4)&&(0,s.checkLastError)("Can\'t get session input/output count."),[t.HEAP32[r/4],t.HEAP32[r/4+1]]}finally{t.stackRestore(r)}})(n),g=[],h=[];for(let e=0;e<d;e++){const t=r._OrtGetInputName(n,e);0===t&&(0,s.checkLastError)("Can\'t get an input name."),l.push(t),g.push(r.UTF8ToString(t))}for(let e=0;e<p;e++){const t=r._OrtGetOutputName(n,e);0===t&&(0,s.checkLastError)("Can\'t get an output name."),f.push(t),h.push(r.UTF8ToString(t))}return u.set(n,[n,l,f]),[n,g,h]}catch(e){throw l.forEach((e=>r._OrtFree(e))),f.forEach((e=>r._OrtFree(e))),0!==n&&r._OrtReleaseSession(n),e}finally{r._free(e[0]),0!==o&&r._OrtReleaseSessionOptions(o),c.forEach((e=>r._free(e)))}},t.createSession=(e,r)=>{const n=(0,t.createSessionAllocate)(e);return(0,t.createSessionFinalize)(n,r)},t.releaseSession=e=>{const t=(0,i.getInstance)(),r=u.get(e);if(!r)throw new Error(`cannot release session. invalid session id: ${e}`);const[n,a,o]=r;a.forEach((e=>t._OrtFree(e))),o.forEach((e=>t._OrtFree(e))),t._OrtReleaseSession(n),u.delete(e)},t.run=async(e,t,r,a,c)=>{const l=(0,i.getInstance)(),f=u.get(e);if(!f)throw new Error(`cannot run inference. invalid session id: ${e}`);const[d,p,g]=f,h=t.length,m=a.length;let y=0,v=[];const b=[],w=[];try{[y,v]=(0,n.setRunOptions)(c);for(let e=0;e<h;e++){const t=r[e][0],n=r[e][1],a=r[e][2];let i,u;if(Array.isArray(a)){u=4*a.length,i=l._malloc(u),w.push(i);let e=i/4;for(let t=0;t<a.length;t++){if("string"!=typeof a[t])throw new TypeError(`tensor data at index ${t} is not a string`);l.HEAPU32[e++]=(0,s.allocWasmString)(a[t],w)}}else u=a.byteLength,i=l._malloc(u),w.push(i),l.HEAPU8.set(new Uint8Array(a.buffer,a.byteOffset,u),i);const c=l.stackSave(),f=l.stackAlloc(4*n.length);try{let r=f/4;n.forEach((e=>l.HEAP32[r++]=e));const a=l._OrtCreateTensor((0,o.tensorDataTypeStringToEnum)(t),i,u,f,n.length);0===a&&(0,s.checkLastError)(`Can\'t create tensor for input[${e}].`),b.push(a)}finally{l.stackRestore(c)}}const e=l.stackSave(),i=l.stackAlloc(4*h),u=l.stackAlloc(4*h),f=l.stackAlloc(4*m),_=l.stackAlloc(4*m);try{let e=i/4,r=u/4,n=f/4,c=_/4;for(let n=0;n<h;n++)l.HEAPU32[e++]=b[n],l.HEAPU32[r++]=p[t[n]];for(let e=0;e<m;e++)l.HEAPU32[n++]=0,l.HEAPU32[c++]=g[a[e]];let v=l._OrtRun(d,u,i,h,_,m,f,y);const w=l.jsepRunPromise;w&&void 0!==w.then&&(v=await w);const O=[];0!==v&&(0,s.checkLastError)("failed to call OrtRun().");for(let e=0;e<m;e++){const t=l.HEAPU32[f/4+e],r=l.stackSave(),n=l.stackAlloc(16);let a,i=0;try{v=l._OrtGetTensorData(t,n,n+4,n+8,n+12),0!==v&&(0,s.checkLastError)(`Can\'t access output tensor data on index ${e}.`);let r=n/4;const u=l.HEAPU32[r++];i=l.HEAPU32[r++];const c=l.HEAPU32[r++],f=l.HEAPU32[r++],d=[];for(let e=0;e<f;e++)d.push(l.HEAPU32[c/4+e]);l._OrtFree(c);const p=0===d.length?1:d.reduce(((e,t)=>e*t));if(a=(0,o.tensorDataTypeEnumToString)(u),"string"===a){const e=[];let t=i/4;for(let r=0;r<p;r++){const n=l.HEAPU32[t++],a=r===p-1?void 0:l.HEAPU32[t]-n;e.push(l.UTF8ToString(n,a))}O.push([a,d,e])}else{const e=new((0,o.tensorTypeToTypedArrayConstructor)(a))(p);new Uint8Array(e.buffer,e.byteOffset,e.byteLength).set(l.HEAPU8.subarray(i,i+e.byteLength)),O.push([a,d,e])}}finally{l.stackRestore(r),"string"===a&&i&&l._free(i),l._OrtReleaseTensor(t)}}return O}finally{l.stackRestore(e)}}finally{b.forEach((e=>l._OrtReleaseTensor(e))),w.forEach((e=>l._free(e))),0!==y&&l._OrtReleaseRunOptions(y),v.forEach((e=>l._free(e)))}},t.endProfiling=e=>{const t=(0,i.getInstance)(),r=u.get(e);if(!r)throw new Error("invalid session id");const n=r[0],a=t._OrtEndProfiling(n);0===a&&(0,s.checkLastError)("Can\'t get an profile file name."),t._OrtFree(a)},t.extractTransferableBuffers=e=>{const t=[];for(const r of e){const e=r[2];!Array.isArray(e)&&e.buffer&&t.push(e.buffer)}return t}},263:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.dispose=t.getInstance=t.initializeWebAssembly=void 0;const i=o(r(449)),s=r(932),u=r(474);let c,l=!1,f=!1,d=!1;t.initializeWebAssembly=async e=>{if(l)return Promise.resolve();if(f)throw new Error("multiple calls to \'initializeWebAssembly()\' detected.");if(d)throw new Error("previous call to \'initializeWebAssembly()\' failed.");f=!0;const t=e.initTimeout,n=e.numThreads,a=e.simd,o=n>1&&(()=>{try{return"undefined"!=typeof SharedArrayBuffer&&("undefined"!=typeof MessageChannel&&(new MessageChannel).port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11])))}catch(e){return!1}})(),p=a&&(()=>{try{return WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,30,1,28,0,65,0,253,15,253,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,253,186,1,26,11]))}catch(e){return!1}})(),g=e.wasmPaths,h="string"==typeof g?g:void 0,m=((e,t)=>t?e?"ort-wasm-simd-threaded.wasm":"ort-wasm-threaded.wasm":e?"ort-wasm-simd.wasm":"ort-wasm.wasm")(p,o),y="object"==typeof g?g[m]:void 0;let v=!1;const b=[];if(t>0&&b.push(new Promise((e=>{setTimeout((()=>{v=!0,e()}),t)}))),b.push(new Promise(((e,t)=>{const n=o?u:s,a={locateFile:(e,t)=>o&&e.endsWith(".worker.js")&&"undefined"!=typeof Blob?URL.createObjectURL(new Blob([r(154)],{type:"text/javascript"})):e.endsWith(".wasm")?y||(null!=h?h:t)+m:t+e};if(o)if("undefined"==typeof Blob)a.mainScriptUrlOrBlob=i.join(__dirname,"ort-wasm-threaded.js");else{const e=`var ortWasmThreaded=(function(){var _scriptDir;return ${n.toString()}})();`;a.mainScriptUrlOrBlob=new Blob([e],{type:"text/javascript"})}n(a).then((t=>{f=!1,l=!0,c=t,e()}),(e=>{f=!1,d=!0,t(e)}))}))),await Promise.race(b),v)throw new Error(`WebAssembly backend initializing failed due to timeout: ${t}ms`)},t.getInstance=()=>{if(l&&c)return c;throw new Error("WebAssembly is not initialized yet.")},t.dispose=()=>{var e;!l||f||d||(f=!0,null===(e=c.PThread)||void 0===e||e.terminateAllThreads(),c=void 0,f=!1,l=!1,d=!0)}},497:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.checkLastError=t.iterateExtraOptions=t.allocWasmString=void 0;const n=r(263);t.allocWasmString=(e,t)=>{const r=(0,n.getInstance)(),a=r.lengthBytesUTF8(e)+1,o=r._malloc(a);return r.stringToUTF8(e,o,a),t.push(o),o},t.iterateExtraOptions=(e,r,n,a)=>{if("object"==typeof e&&null!==e){if(n.has(e))throw new Error("Circular reference in options");n.add(e)}Object.entries(e).forEach((([e,o])=>{const i=r?r+e:e;if("object"==typeof o)(0,t.iterateExtraOptions)(o,i+".",n,a);else if("string"==typeof o||"number"==typeof o)a(i,o.toString());else{if("boolean"!=typeof o)throw new Error("Can\'t handle extra config type: "+typeof o);a(i,o?"1":"0")}}))},t.checkLastError=e=>{const t=(0,n.getInstance)(),r=t.stackSave();try{const r=t.stackAlloc(8);t._OrtGetLastError(r,r+4);const n=t.HEAP32[r/4],a=t.HEAPU32[r/4+1],o=a?t.UTF8ToString(a):"";throw new Error(`${e} ERROR_CODE: ${n}, ERROR_MESSAGE: ${o}`)}finally{t.stackRestore(r)}}},474:(e,t,r)=>{var _scriptDir,n=(_scriptDir="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0,"undefined"!=typeof __filename&&(_scriptDir=_scriptDir||__filename),function(e={}){function t(){return k.buffer!=x.buffer&&Y(),x}function n(){return k.buffer!=x.buffer&&Y(),I}function a(){return k.buffer!=x.buffer&&Y(),U}function o(){return k.buffer!=x.buffer&&Y(),L}function i(){return k.buffer!=x.buffer&&Y(),W}var s,u,c=e;c.ready=new Promise(((e,t)=>{s=e,u=t}));var l,f,d,p=Object.assign({},c),g="./this.program",h=(e,t)=>{throw t},m="object"==typeof window,y="function"==typeof importScripts,v="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,b=c.ENVIRONMENT_IS_PTHREAD||!1,w="";function _(e){return c.locateFile?c.locateFile(e,w):w+e}if(v){var O=r(384),S=r(908);let t;w=y?S.dirname(w)+"/":__dirname+"/",l=(e,t)=>(e=e.startsWith("file://")?new URL(e):S.normalize(e),O.readFileSync(e,t?void 0:"utf8")),d=e=>((e=l(e,!0)).buffer||(e=new Uint8Array(e)),e),f=(e,t,r,n=!0)=>{e=e.startsWith("file://")?new URL(e):S.normalize(e),O.readFile(e,n?void 0:"utf8",((e,a)=>{e?r(e):t(n?a.buffer:a)}))},!c.thisProgram&&1<process.argv.length&&(g=process.argv[1].replace(/\\\\/g,"/")),process.argv.slice(2),h=(e,t)=>{throw process.exitCode=e,t},c.inspect=()=>"[Emscripten Module object]";try{t=r(925)}catch(e){throw console.error(\'The "worker_threads" module is not supported in this node.js build - perhaps a newer version is needed?\'),e}global.Worker=t.Worker}else(m||y)&&(y?w=self.location.href:"undefined"!=typeof document&&document.currentScript&&(w=document.currentScript.src),_scriptDir&&(w=_scriptDir),w=0!==w.indexOf("blob:")?w.substr(0,w.replace(/[?#].*/,"").lastIndexOf("/")+1):"",v||(l=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},y&&(d=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),f=(e,t,r)=>{var n=new XMLHttpRequest;n.open("GET",e,!0),n.responseType="arraybuffer",n.onload=()=>{200==n.status||0==n.status&&n.response?t(n.response):r()},n.onerror=r,n.send(null)}));v&&"undefined"==typeof performance&&(global.performance=r(953).performance);var E=console.log.bind(console),A=console.error.bind(console);v&&(E=(...e)=>O.writeSync(1,e.join(" ")+"\\n"),A=(...e)=>O.writeSync(2,e.join(" ")+"\\n"));var T,M=c.print||E,R=c.printErr||A;Object.assign(c,p),p=null,c.thisProgram&&(g=c.thisProgram),c.quit&&(h=c.quit),c.wasmBinary&&(T=c.wasmBinary);var F=c.noExitRuntime||!0;"object"!=typeof WebAssembly&&te("no native wasm support detected");var k,C,P,D,x,I,U,L,W,H=!1;function Y(){var e=k.buffer;c.HEAP8=x=new Int8Array(e),c.HEAP16=new Int16Array(e),c.HEAP32=U=new Int32Array(e),c.HEAPU8=I=new Uint8Array(e),c.HEAPU16=new Uint16Array(e),c.HEAPU32=L=new Uint32Array(e),c.HEAPF32=new Float32Array(e),c.HEAPF64=W=new Float64Array(e)}var j=c.INITIAL_MEMORY||16777216;if(5242880<=j||te("INITIAL_MEMORY should be larger than STACK_SIZE, was "+j+"! (STACK_SIZE=5242880)"),b)k=c.wasmMemory;else if(c.wasmMemory)k=c.wasmMemory;else if(!((k=new WebAssembly.Memory({initial:j/65536,maximum:65536,shared:!0})).buffer instanceof SharedArrayBuffer))throw R("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),v&&R("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and/or recent version)"),Error("bad memory");Y(),j=k.buffer.byteLength;var z,G=[],N=[],B=[],$=0;function q(){return F||0<$}var V,J,X=0,K=null,Z=null;function Q(){X++,c.monitorRunDependencies&&c.monitorRunDependencies(X)}function ee(){if(X--,c.monitorRunDependencies&&c.monitorRunDependencies(X),0==X&&(null!==K&&(clearInterval(K),K=null),Z)){var e=Z;Z=null,e()}}function te(e){throw c.onAbort&&c.onAbort(e),R(e="Aborted("+e+")"),H=!0,D=1,e=new WebAssembly.RuntimeError(e+". Build with -sASSERTIONS for more info."),u(e),e}function re(e){return e.startsWith("data:application/octet-stream;base64,")}function ne(e){if(e==V&&T)return new Uint8Array(T);if(d)return d(e);throw"both async and sync fetching of the wasm failed"}function ae(e,t,r){return function(e){if(!T&&(m||y)){if("function"==typeof fetch&&!e.startsWith("file://"))return fetch(e,{credentials:"same-origin"}).then((t=>{if(!t.ok)throw"failed to load wasm binary file at \'"+e+"\'";return t.arrayBuffer()})).catch((()=>ne(e)));if(f)return new Promise(((t,r)=>{f(e,(e=>t(new Uint8Array(e))),r)}))}return Promise.resolve().then((()=>ne(e)))}(e).then((e=>WebAssembly.instantiate(e,t))).then((e=>e)).then(r,(e=>{R("failed to asynchronously prepare wasm: "+e),te(e)}))}function oe(e){this.name="ExitStatus",this.message=`Program terminated with exit(${e})`,this.status=e}function ie(e){e.terminate(),e.onmessage=()=>{}}function se(e){(e=ge.Fa[e])||te(),ge.fb(e)}function ue(e){var t=ge.Za();if(!t)return 6;ge.Ia.push(t),ge.Fa[e.Ha]=t,t.Ha=e.Ha;var r={cmd:"run",start_routine:e.gb,arg:e.Ya,pthread_ptr:e.Ha};return v&&t.unref(),t.postMessage(r,e.mb),0}re(V="ort-wasm-threaded.wasm")||(V=_(V));var ce="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0,le=(e,t,r)=>{var n=(t>>>=0)+r;for(r=t;e[r]&&!(r>=n);)++r;if(16<r-t&&e.buffer&&ce)return ce.decode(e.buffer instanceof SharedArrayBuffer?e.slice(t,r):e.subarray(t,r));for(n="";t<r;){var a=e[t++];if(128&a){var o=63&e[t++];if(192==(224&a))n+=String.fromCharCode((31&a)<<6|o);else{var i=63&e[t++];65536>(a=224==(240&a)?(15&a)<<12|o<<6|i:(7&a)<<18|o<<12|i<<6|63&e[t++])?n+=String.fromCharCode(a):(a-=65536,n+=String.fromCharCode(55296|a>>10,56320|1023&a))}}else n+=String.fromCharCode(a)}return n},fe=(e,t)=>(e>>>=0)?le(n(),e,t):"";function de(e){if(b)return qe(1,1,e);D=e,q()||(ge.hb(),c.onExit&&c.onExit(e),H=!0),h(e,new oe(e))}var pe=e=>{if(D=e,b)throw me(e),"unwind";de(e)},ge={La:[],Ia:[],Ta:[],Fa:{},Pa:function(){b?ge.ab():ge.$a()},$a:function(){G.unshift((()=>{Q(),ge.bb((()=>ee()))}))},ab:function(){ge.receiveObjectTransfer=ge.eb,ge.threadInitTLS=ge.Sa,ge.setExitStatus=ge.Ra,F=!1},Ra:function(e){D=e},rb:["$terminateWorker"],hb:function(){for(var e of ge.Ia)ie(e);for(e of ge.La)ie(e);ge.La=[],ge.Ia=[],ge.Fa=[]},fb:function(e){var t=e.Ha;delete ge.Fa[t],ge.La.push(e),ge.Ia.splice(ge.Ia.indexOf(e),1),e.Ha=0,yt(t)},eb:function(){},Sa:function(){ge.Ta.forEach((e=>e()))},cb:e=>new Promise((t=>{e.onmessage=r=>{var n=(r=r.data).cmd;if(r.targetThread&&r.targetThread!=dt()){var a=ge.Fa[r.qb];a?a.postMessage(r,r.transferList):R(\'Internal error! Worker sent a message "\'+n+\'" to target pthread \'+r.targetThread+", but that thread no longer exists!")}else"checkMailbox"===n?He():"spawnThread"===n?ue(r):"cleanupThread"===n?se(r.thread):"killThread"===n?(r=r.thread,n=ge.Fa[r],delete ge.Fa[r],ie(n),yt(r),ge.Ia.splice(ge.Ia.indexOf(n),1),n.Ha=0):"cancelThread"===n?ge.Fa[r.thread].postMessage({cmd:"cancel"}):"loaded"===n?(e.loaded=!0,t(e)):"alert"===n?alert("Thread "+r.threadId+": "+r.text):"setimmediate"===r.target?e.postMessage(r):"callHandler"===n?c[r.handler](...r.args):n&&R("worker sent an unknown command "+n)},e.onerror=e=>{throw R("worker sent an error! "+e.filename+":"+e.lineno+": "+e.message),e},v&&(e.on("message",(function(t){e.onmessage({data:t})})),e.on("error",(function(t){e.onerror(t)})));var r,n=[];for(r of["onExit","onAbort","print","printErr"])c.hasOwnProperty(r)&&n.push(r);e.postMessage({cmd:"load",handlers:n,urlOrBlob:c.mainScriptUrlOrBlob||_scriptDir,wasmMemory:k,wasmModule:P})})),bb:function(e){e()},Xa:function(){var e=_("ort-wasm-threaded.worker.js");e=new Worker(e),ge.La.push(e)},Za:function(){return 0==ge.La.length&&(ge.Xa(),ge.cb(ge.La[0])),ge.La.pop()}};c.PThread=ge;var he=e=>{for(;0<e.length;)e.shift()(c)};function me(e){if(b)return qe(2,0,e);pe(e)}c.establishStackSpace=function(){var e=dt(),t=a()[e+52>>2>>>0];e=a()[e+56>>2>>>0],_t(t,t-e),St(t)};var ye=[];function ve(e){this.Oa=e-24,this.Wa=function(e){o()[this.Oa+4>>2>>>0]=e},this.Va=function(e){o()[this.Oa+8>>2>>>0]=e},this.Pa=function(e,t){this.Ua(),this.Wa(e),this.Va(t)},this.Ua=function(){o()[this.Oa+16>>2>>>0]=0}}function be(e,t,r,n){return b?qe(3,1,e,t,r,n):we(e,t,r,n)}function we(e,t,r,n){if(e>>>=0,t>>>=0,r>>>=0,n>>>=0,"undefined"==typeof SharedArrayBuffer)return R("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;var a=[];return b&&0===a.length?be(e,t,r,n):(e={gb:r,Ha:e,Ya:n,mb:a},b?(e.ob="spawnThread",postMessage(e,a),0):ue(e))}function _e(e,t,r){return b?qe(4,1,e,t,r):0}function Oe(e,t){if(b)return qe(5,1,e,t)}c.invokeEntryPoint=function(e,t){var r=ye[e];r||(e>=ye.length&&(ye.length=e+1),ye[e]=r=z.get(e)),e=r(t),q()?ge.Ra(e):vt(e)};var Se=e=>{for(var t=0,r=0;r<e.length;++r){var n=e.charCodeAt(r);127>=n?t++:2047>=n?t+=2:55296<=n&&57343>=n?(t+=4,++r):t+=3}return t},Ee=(e,t,r,n)=>{if(!(0<n))return 0;var a=r>>>=0;n=r+n-1;for(var o=0;o<e.length;++o){var i=e.charCodeAt(o);if(55296<=i&&57343>=i&&(i=65536+((1023&i)<<10)|1023&e.charCodeAt(++o)),127>=i){if(r>=n)break;t[r++>>>0]=i}else{if(2047>=i){if(r+1>=n)break;t[r++>>>0]=192|i>>6}else{if(65535>=i){if(r+2>=n)break;t[r++>>>0]=224|i>>12}else{if(r+3>=n)break;t[r++>>>0]=240|i>>18,t[r++>>>0]=128|i>>12&63}t[r++>>>0]=128|i>>6&63}t[r++>>>0]=128|63&i}}return t[r>>>0]=0,r-a},Ae=(e,t,r)=>Ee(e,n(),t,r);function Te(e,t){if(b)return qe(6,1,e,t)}function Me(e,t,r){if(b)return qe(7,1,e,t,r)}function Re(e,t,r){return b?qe(8,1,e,t,r):0}function Fe(e,t){if(b)return qe(9,1,e,t)}function ke(e,t,r){if(b)return qe(10,1,e,t,r)}function Ce(e,t,r,n){if(b)return qe(11,1,e,t,r,n)}function Pe(e,t,r,n){if(b)return qe(12,1,e,t,r,n)}function De(e,t,r,n){if(b)return qe(13,1,e,t,r,n)}function xe(e){if(b)return qe(14,1,e)}function Ie(e,t){if(b)return qe(15,1,e,t)}function Ue(e,t,r){if(b)return qe(16,1,e,t,r)}var Le=e=>{if(!H)try{if(e(),!q())try{b?vt(D):pe(D)}catch(e){e instanceof oe||"unwind"==e||h(1,e)}}catch(e){e instanceof oe||"unwind"==e||h(1,e)}};function We(e){e>>>=0,"function"==typeof Atomics.nb&&(Atomics.nb(a(),e>>2,e).value.then(He),e+=128,Atomics.store(a(),e>>2,1))}function He(){var e=dt();e&&(We(e),Le((()=>bt())))}c.__emscripten_thread_mailbox_await=We,c.checkMailbox=He;var Ye=e=>0==e%4&&(0!=e%100||0==e%400),je=[0,31,60,91,121,152,182,213,244,274,305,335],ze=[0,31,59,90,120,151,181,212,243,273,304,334];function Ge(e,t,r,n,a,o,i,s){return b?qe(17,1,e,t,r,n,a,o,i,s):-52}function Ne(e,t,r,n,a,o,i){if(b)return qe(18,1,e,t,r,n,a,o,i)}var Be=e=>{var t=Se(e)+1,r=pt(t);return r&&Ae(e,r,t),r},$e=e=>{var t=Ot();return e=e(),St(t),e};function qe(e,t){var r=arguments.length-2,n=arguments;return $e((()=>{for(var a=Et(8*r),o=a>>3,s=0;s<r;s++){var u=n[2+s];i()[o+s>>>0]=u}return mt(e,r,a,t)}))}var Ve,Je=[],Xe={},Ke=()=>{if(!Ve){var e,t={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:g||"./this.program"};for(e in Xe)void 0===Xe[e]?delete t[e]:t[e]=Xe[e];var r=[];for(e in t)r.push(`${e}=${t[e]}`);Ve=r}return Ve};function Ze(e,r){if(b)return qe(19,1,e,r);e>>>=0,r>>>=0;var n=0;return Ke().forEach((function(a,i){var s=r+n;for(i=o()[e+4*i>>2>>>0]=s,s=0;s<a.length;++s)t()[i++>>0>>>0]=a.charCodeAt(s);t()[i>>0>>>0]=0,n+=a.length+1})),0}function Qe(e,t){if(b)return qe(20,1,e,t);e>>>=0,t>>>=0;var r=Ke();o()[e>>2>>>0]=r.length;var n=0;return r.forEach((function(e){n+=e.length+1})),o()[t>>2>>>0]=n,0}function et(e){return b?qe(21,1,e):52}function tt(e,t,r,n){return b?qe(22,1,e,t,r,n):52}function rt(e,t,r,n,a){return b?qe(23,1,e,t,r,n,a):70}var nt=[null,[],[]];function at(e,t,r,a){if(b)return qe(24,1,e,t,r,a);t>>>=0,r>>>=0,a>>>=0;for(var i=0,s=0;s<r;s++){var u=o()[t>>2>>>0],c=o()[t+4>>2>>>0];t+=8;for(var l=0;l<c;l++){var f=n()[u+l>>>0],d=nt[e];0===f||10===f?((1===e?M:R)(le(d,0)),d.length=0):d.push(f)}i+=c}return o()[a>>2>>>0]=i,0}var ot=e=>(ot=(()=>{if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues)return e=>(e.set(crypto.getRandomValues(new Uint8Array(e.byteLength))),e);if(v)try{var e=r(760);if(e.randomFillSync)return t=>e.randomFillSync(t);var t=e.randomBytes;return e=>(e.set(t(e.byteLength)),e)}catch(e){}te("initRandomDevice")})())(e),it=[31,29,31,30,31,30,31,31,30,31,30,31],st=[31,28,31,30,31,30,31,31,30,31,30,31],ut=(e,r)=>{t().set(e,r>>>0)};function ct(e,t,r,n){function o(e,t,r){for(e="number"==typeof e?e.toString():e||"";e.length<t;)e=r[0]+e;return e}function i(e,t){return o(e,t,"0")}function s(e,t){function r(e){return 0>e?-1:0<e?1:0}var n;return 0===(n=r(e.getFullYear()-t.getFullYear()))&&0===(n=r(e.getMonth()-t.getMonth()))&&(n=r(e.getDate()-t.getDate())),n}function u(e){switch(e.getDay()){case 0:return new Date(e.getFullYear()-1,11,29);case 1:return e;case 2:return new Date(e.getFullYear(),0,3);case 3:return new Date(e.getFullYear(),0,2);case 4:return new Date(e.getFullYear(),0,1);case 5:return new Date(e.getFullYear()-1,11,31);case 6:return new Date(e.getFullYear()-1,11,30)}}function c(e){var t=e.Ja;for(e=new Date(new Date(e.Ka+1900,0,1).getTime());0<t;){var r=e.getMonth(),n=(Ye(e.getFullYear())?it:st)[r];if(!(t>n-e.getDate())){e.setDate(e.getDate()+t);break}t-=n-e.getDate()+1,e.setDate(1),11>r?e.setMonth(r+1):(e.setMonth(0),e.setFullYear(e.getFullYear()+1))}return r=new Date(e.getFullYear()+1,0,4),t=u(new Date(e.getFullYear(),0,4)),r=u(r),0>=s(t,e)?0>=s(r,e)?e.getFullYear()+1:e.getFullYear():e.getFullYear()-1}e>>>=0,t>>>=0,r>>>=0,n>>>=0;var l=a()[n+40>>2>>>0];for(var f in n={kb:a()[n>>2>>>0],jb:a()[n+4>>2>>>0],Ma:a()[n+8>>2>>>0],Qa:a()[n+12>>2>>>0],Na:a()[n+16>>2>>>0],Ka:a()[n+20>>2>>>0],Ga:a()[n+24>>2>>>0],Ja:a()[n+28>>2>>>0],sb:a()[n+32>>2>>>0],ib:a()[n+36>>2>>>0],lb:l?fe(l):""},r=fe(r),l={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"})r=r.replace(new RegExp(f,"g"),l[f]);var d="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),p="January February March April May June July August September October November December".split(" ");for(f in l={"%a":e=>d[e.Ga].substring(0,3),"%A":e=>d[e.Ga],"%b":e=>p[e.Na].substring(0,3),"%B":e=>p[e.Na],"%C":e=>i((e.Ka+1900)/100|0,2),"%d":e=>i(e.Qa,2),"%e":e=>o(e.Qa,2," "),"%g":e=>c(e).toString().substring(2),"%G":e=>c(e),"%H":e=>i(e.Ma,2),"%I":e=>(0==(e=e.Ma)?e=12:12<e&&(e-=12),i(e,2)),"%j":e=>{for(var t=0,r=0;r<=e.Na-1;t+=(Ye(e.Ka+1900)?it:st)[r++]);return i(e.Qa+t,3)},"%m":e=>i(e.Na+1,2),"%M":e=>i(e.jb,2),"%n":()=>"\\n","%p":e=>0<=e.Ma&&12>e.Ma?"AM":"PM","%S":e=>i(e.kb,2),"%t":()=>"\\t","%u":e=>e.Ga||7,"%U":e=>i(Math.floor((e.Ja+7-e.Ga)/7),2),"%V":e=>{var t=Math.floor((e.Ja+7-(e.Ga+6)%7)/7);if(2>=(e.Ga+371-e.Ja-2)%7&&t++,t)53==t&&(4==(r=(e.Ga+371-e.Ja)%7)||3==r&&Ye(e.Ka)||(t=1));else{t=52;var r=(e.Ga+7-e.Ja-1)%7;(4==r||5==r&&Ye(e.Ka%400-1))&&t++}return i(t,2)},"%w":e=>e.Ga,"%W":e=>i(Math.floor((e.Ja+7-(e.Ga+6)%7)/7),2),"%y":e=>(e.Ka+1900).toString().substring(2),"%Y":e=>e.Ka+1900,"%z":e=>{var t=0<=(e=e.ib);return e=Math.abs(e)/60,(t?"+":"-")+String("0000"+(e/60*100+e%60)).slice(-4)},"%Z":e=>e.lb,"%%":()=>"%"},r=r.replace(/%%/g,"\\0\\0"),l)r.includes(f)&&(r=r.replace(new RegExp(f,"g"),l[f](n)));return f=function(e){var t=Array(Se(e)+1);return Ee(e,t,0,t.length),t}(r=r.replace(/\\0\\0/g,"%")),f.length>t?0:(ut(f,e),f.length-1)}ge.Pa();var lt=[null,de,me,be,_e,Oe,Te,Me,Re,Fe,ke,Ce,Pe,De,xe,Ie,Ue,Ge,Ne,Ze,Qe,et,tt,rt,at],ft={b:function(e,t,r){throw new ve(e>>>=0).Pa(t>>>0,r>>>0),e},N:function(e){gt(e>>>0,!y,1,!m,131072,!1),ge.Sa()},k:function(e){e>>>=0,b?postMessage({cmd:"cleanupThread",thread:e}):se(e)},I:we,h:_e,T:Oe,E:Te,G:Me,U:Re,R:Fe,J:ke,Q:Ce,o:Pe,F:De,C:xe,S:Ie,D:Ue,q:()=>!0,A:function(e,t){(e>>>=0)==t>>>0?setTimeout((()=>He())):b?postMessage({targetThread:e,cmd:"checkMailbox"}):(e=ge.Fa[e])&&e.postMessage({cmd:"checkMailbox"})},L:function(){return-1},M:We,p:function(e){v&&ge.Fa[e>>>0].ref()},t:function(e,t,r){e=t+2097152>>>0<4194305-!!e?(e>>>0)+4294967296*t:NaN,r>>>=0,e=new Date(1e3*e),a()[r>>2>>>0]=e.getUTCSeconds(),a()[r+4>>2>>>0]=e.getUTCMinutes(),a()[r+8>>2>>>0]=e.getUTCHours(),a()[r+12>>2>>>0]=e.getUTCDate(),a()[r+16>>2>>>0]=e.getUTCMonth(),a()[r+20>>2>>>0]=e.getUTCFullYear()-1900,a()[r+24>>2>>>0]=e.getUTCDay(),e=(e.getTime()-Date.UTC(e.getUTCFullYear(),0,1,0,0,0,0))/864e5|0,a()[r+28>>2>>>0]=e},u:function(e,t,r){e=t+2097152>>>0<4194305-!!e?(e>>>0)+4294967296*t:NaN,r>>>=0,e=new Date(1e3*e),a()[r>>2>>>0]=e.getSeconds(),a()[r+4>>2>>>0]=e.getMinutes(),a()[r+8>>2>>>0]=e.getHours(),a()[r+12>>2>>>0]=e.getDate(),a()[r+16>>2>>>0]=e.getMonth(),a()[r+20>>2>>>0]=e.getFullYear()-1900,a()[r+24>>2>>>0]=e.getDay(),t=(Ye(e.getFullYear())?je:ze)[e.getMonth()]+e.getDate()-1|0,a()[r+28>>2>>>0]=t,a()[r+36>>2>>>0]=-60*e.getTimezoneOffset(),t=new Date(e.getFullYear(),6,1).getTimezoneOffset();var n=new Date(e.getFullYear(),0,1).getTimezoneOffset();e=0|(t!=n&&e.getTimezoneOffset()==Math.min(n,t)),a()[r+32>>2>>>0]=e},v:function(e){e>>>=0;var t=new Date(a()[e+20>>2>>>0]+1900,a()[e+16>>2>>>0],a()[e+12>>2>>>0],a()[e+8>>2>>>0],a()[e+4>>2>>>0],a()[e>>2>>>0],0),r=a()[e+32>>2>>>0],n=t.getTimezoneOffset(),o=new Date(t.getFullYear(),6,1).getTimezoneOffset(),i=new Date(t.getFullYear(),0,1).getTimezoneOffset(),s=Math.min(i,o);return 0>r?a()[e+32>>2>>>0]=Number(o!=i&&s==n):0<r!=(s==n)&&(o=Math.max(i,o),t.setTime(t.getTime()+6e4*((0<r?s:o)-n))),a()[e+24>>2>>>0]=t.getDay(),r=(Ye(t.getFullYear())?je:ze)[t.getMonth()]+t.getDate()-1|0,a()[e+28>>2>>>0]=r,a()[e>>2>>>0]=t.getSeconds(),a()[e+4>>2>>>0]=t.getMinutes(),a()[e+8>>2>>>0]=t.getHours(),a()[e+12>>2>>>0]=t.getDate(),a()[e+16>>2>>>0]=t.getMonth(),a()[e+20>>2>>>0]=t.getYear(),e=t.getTime()/1e3,wt((J=e,1<=+Math.abs(J)?0<J?+Math.floor(J/4294967296)>>>0:~~+Math.ceil((J-+(~~J>>>0))/4294967296)>>>0:0)),e>>>0},r:Ge,s:Ne,z:function(e,t,r){function n(e){return(e=e.toTimeString().match(/\\(([A-Za-z ]+)\\)$/))?e[1]:"GMT"}e>>>=0,t>>>=0,r>>>=0;var i=(new Date).getFullYear(),s=new Date(i,0,1),u=new Date(i,6,1);i=s.getTimezoneOffset();var c=u.getTimezoneOffset(),l=Math.max(i,c);o()[e>>2>>>0]=60*l,a()[t>>2>>>0]=Number(i!=c),e=n(s),t=n(u),e=Be(e),t=Be(t),c<i?(o()[r>>2>>>0]=e,o()[r+4>>2>>>0]=t):(o()[r>>2>>>0]=t,o()[r+4>>2>>>0]=e)},c:()=>{te("")},l:function(){},i:function(){return Date.now()},V:()=>{throw $+=1,"unwind"},B:function(){return 4294901760},e:()=>performance.timeOrigin+performance.now(),f:function(){return v?r(993).cpus().length:navigator.hardwareConcurrency},K:function(e,t,r,n){for(ge.pb=t>>>0,Je.length=r,t=n>>>0>>3,n=0;n<r;n++)Je[n]=i()[t+n>>>0];return lt[e].apply(null,Je)},y:function(e){e>>>=0;var t=n().length;if(e<=t||4294901760<e)return!1;for(var r=1;4>=r;r*=2){var a=t*(1+.2/r);a=Math.min(a,e+100663296);var o=Math;a=Math.max(e,a);e:{o=o.min.call(o,4294901760,a+(65536-a%65536)%65536)-k.buffer.byteLength+65535>>>16;try{k.grow(o),Y();var i=1;break e}catch(e){}i=void 0}if(i)return!0}return!1},O:Ze,P:Qe,j:pe,g:et,n:tt,w:rt,m:at,x:function(e,t){return e>>>=0,t>>>=0,ot(n().subarray(e>>>0,e+t>>>0)),0},a:k||c.wasmMemory,H:ct,d:function(e,t,r,n){return ct(e>>>0,t>>>0,r>>>0,n>>>0)}};!function(){function e(e,t){return e=e.exports,C=e=function(e){var t=e=>()=>e()>>>0,r=e=>t=>e(t)>>>0;return(e=Object.assign({},e)).__errno_location=t(e.__errno_location),e.pthread_self=t(e.pthread_self),e.malloc=r(e.malloc),e.stackSave=t(e.stackSave),e.stackAlloc=r(e.stackAlloc),e}(e),ge.Ta.push(C.sa),z=C.ta,N.unshift(C.W),P=t,ee(),e}var t={a:ft};if(Q(),c.instantiateWasm)try{return c.instantiateWasm(t,e)}catch(e){R("Module.instantiateWasm callback failed with error: "+e),u(e)}(function(e,t){var r=V;return T||"function"!=typeof WebAssembly.instantiateStreaming||re(r)||r.startsWith("file://")||v||"function"!=typeof fetch?ae(r,e,t):fetch(r,{credentials:"same-origin"}).then((n=>WebAssembly.instantiateStreaming(n,e).then(t,(function(n){return R("wasm streaming compile failed: "+n),R("falling back to ArrayBuffer instantiation"),ae(r,e,t)}))))})(t,(function(t){e(t.instance,t.module)})).catch(u)}(),c._OrtInit=(e,t)=>(c._OrtInit=C.X)(e,t),c._OrtGetLastError=(e,t)=>(c._OrtGetLastError=C.Y)(e,t),c._OrtCreateSessionOptions=(e,t,r,n,a,o,i,s,u,l)=>(c._OrtCreateSessionOptions=C.Z)(e,t,r,n,a,o,i,s,u,l),c._OrtAppendExecutionProvider=(e,t)=>(c._OrtAppendExecutionProvider=C._)(e,t),c._OrtAddSessionConfigEntry=(e,t,r)=>(c._OrtAddSessionConfigEntry=C.$)(e,t,r),c._OrtReleaseSessionOptions=e=>(c._OrtReleaseSessionOptions=C.aa)(e),c._OrtCreateSession=(e,t,r)=>(c._OrtCreateSession=C.ba)(e,t,r),c._OrtReleaseSession=e=>(c._OrtReleaseSession=C.ca)(e),c._OrtGetInputOutputCount=(e,t,r)=>(c._OrtGetInputOutputCount=C.da)(e,t,r),c._OrtGetInputName=(e,t)=>(c._OrtGetInputName=C.ea)(e,t),c._OrtGetOutputName=(e,t)=>(c._OrtGetOutputName=C.fa)(e,t),c._OrtFree=e=>(c._OrtFree=C.ga)(e),c._OrtCreateTensor=(e,t,r,n,a)=>(c._OrtCreateTensor=C.ha)(e,t,r,n,a),c._OrtGetTensorData=(e,t,r,n,a)=>(c._OrtGetTensorData=C.ia)(e,t,r,n,a),c._OrtReleaseTensor=e=>(c._OrtReleaseTensor=C.ja)(e),c._OrtCreateRunOptions=(e,t,r,n)=>(c._OrtCreateRunOptions=C.ka)(e,t,r,n),c._OrtAddRunConfigEntry=(e,t,r)=>(c._OrtAddRunConfigEntry=C.la)(e,t,r),c._OrtReleaseRunOptions=e=>(c._OrtReleaseRunOptions=C.ma)(e),c._OrtRun=(e,t,r,n,a,o,i,s)=>(c._OrtRun=C.na)(e,t,r,n,a,o,i,s),c._OrtEndProfiling=e=>(c._OrtEndProfiling=C.oa)(e);var dt=c._pthread_self=()=>(dt=c._pthread_self=C.pa)(),pt=c._malloc=e=>(pt=c._malloc=C.qa)(e);c._free=e=>(c._free=C.ra)(e),c.__emscripten_tls_init=()=>(c.__emscripten_tls_init=C.sa)();var gt=c.__emscripten_thread_init=(e,t,r,n,a,o)=>(gt=c.__emscripten_thread_init=C.ua)(e,t,r,n,a,o);c.__emscripten_thread_crashed=()=>(c.__emscripten_thread_crashed=C.va)();var ht,mt=(e,t,r,n)=>(mt=C.wa)(e,t,r,n),yt=e=>(yt=C.xa)(e),vt=c.__emscripten_thread_exit=e=>(vt=c.__emscripten_thread_exit=C.ya)(e),bt=c.__emscripten_check_mailbox=()=>(bt=c.__emscripten_check_mailbox=C.za)(),wt=e=>(wt=C.Aa)(e),_t=(e,t)=>(_t=C.Ba)(e,t),Ot=()=>(Ot=C.Ca)(),St=e=>(St=C.Da)(e),Et=e=>(Et=C.Ea)(e);function At(){function e(){if(!ht&&(ht=!0,c.calledRun=!0,!H)&&(b||he(N),s(c),c.onRuntimeInitialized&&c.onRuntimeInitialized(),!b)){if(c.postRun)for("function"==typeof c.postRun&&(c.postRun=[c.postRun]);c.postRun.length;){var e=c.postRun.shift();B.unshift(e)}he(B)}}if(!(0<X))if(b)s(c),b||he(N),startWorker(c);else{if(c.preRun)for("function"==typeof c.preRun&&(c.preRun=[c.preRun]);c.preRun.length;)G.unshift(c.preRun.shift());he(G),0<X||(c.setStatus?(c.setStatus("Running..."),setTimeout((function(){setTimeout((function(){c.setStatus("")}),1),e()}),1)):e())}}if(c.keepRuntimeAlive=q,c.wasmMemory=k,c.stackAlloc=Et,c.stackSave=Ot,c.stackRestore=St,c.UTF8ToString=fe,c.stringToUTF8=Ae,c.lengthBytesUTF8=Se,c.ExitStatus=oe,c.PThread=ge,Z=function e(){ht||At(),ht||(Z=e)},c.preInit)for("function"==typeof c.preInit&&(c.preInit=[c.preInit]);0<c.preInit.length;)c.preInit.pop()();return At(),e.ready});e.exports=n},932:(e,t,r)=>{var _scriptDir,n=(_scriptDir="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0,"undefined"!=typeof __filename&&(_scriptDir=_scriptDir||__filename),function(e={}){var t,n,a=e;a.ready=new Promise(((e,r)=>{t=e,n=r}));var o,i,s,u=Object.assign({},a),c="./this.program",l=(e,t)=>{throw t},f="object"==typeof window,d="function"==typeof importScripts,p="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,g="";if(p){var h=r(384),m=r(908);g=d?m.dirname(g)+"/":__dirname+"/",o=(e,t)=>(e=e.startsWith("file://")?new URL(e):m.normalize(e),h.readFileSync(e,t?void 0:"utf8")),s=e=>((e=o(e,!0)).buffer||(e=new Uint8Array(e)),e),i=(e,t,r,n=!0)=>{e=e.startsWith("file://")?new URL(e):m.normalize(e),h.readFile(e,n?void 0:"utf8",((e,a)=>{e?r(e):t(n?a.buffer:a)}))},!a.thisProgram&&1<process.argv.length&&(c=process.argv[1].replace(/\\\\/g,"/")),process.argv.slice(2),l=(e,t)=>{throw process.exitCode=e,t},a.inspect=()=>"[Emscripten Module object]"}else(f||d)&&(d?g=self.location.href:"undefined"!=typeof document&&document.currentScript&&(g=document.currentScript.src),_scriptDir&&(g=_scriptDir),g=0!==g.indexOf("blob:")?g.substr(0,g.replace(/[?#].*/,"").lastIndexOf("/")+1):"",o=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},d&&(s=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),i=(e,t,r)=>{var n=new XMLHttpRequest;n.open("GET",e,!0),n.responseType="arraybuffer",n.onload=()=>{200==n.status||0==n.status&&n.response?t(n.response):r()},n.onerror=r,n.send(null)});var y,v=a.print||console.log.bind(console),b=a.printErr||console.error.bind(console);Object.assign(a,u),u=null,a.thisProgram&&(c=a.thisProgram),a.quit&&(l=a.quit),a.wasmBinary&&(y=a.wasmBinary);var w=a.noExitRuntime||!0;"object"!=typeof WebAssembly&&W("no native wasm support detected");var _,O,S,E,A,T,M=!1;function R(){var e=_.buffer;a.HEAP8=S=new Int8Array(e),a.HEAP16=new Int16Array(e),a.HEAP32=A=new Int32Array(e),a.HEAPU8=E=new Uint8Array(e),a.HEAPU16=new Uint16Array(e),a.HEAPU32=T=new Uint32Array(e),a.HEAPF32=new Float32Array(e),a.HEAPF64=new Float64Array(e)}var F=[],k=[],C=[];function P(){var e=a.preRun.shift();F.unshift(e)}var D,x,I=0,U=null,L=null;function W(e){throw a.onAbort&&a.onAbort(e),b(e="Aborted("+e+")"),M=!0,e=new WebAssembly.RuntimeError(e+". Build with -sASSERTIONS for more info."),n(e),e}function H(e){return e.startsWith("data:application/octet-stream;base64,")}if(!H(D="ort-wasm.wasm")){var Y=D;D=a.locateFile?a.locateFile(Y,g):g+Y}function j(e){if(e==D&&y)return new Uint8Array(y);if(s)return s(e);throw"both async and sync fetching of the wasm failed"}function z(e,t,r){return function(e){if(!y&&(f||d)){if("function"==typeof fetch&&!e.startsWith("file://"))return fetch(e,{credentials:"same-origin"}).then((t=>{if(!t.ok)throw"failed to load wasm binary file at \'"+e+"\'";return t.arrayBuffer()})).catch((()=>j(e)));if(i)return new Promise(((t,r)=>{i(e,(e=>t(new Uint8Array(e))),r)}))}return Promise.resolve().then((()=>j(e)))}(e).then((e=>WebAssembly.instantiate(e,t))).then((e=>e)).then(r,(e=>{b("failed to asynchronously prepare wasm: "+e),W(e)}))}function G(e){this.name="ExitStatus",this.message=`Program terminated with exit(${e})`,this.status=e}var N=e=>{for(;0<e.length;)e.shift()(a)};function B(e){this.qa=e-24,this.va=function(e){T[this.qa+4>>2>>>0]=e},this.ua=function(e){T[this.qa+8>>2>>>0]=e},this.sa=function(e,t){this.ta(),this.va(e),this.ua(t)},this.ta=function(){T[this.qa+16>>2>>>0]=0}}var $,q="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0,V=(e,t,r)=>{var n=(t>>>=0)+r;for(r=t;e[r]&&!(r>=n);)++r;if(16<r-t&&e.buffer&&q)return q.decode(e.subarray(t,r));for(n="";t<r;){var a=e[t++];if(128&a){var o=63&e[t++];if(192==(224&a))n+=String.fromCharCode((31&a)<<6|o);else{var i=63&e[t++];65536>(a=224==(240&a)?(15&a)<<12|o<<6|i:(7&a)<<18|o<<12|i<<6|63&e[t++])?n+=String.fromCharCode(a):(a-=65536,n+=String.fromCharCode(55296|a>>10,56320|1023&a))}}else n+=String.fromCharCode(a)}return n},J=(e,t)=>(e>>>=0)?V(E,e,t):"",X=e=>{for(var t=0,r=0;r<e.length;++r){var n=e.charCodeAt(r);127>=n?t++:2047>=n?t+=2:55296<=n&&57343>=n?(t+=4,++r):t+=3}return t},K=(e,t,r,n)=>{if(!(0<n))return 0;var a=r>>>=0;n=r+n-1;for(var o=0;o<e.length;++o){var i=e.charCodeAt(o);if(55296<=i&&57343>=i&&(i=65536+((1023&i)<<10)|1023&e.charCodeAt(++o)),127>=i){if(r>=n)break;t[r++>>>0]=i}else{if(2047>=i){if(r+1>=n)break;t[r++>>>0]=192|i>>6}else{if(65535>=i){if(r+2>=n)break;t[r++>>>0]=224|i>>12}else{if(r+3>=n)break;t[r++>>>0]=240|i>>18,t[r++>>>0]=128|i>>12&63}t[r++>>>0]=128|i>>6&63}t[r++>>>0]=128|63&i}}return t[r>>>0]=0,r-a},Z=e=>0==e%4&&(0!=e%100||0==e%400),Q=[0,31,60,91,121,152,182,213,244,274,305,335],ee=[0,31,59,90,120,151,181,212,243,273,304,334],te=e=>{var t=X(e)+1,r=le(t);return r&&K(e,E,r,t),r},re={},ne=()=>{if(!$){var e,t={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:c||"./this.program"};for(e in re)void 0===re[e]?delete t[e]:t[e]=re[e];var r=[];for(e in t)r.push(`${e}=${t[e]}`);$=r}return $},ae=[null,[],[]],oe=e=>(oe=(()=>{if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues)return e=>crypto.getRandomValues(e);if(p)try{var e=r(760);if(e.randomFillSync)return t=>e.randomFillSync(t);var t=e.randomBytes;return e=>(e.set(t(e.byteLength)),e)}catch(e){}W("initRandomDevice")})())(e),ie=[31,29,31,30,31,30,31,31,30,31,30,31],se=[31,28,31,30,31,30,31,31,30,31,30,31];function ue(e,t,r,n){function a(e,t,r){for(e="number"==typeof e?e.toString():e||"";e.length<t;)e=r[0]+e;return e}function o(e,t){return a(e,t,"0")}function i(e,t){function r(e){return 0>e?-1:0<e?1:0}var n;return 0===(n=r(e.getFullYear()-t.getFullYear()))&&0===(n=r(e.getMonth()-t.getMonth()))&&(n=r(e.getDate()-t.getDate())),n}function s(e){switch(e.getDay()){case 0:return new Date(e.getFullYear()-1,11,29);case 1:return e;case 2:return new Date(e.getFullYear(),0,3);case 3:return new Date(e.getFullYear(),0,2);case 4:return new Date(e.getFullYear(),0,1);case 5:return new Date(e.getFullYear()-1,11,31);case 6:return new Date(e.getFullYear()-1,11,30)}}function u(e){var t=e.ma;for(e=new Date(new Date(e.na+1900,0,1).getTime());0<t;){var r=e.getMonth(),n=(Z(e.getFullYear())?ie:se)[r];if(!(t>n-e.getDate())){e.setDate(e.getDate()+t);break}t-=n-e.getDate()+1,e.setDate(1),11>r?e.setMonth(r+1):(e.setMonth(0),e.setFullYear(e.getFullYear()+1))}return r=new Date(e.getFullYear()+1,0,4),t=s(new Date(e.getFullYear(),0,4)),r=s(r),0>=i(t,e)?0>=i(r,e)?e.getFullYear()+1:e.getFullYear():e.getFullYear()-1}e>>>=0,t>>>=0,r>>>=0;var c=A[40+(n>>>=0)>>2>>>0];for(var l in n={ya:A[n>>2>>>0],xa:A[n+4>>2>>>0],oa:A[n+8>>2>>>0],ra:A[n+12>>2>>>0],pa:A[n+16>>2>>>0],na:A[n+20>>2>>>0],ha:A[n+24>>2>>>0],ma:A[n+28>>2>>>0],Aa:A[n+32>>2>>>0],wa:A[n+36>>2>>>0],za:c?J(c):""},r=J(r),c={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"})r=r.replace(new RegExp(l,"g"),c[l]);var f="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),d="January February March April May June July August September October November December".split(" ");for(l in c={"%a":e=>f[e.ha].substring(0,3),"%A":e=>f[e.ha],"%b":e=>d[e.pa].substring(0,3),"%B":e=>d[e.pa],"%C":e=>o((e.na+1900)/100|0,2),"%d":e=>o(e.ra,2),"%e":e=>a(e.ra,2," "),"%g":e=>u(e).toString().substring(2),"%G":e=>u(e),"%H":e=>o(e.oa,2),"%I":e=>(0==(e=e.oa)?e=12:12<e&&(e-=12),o(e,2)),"%j":e=>{for(var t=0,r=0;r<=e.pa-1;t+=(Z(e.na+1900)?ie:se)[r++]);return o(e.ra+t,3)},"%m":e=>o(e.pa+1,2),"%M":e=>o(e.xa,2),"%n":()=>"\\n","%p":e=>0<=e.oa&&12>e.oa?"AM":"PM","%S":e=>o(e.ya,2),"%t":()=>"\\t","%u":e=>e.ha||7,"%U":e=>o(Math.floor((e.ma+7-e.ha)/7),2),"%V":e=>{var t=Math.floor((e.ma+7-(e.ha+6)%7)/7);if(2>=(e.ha+371-e.ma-2)%7&&t++,t)53==t&&(4==(r=(e.ha+371-e.ma)%7)||3==r&&Z(e.na)||(t=1));else{t=52;var r=(e.ha+7-e.ma-1)%7;(4==r||5==r&&Z(e.na%400-1))&&t++}return o(t,2)},"%w":e=>e.ha,"%W":e=>o(Math.floor((e.ma+7-(e.ha+6)%7)/7),2),"%y":e=>(e.na+1900).toString().substring(2),"%Y":e=>e.na+1900,"%z":e=>{var t=0<=(e=e.wa);return e=Math.abs(e)/60,(t?"+":"-")+String("0000"+(e/60*100+e%60)).slice(-4)},"%Z":e=>e.za,"%%":()=>"%"},r=r.replace(/%%/g,"\\0\\0"),c)r.includes(l)&&(r=r.replace(new RegExp(l,"g"),c[l](n)));return l=function(e){var t=Array(X(e)+1);return K(e,t,0,t.length),t}(r=r.replace(/\\0\\0/g,"%")),l.length>t?0:(S.set(l,e>>>0),l.length-1)}var ce={a:function(e,t,r){throw new B(e>>>=0).sa(t>>>0,r>>>0),e},e:function(){return 0},I:function(){},y:function(){},A:function(){},K:function(){return 0},G:function(){},B:function(){},F:function(){},g:function(){},z:function(){},w:function(){},H:function(){},x:function(){},k:()=>!0,n:function(e,t,r){e=t+2097152>>>0<4194305-!!e?(e>>>0)+4294967296*t:NaN,r>>>=0,e=new Date(1e3*e),A[r>>2>>>0]=e.getUTCSeconds(),A[r+4>>2>>>0]=e.getUTCMinutes(),A[r+8>>2>>>0]=e.getUTCHours(),A[r+12>>2>>>0]=e.getUTCDate(),A[r+16>>2>>>0]=e.getUTCMonth(),A[r+20>>2>>>0]=e.getUTCFullYear()-1900,A[r+24>>2>>>0]=e.getUTCDay(),A[r+28>>2>>>0]=(e.getTime()-Date.UTC(e.getUTCFullYear(),0,1,0,0,0,0))/864e5|0},o:function(e,t,r){e=t+2097152>>>0<4194305-!!e?(e>>>0)+4294967296*t:NaN,r>>>=0,e=new Date(1e3*e),A[r>>2>>>0]=e.getSeconds(),A[r+4>>2>>>0]=e.getMinutes(),A[r+8>>2>>>0]=e.getHours(),A[r+12>>2>>>0]=e.getDate(),A[r+16>>2>>>0]=e.getMonth(),A[r+20>>2>>>0]=e.getFullYear()-1900,A[r+24>>2>>>0]=e.getDay(),A[r+28>>2>>>0]=(Z(e.getFullYear())?Q:ee)[e.getMonth()]+e.getDate()-1|0,A[r+36>>2>>>0]=-60*e.getTimezoneOffset(),t=new Date(e.getFullYear(),6,1).getTimezoneOffset();var n=new Date(e.getFullYear(),0,1).getTimezoneOffset();A[r+32>>2>>>0]=0|(t!=n&&e.getTimezoneOffset()==Math.min(n,t))},p:function(e){e>>>=0;var t=new Date(A[e+20>>2>>>0]+1900,A[e+16>>2>>>0],A[e+12>>2>>>0],A[e+8>>2>>>0],A[e+4>>2>>>0],A[e>>2>>>0],0),r=A[e+32>>2>>>0],n=t.getTimezoneOffset(),a=new Date(t.getFullYear(),6,1).getTimezoneOffset(),o=new Date(t.getFullYear(),0,1).getTimezoneOffset(),i=Math.min(o,a);return 0>r?A[e+32>>2>>>0]=Number(a!=o&&i==n):0<r!=(i==n)&&(a=Math.max(o,a),t.setTime(t.getTime()+6e4*((0<r?i:a)-n))),A[e+24>>2>>>0]=t.getDay(),A[e+28>>2>>>0]=(Z(t.getFullYear())?Q:ee)[t.getMonth()]+t.getDate()-1|0,A[e>>2>>>0]=t.getSeconds(),A[e+4>>2>>>0]=t.getMinutes(),A[e+8>>2>>>0]=t.getHours(),A[e+12>>2>>>0]=t.getDate(),A[e+16>>2>>>0]=t.getMonth(),A[e+20>>2>>>0]=t.getYear(),e=t.getTime()/1e3,de((x=e,1<=+Math.abs(x)?0<x?+Math.floor(x/4294967296)>>>0:~~+Math.ceil((x-+(~~x>>>0))/4294967296)>>>0:0)),e>>>0},l:function(){return-52},m:function(){},u:function(e,t,r){function n(e){return(e=e.toTimeString().match(/\\(([A-Za-z ]+)\\)$/))?e[1]:"GMT"}r>>>=0;var a=(new Date).getFullYear(),o=new Date(a,0,1),i=new Date(a,6,1);a=o.getTimezoneOffset();var s=i.getTimezoneOffset();T[e>>>0>>2>>>0]=60*Math.max(a,s),A[t>>>0>>2>>>0]=Number(a!=s),e=n(o),t=n(i),e=te(e),t=te(t),s<a?(T[r>>2>>>0]=e,T[r+4>>2>>>0]=t):(T[r>>2>>>0]=t,T[r+4>>2>>>0]=e)},d:()=>{W("")},h:function(){return Date.now()},v:function(){return 4294901760},b:()=>performance.now(),J:function(e,t,r){return t>>>=0,E.copyWithin(e>>>0>>>0,t>>>0,t+(r>>>0)>>>0)},t:function(e){e>>>=0;var t=E.length;if(4294901760<e)return!1;for(var r=1;4>=r;r*=2){var n=t*(1+.2/r);n=Math.min(n,e+100663296);var a=Math;n=Math.max(e,n);e:{a=a.min.call(a,4294901760,n+(65536-n%65536)%65536)-_.buffer.byteLength+65535>>>16;try{_.grow(a),R();var o=1;break e}catch(e){}o=void 0}if(o)return!0}return!1},D:function(e,t){e>>>=0,t>>>=0;var r=0;return ne().forEach((function(n,a){var o=t+r;for(a=T[e+4*a>>2>>>0]=o,o=0;o<n.length;++o)S[a++>>0>>>0]=n.charCodeAt(o);S[a>>0>>>0]=0,r+=n.length+1})),0},E:function(e,t){e>>>=0,t>>>=0;var r=ne();T[e>>2>>>0]=r.length;var n=0;return r.forEach((function(e){n+=e.length+1})),T[t>>2>>>0]=n,0},s:e=>{w||(a.onExit&&a.onExit(e),M=!0),l(e,new G(e))},f:()=>52,j:function(){return 52},q:function(){return 70},i:function(e,t,r,n){t>>>=0,r>>>=0,n>>>=0;for(var a=0,o=0;o<r;o++){var i=T[t>>2>>>0],s=T[t+4>>2>>>0];t+=8;for(var u=0;u<s;u++){var c=E[i+u>>>0],l=ae[e];0===c||10===c?((1===e?v:b)(V(l,0)),l.length=0):l.push(c)}a+=s}return T[n>>2>>>0]=a,0},r:function(e,t){return e>>>=0,oe(E.subarray(e>>>0,e+(t>>>0)>>>0)),0},C:ue,c:function(e,t,r,n){return ue(e>>>0,t>>>0,r>>>0,n>>>0)}};!function(){function e(e){if(e=e.exports,O=e=function(e){var t=e=>()=>e()>>>0,r=e=>t=>e(t)>>>0;return(e=Object.assign({},e)).__errno_location=t(e.__errno_location),e.malloc=r(e.malloc),e.stackSave=t(e.stackSave),e.stackAlloc=r(e.stackAlloc),e}(e),_=O.L,R(),k.unshift(O.M),I--,a.monitorRunDependencies&&a.monitorRunDependencies(I),0==I&&(null!==U&&(clearInterval(U),U=null),L)){var t=L;L=null,t()}return e}var t={a:ce};if(I++,a.monitorRunDependencies&&a.monitorRunDependencies(I),a.instantiateWasm)try{return a.instantiateWasm(t,e)}catch(e){b("Module.instantiateWasm callback failed with error: "+e),n(e)}(function(e,t){var r=D;return y||"function"!=typeof WebAssembly.instantiateStreaming||H(r)||r.startsWith("file://")||p||"function"!=typeof fetch?z(r,e,t):fetch(r,{credentials:"same-origin"}).then((n=>WebAssembly.instantiateStreaming(n,e).then(t,(function(n){return b("wasm streaming compile failed: "+n),b("falling back to ArrayBuffer instantiation"),z(r,e,t)}))))})(t,(function(t){e(t.instance)})).catch(n)}(),a._OrtInit=(e,t)=>(a._OrtInit=O.N)(e,t),a._OrtGetLastError=(e,t)=>(a._OrtGetLastError=O.O)(e,t),a._OrtCreateSessionOptions=(e,t,r,n,o,i,s,u,c,l)=>(a._OrtCreateSessionOptions=O.P)(e,t,r,n,o,i,s,u,c,l),a._OrtAppendExecutionProvider=(e,t)=>(a._OrtAppendExecutionProvider=O.Q)(e,t),a._OrtAddSessionConfigEntry=(e,t,r)=>(a._OrtAddSessionConfigEntry=O.R)(e,t,r),a._OrtReleaseSessionOptions=e=>(a._OrtReleaseSessionOptions=O.S)(e),a._OrtCreateSession=(e,t,r)=>(a._OrtCreateSession=O.T)(e,t,r),a._OrtReleaseSession=e=>(a._OrtReleaseSession=O.U)(e),a._OrtGetInputOutputCount=(e,t,r)=>(a._OrtGetInputOutputCount=O.V)(e,t,r),a._OrtGetInputName=(e,t)=>(a._OrtGetInputName=O.W)(e,t),a._OrtGetOutputName=(e,t)=>(a._OrtGetOutputName=O.X)(e,t),a._OrtFree=e=>(a._OrtFree=O.Y)(e),a._OrtCreateTensor=(e,t,r,n,o)=>(a._OrtCreateTensor=O.Z)(e,t,r,n,o),a._OrtGetTensorData=(e,t,r,n,o)=>(a._OrtGetTensorData=O._)(e,t,r,n,o),a._OrtReleaseTensor=e=>(a._OrtReleaseTensor=O.$)(e),a._OrtCreateRunOptions=(e,t,r,n)=>(a._OrtCreateRunOptions=O.aa)(e,t,r,n),a._OrtAddRunConfigEntry=(e,t,r)=>(a._OrtAddRunConfigEntry=O.ba)(e,t,r),a._OrtReleaseRunOptions=e=>(a._OrtReleaseRunOptions=O.ca)(e),a._OrtRun=(e,t,r,n,o,i,s,u)=>(a._OrtRun=O.da)(e,t,r,n,o,i,s,u),a._OrtEndProfiling=e=>(a._OrtEndProfiling=O.ea)(e);var le=a._malloc=e=>(le=a._malloc=O.fa)(e);a._free=e=>(a._free=O.ga)(e);var fe,de=e=>(de=O.ia)(e),pe=()=>(pe=O.ja)(),ge=e=>(ge=O.ka)(e),he=e=>(he=O.la)(e);function me(){function e(){if(!fe&&(fe=!0,a.calledRun=!0,!M)){if(N(k),t(a),a.onRuntimeInitialized&&a.onRuntimeInitialized(),a.postRun)for("function"==typeof a.postRun&&(a.postRun=[a.postRun]);a.postRun.length;){var e=a.postRun.shift();C.unshift(e)}N(C)}}if(!(0<I)){if(a.preRun)for("function"==typeof a.preRun&&(a.preRun=[a.preRun]);a.preRun.length;)P();N(F),0<I||(a.setStatus?(a.setStatus("Running..."),setTimeout((function(){setTimeout((function(){a.setStatus("")}),1),e()}),1)):e())}}if(a.stackAlloc=he,a.stackSave=pe,a.stackRestore=ge,a.UTF8ToString=J,a.stringToUTF8=(e,t,r)=>K(e,E,t,r),a.lengthBytesUTF8=X,L=function e(){fe||me(),fe||(L=e)},a.preInit)for("function"==typeof a.preInit&&(a.preInit=[a.preInit]);0<a.preInit.length;)a.preInit.pop()();return me(),e.ready});e.exports=n},154:e=>{"use strict";e.exports=\'"use strict";var e={},a="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node;if(a){var r=require("worker_threads"),t=r.parentPort;t.on("message",(e=>onmessage({data:e})));var s=require("fs");Object.assign(global,{self:global,require:require,Module:e,location:{href:__filename},Worker:r.Worker,importScripts:e=>(0,eval)(s.readFileSync(e,"utf8")+"//# sourceURL="+e),postMessage:e=>t.postMessage(e),performance:global.performance||{now:Date.now}})}var o=!1,d=function(){var e=Array.prototype.slice.call(arguments).join(" ");a?s.writeSync(2,e+"\\\\n"):console.error(e)};self.alert=function(){var a=Array.prototype.slice.call(arguments).join(" ");postMessage({cmd:"alert",text:a,threadId:e._pthread_self()})},e.instantiateWasm=(a,r)=>{var t=e.wasmModule;return e.wasmModule=null,r(new WebAssembly.Instance(t,a))},self.onunhandledrejection=e=>{throw e.reason??e},self.onmessage=function a(r){try{if("load"===r.data.cmd){let s=[];self.onmessage=e=>s.push(e),self.startWorker=r=>{e=r,postMessage({cmd:"loaded"});for(let e of s)a(e);self.onmessage=a},e.wasmModule=r.data.wasmModule;for(const a of r.data.handlers)e[a]=(...e)=>{postMessage({cmd:"callHandler",handler:a,args:e})};if(e.wasmMemory=r.data.wasmMemory,e.buffer=e.wasmMemory.buffer,e.ENVIRONMENT_IS_PTHREAD=!0,"string"==typeof r.data.urlOrBlob)importScripts(r.data.urlOrBlob);else{var t=URL.createObjectURL(r.data.urlOrBlob);importScripts(t),URL.revokeObjectURL(t)}ortWasmThreaded(e)}else if("run"===r.data.cmd){e.__emscripten_thread_init(r.data.pthread_ptr,0,0,1),e.__emscripten_thread_mailbox_await(r.data.pthread_ptr),e.establishStackSpace(),e.PThread.receiveObjectTransfer(r.data),e.PThread.threadInitTLS(),o||(o=!0);try{e.invokeEntryPoint(r.data.start_routine,r.data.arg)}catch(e){if("unwind"!=e)throw e}}else"cancel"===r.data.cmd?e._pthread_self()&&e.__emscripten_thread_exit(-1):"setimmediate"===r.data.target||("checkMailbox"===r.data.cmd?o&&e.checkMailbox():r.data.cmd&&(d("worker.js received unknown command "+r.data.cmd),d(r.data)))}catch(a){throw e.__emscripten_thread_crashed&&e.__emscripten_thread_crashed(),a}};\\n\'},760:()=>{},384:()=>{},993:()=>{},908:()=>{},953:()=>{},925:()=>{},449:()=>{}},t={};function r(n){var a=t[n];if(void 0!==a)return a.exports;var o=t[n]={exports:{}};return e[n].call(o.exports,o,o.exports,r),o.exports}(()=>{"use strict";const e=r(259),t=r(263);self.onmessage=r=>{switch(r.data.type){case"init-wasm":try{(0,t.initializeWebAssembly)(r.data.in).then((()=>postMessage({type:"init-wasm"})),(e=>postMessage({type:"init-wasm",err:e})))}catch(e){postMessage({type:"init-wasm",err:e})}break;case"init-ort":try{(0,e.initRuntime)(r.data.in).then((()=>postMessage({type:"init-ort"})),(e=>postMessage({type:"init-ort",err:e}))),postMessage({type:"init-ort"})}catch(e){postMessage({type:"init-ort",err:e})}break;case"create_allocate":try{const{model:t}=r.data.in,n=(0,e.createSessionAllocate)(t);postMessage({type:"create_allocate",out:n})}catch(e){postMessage({type:"create_allocate",err:e})}break;case"create_finalize":try{const{modeldata:t,options:n}=r.data.in,a=(0,e.createSessionFinalize)(t,n);postMessage({type:"create_finalize",out:a})}catch(e){postMessage({type:"create_finalize",err:e})}break;case"create":try{const{model:t,options:n}=r.data.in,a=(0,e.createSession)(t,n);postMessage({type:"create",out:a})}catch(e){postMessage({type:"create",err:e})}break;case"release":try{const t=r.data.in;(0,e.releaseSession)(t),postMessage({type:"release"})}catch(e){postMessage({type:"release",err:e})}break;case"run":try{const{sessionId:t,inputIndices:n,inputs:a,outputIndices:o,options:i}=r.data.in;(0,e.run)(t,n,a,o,i).then((t=>{postMessage({type:"run",out:t},(0,e.extractTransferableBuffers)(t))}),(e=>{postMessage({type:"run",err:e})}))}catch(e){postMessage({type:"run",err:e})}break;case"end-profiling":try{const t=r.data.in;(0,e.endProfiling)(t),postMessage({type:"end-profiling"})}catch(e){postMessage({type:"end-profiling",err:e})}}}})()})();\n',"Worker",void 0,void 0)}},6614:N=>{N.exports=function(c,w,b,d){var h=self||window;try{try{var p;try{p=new h.Blob([c])}catch{(p=new(h.BlobBuilder||h.WebKitBlobBuilder||h.MozBlobBuilder||h.MSBlobBuilder)).append(c),p=p.getBlob()}var u=h.URL||h.webkitURL,l=u.createObjectURL(p),a=new h[w](l,b);return u.revokeObjectURL(l),a}catch{return new h[w]("data:application/javascript,".concat(encodeURIComponent(c)),b)}}catch{if(!d)throw Error("Inline worker is not supported");return new h[w](d,b)}}},2446:(N,c,w)=>{var b,d,h,p=w(2100),u=p.Reader,l=p.Writer,a=p.util,o=p.roots.default||(p.roots.default={});o.onnx=((h={}).Version=(b={},(d=Object.create(b))[b[0]="_START_VERSION"]=0,d[b[1]="IR_VERSION_2017_10_10"]=1,d[b[2]="IR_VERSION_2017_10_30"]=2,d[b[3]="IR_VERSION_2017_11_3"]=3,d[b[4]="IR_VERSION_2019_1_22"]=4,d[b[5]="IR_VERSION_2019_3_18"]=5,d[b[6]="IR_VERSION_2019_9_19"]=6,d[b[7]="IR_VERSION_2020_5_8"]=7,d[b[8]="IR_VERSION_2021_7_30"]=8,d[b[9]="IR_VERSION"]=9,d),h.AttributeProto=function(){function n(t){if(this.floats=[],this.ints=[],this.strings=[],this.tensors=[],this.graphs=[],this.sparseTensors=[],this.typeProtos=[],t)for(var e=Object.keys(t),r=0;r<e.length;++r)t[e[r]]!=null&&(this[e[r]]=t[e[r]])}return n.prototype.name="",n.prototype.refAttrName="",n.prototype.docString="",n.prototype.type=0,n.prototype.f=0,n.prototype.i=a.Long?a.Long.fromBits(0,0,!1):0,n.prototype.s=a.newBuffer([]),n.prototype.t=null,n.prototype.g=null,n.prototype.sparseTensor=null,n.prototype.tp=null,n.prototype.floats=a.emptyArray,n.prototype.ints=a.emptyArray,n.prototype.strings=a.emptyArray,n.prototype.tensors=a.emptyArray,n.prototype.graphs=a.emptyArray,n.prototype.sparseTensors=a.emptyArray,n.prototype.typeProtos=a.emptyArray,n.create=function(t){return new n(t)},n.encode=function(t,e){if(e||(e=l.create()),t.name!=null&&Object.hasOwnProperty.call(t,"name")&&e.uint32(10).string(t.name),t.f!=null&&Object.hasOwnProperty.call(t,"f")&&e.uint32(21).float(t.f),t.i!=null&&Object.hasOwnProperty.call(t,"i")&&e.uint32(24).int64(t.i),t.s!=null&&Object.hasOwnProperty.call(t,"s")&&e.uint32(34).bytes(t.s),t.t!=null&&Object.hasOwnProperty.call(t,"t")&&o.onnx.TensorProto.encode(t.t,e.uint32(42).fork()).ldelim(),t.g!=null&&Object.hasOwnProperty.call(t,"g")&&o.onnx.GraphProto.encode(t.g,e.uint32(50).fork()).ldelim(),t.floats!=null&&t.floats.length){e.uint32(58).fork();for(var r=0;r<t.floats.length;++r)e.float(t.floats[r]);e.ldelim()}if(t.ints!=null&&t.ints.length){for(e.uint32(66).fork(),r=0;r<t.ints.length;++r)e.int64(t.ints[r]);e.ldelim()}if(t.strings!=null&&t.strings.length)for(r=0;r<t.strings.length;++r)e.uint32(74).bytes(t.strings[r]);if(t.tensors!=null&&t.tensors.length)for(r=0;r<t.tensors.length;++r)o.onnx.TensorProto.encode(t.tensors[r],e.uint32(82).fork()).ldelim();if(t.graphs!=null&&t.graphs.length)for(r=0;r<t.graphs.length;++r)o.onnx.GraphProto.encode(t.graphs[r],e.uint32(90).fork()).ldelim();if(t.docString!=null&&Object.hasOwnProperty.call(t,"docString")&&e.uint32(106).string(t.docString),t.tp!=null&&Object.hasOwnProperty.call(t,"tp")&&o.onnx.TypeProto.encode(t.tp,e.uint32(114).fork()).ldelim(),t.typeProtos!=null&&t.typeProtos.length)for(r=0;r<t.typeProtos.length;++r)o.onnx.TypeProto.encode(t.typeProtos[r],e.uint32(122).fork()).ldelim();if(t.type!=null&&Object.hasOwnProperty.call(t,"type")&&e.uint32(160).int32(t.type),t.refAttrName!=null&&Object.hasOwnProperty.call(t,"refAttrName")&&e.uint32(170).string(t.refAttrName),t.sparseTensor!=null&&Object.hasOwnProperty.call(t,"sparseTensor")&&o.onnx.SparseTensorProto.encode(t.sparseTensor,e.uint32(178).fork()).ldelim(),t.sparseTensors!=null&&t.sparseTensors.length)for(r=0;r<t.sparseTensors.length;++r)o.onnx.SparseTensorProto.encode(t.sparseTensors[r],e.uint32(186).fork()).ldelim();return e},n.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},n.decode=function(t,e){t instanceof u||(t=u.create(t));for(var r=e===void 0?t.len:t.pos+e,i=new o.onnx.AttributeProto;t.pos<r;){var s=t.uint32();switch(s>>>3){case 1:i.name=t.string();break;case 21:i.refAttrName=t.string();break;case 13:i.docString=t.string();break;case 20:i.type=t.int32();break;case 2:i.f=t.float();break;case 3:i.i=t.int64();break;case 4:i.s=t.bytes();break;case 5:i.t=o.onnx.TensorProto.decode(t,t.uint32());break;case 6:i.g=o.onnx.GraphProto.decode(t,t.uint32());break;case 22:i.sparseTensor=o.onnx.SparseTensorProto.decode(t,t.uint32());break;case 14:i.tp=o.onnx.TypeProto.decode(t,t.uint32());break;case 7:if(i.floats&&i.floats.length||(i.floats=[]),(7&s)==2)for(var f=t.uint32()+t.pos;t.pos<f;)i.floats.push(t.float());else i.floats.push(t.float());break;case 8:if(i.ints&&i.ints.length||(i.ints=[]),(7&s)==2)for(f=t.uint32()+t.pos;t.pos<f;)i.ints.push(t.int64());else i.ints.push(t.int64());break;case 9:i.strings&&i.strings.length||(i.strings=[]),i.strings.push(t.bytes());break;case 10:i.tensors&&i.tensors.length||(i.tensors=[]),i.tensors.push(o.onnx.TensorProto.decode(t,t.uint32()));break;case 11:i.graphs&&i.graphs.length||(i.graphs=[]),i.graphs.push(o.onnx.GraphProto.decode(t,t.uint32()));break;case 23:i.sparseTensors&&i.sparseTensors.length||(i.sparseTensors=[]),i.sparseTensors.push(o.onnx.SparseTensorProto.decode(t,t.uint32()));break;case 15:i.typeProtos&&i.typeProtos.length||(i.typeProtos=[]),i.typeProtos.push(o.onnx.TypeProto.decode(t,t.uint32()));break;default:t.skipType(7&s)}}return i},n.decodeDelimited=function(t){return t instanceof u||(t=new u(t)),this.decode(t,t.uint32())},n.verify=function(t){if(typeof t!="object"||t===null)return"object expected";if(t.name!=null&&t.hasOwnProperty("name")&&!a.isString(t.name))return"name: string expected";if(t.refAttrName!=null&&t.hasOwnProperty("refAttrName")&&!a.isString(t.refAttrName))return"refAttrName: string expected";if(t.docString!=null&&t.hasOwnProperty("docString")&&!a.isString(t.docString))return"docString: string expected";if(t.type!=null&&t.hasOwnProperty("type"))switch(t.type){default:return"type: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:case 11:case 13:case 6:case 7:case 8:case 9:case 10:case 12:case 14:}if(t.f!=null&&t.hasOwnProperty("f")&&typeof t.f!="number")return"f: number expected";if(t.i!=null&&t.hasOwnProperty("i")&&!(a.isInteger(t.i)||t.i&&a.isInteger(t.i.low)&&a.isInteger(t.i.high)))return"i: integer|Long expected";if(t.s!=null&&t.hasOwnProperty("s")&&!(t.s&&typeof t.s.length=="number"||a.isString(t.s)))return"s: buffer expected";if(t.t!=null&&t.hasOwnProperty("t")&&(r=o.onnx.TensorProto.verify(t.t)))return"t."+r;if(t.g!=null&&t.hasOwnProperty("g")&&(r=o.onnx.GraphProto.verify(t.g)))return"g."+r;if(t.sparseTensor!=null&&t.hasOwnProperty("sparseTensor")&&(r=o.onnx.SparseTensorProto.verify(t.sparseTensor)))return"sparseTensor."+r;if(t.tp!=null&&t.hasOwnProperty("tp")&&(r=o.onnx.TypeProto.verify(t.tp)))return"tp."+r;if(t.floats!=null&&t.hasOwnProperty("floats")){if(!Array.isArray(t.floats))return"floats: array expected";for(var e=0;e<t.floats.length;++e)if(typeof t.floats[e]!="number")return"floats: number[] expected"}if(t.ints!=null&&t.hasOwnProperty("ints")){if(!Array.isArray(t.ints))return"ints: array expected";for(e=0;e<t.ints.length;++e)if(!(a.isInteger(t.ints[e])||t.ints[e]&&a.isInteger(t.ints[e].low)&&a.isInteger(t.ints[e].high)))return"ints: integer|Long[] expected"}if(t.strings!=null&&t.hasOwnProperty("strings")){if(!Array.isArray(t.strings))return"strings: array expected";for(e=0;e<t.strings.length;++e)if(!(t.strings[e]&&typeof t.strings[e].length=="number"||a.isString(t.strings[e])))return"strings: buffer[] expected"}if(t.tensors!=null&&t.hasOwnProperty("tensors")){if(!Array.isArray(t.tensors))return"tensors: array expected";for(e=0;e<t.tensors.length;++e)if(r=o.onnx.TensorProto.verify(t.tensors[e]))return"tensors."+r}if(t.graphs!=null&&t.hasOwnProperty("graphs")){if(!Array.isArray(t.graphs))return"graphs: array expected";for(e=0;e<t.graphs.length;++e)if(r=o.onnx.GraphProto.verify(t.graphs[e]))return"graphs."+r}if(t.sparseTensors!=null&&t.hasOwnProperty("sparseTensors")){if(!Array.isArray(t.sparseTensors))return"sparseTensors: array expected";for(e=0;e<t.sparseTensors.length;++e)if(r=o.onnx.SparseTensorProto.verify(t.sparseTensors[e]))return"sparseTensors."+r}if(t.typeProtos!=null&&t.hasOwnProperty("typeProtos")){if(!Array.isArray(t.typeProtos))return"typeProtos: array expected";for(e=0;e<t.typeProtos.length;++e){var r;if(r=o.onnx.TypeProto.verify(t.typeProtos[e]))return"typeProtos."+r}}return null},n.fromObject=function(t){if(t instanceof o.onnx.AttributeProto)return t;var e=new o.onnx.AttributeProto;switch(t.name!=null&&(e.name=String(t.name)),t.refAttrName!=null&&(e.refAttrName=String(t.refAttrName)),t.docString!=null&&(e.docString=String(t.docString)),t.type){default:if(typeof t.type=="number"){e.type=t.type;break}break;case"UNDEFINED":case 0:e.type=0;break;case"FLOAT":case 1:e.type=1;break;case"INT":case 2:e.type=2;break;case"STRING":case 3:e.type=3;break;case"TENSOR":case 4:e.type=4;break;case"GRAPH":case 5:e.type=5;break;case"SPARSE_TENSOR":case 11:e.type=11;break;case"TYPE_PROTO":case 13:e.type=13;break;case"FLOATS":case 6:e.type=6;break;case"INTS":case 7:e.type=7;break;case"STRINGS":case 8:e.type=8;break;case"TENSORS":case 9:e.type=9;break;case"GRAPHS":case 10:e.type=10;break;case"SPARSE_TENSORS":case 12:e.type=12;break;case"TYPE_PROTOS":case 14:e.type=14}if(t.f!=null&&(e.f=Number(t.f)),t.i!=null&&(a.Long?(e.i=a.Long.fromValue(t.i)).unsigned=!1:typeof t.i=="string"?e.i=parseInt(t.i,10):typeof t.i=="number"?e.i=t.i:typeof t.i=="object"&&(e.i=new a.LongBits(t.i.low>>>0,t.i.high>>>0).toNumber())),t.s!=null&&(typeof t.s=="string"?a.base64.decode(t.s,e.s=a.newBuffer(a.base64.length(t.s)),0):t.s.length>=0&&(e.s=t.s)),t.t!=null){if(typeof t.t!="object")throw TypeError(".onnx.AttributeProto.t: object expected");e.t=o.onnx.TensorProto.fromObject(t.t)}if(t.g!=null){if(typeof t.g!="object")throw TypeError(".onnx.AttributeProto.g: object expected");e.g=o.onnx.GraphProto.fromObject(t.g)}if(t.sparseTensor!=null){if(typeof t.sparseTensor!="object")throw TypeError(".onnx.AttributeProto.sparseTensor: object expected");e.sparseTensor=o.onnx.SparseTensorProto.fromObject(t.sparseTensor)}if(t.tp!=null){if(typeof t.tp!="object")throw TypeError(".onnx.AttributeProto.tp: object expected");e.tp=o.onnx.TypeProto.fromObject(t.tp)}if(t.floats){if(!Array.isArray(t.floats))throw TypeError(".onnx.AttributeProto.floats: array expected");e.floats=[];for(var r=0;r<t.floats.length;++r)e.floats[r]=Number(t.floats[r])}if(t.ints){if(!Array.isArray(t.ints))throw TypeError(".onnx.AttributeProto.ints: array expected");for(e.ints=[],r=0;r<t.ints.length;++r)a.Long?(e.ints[r]=a.Long.fromValue(t.ints[r])).unsigned=!1:typeof t.ints[r]=="string"?e.ints[r]=parseInt(t.ints[r],10):typeof t.ints[r]=="number"?e.ints[r]=t.ints[r]:typeof t.ints[r]=="object"&&(e.ints[r]=new a.LongBits(t.ints[r].low>>>0,t.ints[r].high>>>0).toNumber())}if(t.strings){if(!Array.isArray(t.strings))throw TypeError(".onnx.AttributeProto.strings: array expected");for(e.strings=[],r=0;r<t.strings.length;++r)typeof t.strings[r]=="string"?a.base64.decode(t.strings[r],e.strings[r]=a.newBuffer(a.base64.length(t.strings[r])),0):t.strings[r].length>=0&&(e.strings[r]=t.strings[r])}if(t.tensors){if(!Array.isArray(t.tensors))throw TypeError(".onnx.AttributeProto.tensors: array expected");for(e.tensors=[],r=0;r<t.tensors.length;++r){if(typeof t.tensors[r]!="object")throw TypeError(".onnx.AttributeProto.tensors: object expected");e.tensors[r]=o.onnx.TensorProto.fromObject(t.tensors[r])}}if(t.graphs){if(!Array.isArray(t.graphs))throw TypeError(".onnx.AttributeProto.graphs: array expected");for(e.graphs=[],r=0;r<t.graphs.length;++r){if(typeof t.graphs[r]!="object")throw TypeError(".onnx.AttributeProto.graphs: object expected");e.graphs[r]=o.onnx.GraphProto.fromObject(t.graphs[r])}}if(t.sparseTensors){if(!Array.isArray(t.sparseTensors))throw TypeError(".onnx.AttributeProto.sparseTensors: array expected");for(e.sparseTensors=[],r=0;r<t.sparseTensors.length;++r){if(typeof t.sparseTensors[r]!="object")throw TypeError(".onnx.AttributeProto.sparseTensors: object expected");e.sparseTensors[r]=o.onnx.SparseTensorProto.fromObject(t.sparseTensors[r])}}if(t.typeProtos){if(!Array.isArray(t.typeProtos))throw TypeError(".onnx.AttributeProto.typeProtos: array expected");for(e.typeProtos=[],r=0;r<t.typeProtos.length;++r){if(typeof t.typeProtos[r]!="object")throw TypeError(".onnx.AttributeProto.typeProtos: object expected");e.typeProtos[r]=o.onnx.TypeProto.fromObject(t.typeProtos[r])}}return e},n.toObject=function(t,e){e||(e={});var r={};if((e.arrays||e.defaults)&&(r.floats=[],r.ints=[],r.strings=[],r.tensors=[],r.graphs=[],r.typeProtos=[],r.sparseTensors=[]),e.defaults){if(r.name="",r.f=0,a.Long){var i=new a.Long(0,0,!1);r.i=e.longs===String?i.toString():e.longs===Number?i.toNumber():i}else r.i=e.longs===String?"0":0;e.bytes===String?r.s="":(r.s=[],e.bytes!==Array&&(r.s=a.newBuffer(r.s))),r.t=null,r.g=null,r.docString="",r.tp=null,r.type=e.enums===String?"UNDEFINED":0,r.refAttrName="",r.sparseTensor=null}if(t.name!=null&&t.hasOwnProperty("name")&&(r.name=t.name),t.f!=null&&t.hasOwnProperty("f")&&(r.f=e.json&&!isFinite(t.f)?String(t.f):t.f),t.i!=null&&t.hasOwnProperty("i")&&(typeof t.i=="number"?r.i=e.longs===String?String(t.i):t.i:r.i=e.longs===String?a.Long.prototype.toString.call(t.i):e.longs===Number?new a.LongBits(t.i.low>>>0,t.i.high>>>0).toNumber():t.i),t.s!=null&&t.hasOwnProperty("s")&&(r.s=e.bytes===String?a.base64.encode(t.s,0,t.s.length):e.bytes===Array?Array.prototype.slice.call(t.s):t.s),t.t!=null&&t.hasOwnProperty("t")&&(r.t=o.onnx.TensorProto.toObject(t.t,e)),t.g!=null&&t.hasOwnProperty("g")&&(r.g=o.onnx.GraphProto.toObject(t.g,e)),t.floats&&t.floats.length){r.floats=[];for(var s=0;s<t.floats.length;++s)r.floats[s]=e.json&&!isFinite(t.floats[s])?String(t.floats[s]):t.floats[s]}if(t.ints&&t.ints.length)for(r.ints=[],s=0;s<t.ints.length;++s)typeof t.ints[s]=="number"?r.ints[s]=e.longs===String?String(t.ints[s]):t.ints[s]:r.ints[s]=e.longs===String?a.Long.prototype.toString.call(t.ints[s]):e.longs===Number?new a.LongBits(t.ints[s].low>>>0,t.ints[s].high>>>0).toNumber():t.ints[s];if(t.strings&&t.strings.length)for(r.strings=[],s=0;s<t.strings.length;++s)r.strings[s]=e.bytes===String?a.base64.encode(t.strings[s],0,t.strings[s].length):e.bytes===Array?Array.prototype.slice.call(t.strings[s]):t.strings[s];if(t.tensors&&t.tensors.length)for(r.tensors=[],s=0;s<t.tensors.length;++s)r.tensors[s]=o.onnx.TensorProto.toObject(t.tensors[s],e);if(t.graphs&&t.graphs.length)for(r.graphs=[],s=0;s<t.graphs.length;++s)r.graphs[s]=o.onnx.GraphProto.toObject(t.graphs[s],e);if(t.docString!=null&&t.hasOwnProperty("docString")&&(r.docString=t.docString),t.tp!=null&&t.hasOwnProperty("tp")&&(r.tp=o.onnx.TypeProto.toObject(t.tp,e)),t.typeProtos&&t.typeProtos.length)for(r.typeProtos=[],s=0;s<t.typeProtos.length;++s)r.typeProtos[s]=o.onnx.TypeProto.toObject(t.typeProtos[s],e);if(t.type!=null&&t.hasOwnProperty("type")&&(r.type=e.enums===String?o.onnx.AttributeProto.AttributeType[t.type]===void 0?t.type:o.onnx.AttributeProto.AttributeType[t.type]:t.type),t.refAttrName!=null&&t.hasOwnProperty("refAttrName")&&(r.refAttrName=t.refAttrName),t.sparseTensor!=null&&t.hasOwnProperty("sparseTensor")&&(r.sparseTensor=o.onnx.SparseTensorProto.toObject(t.sparseTensor,e)),t.sparseTensors&&t.sparseTensors.length)for(r.sparseTensors=[],s=0;s<t.sparseTensors.length;++s)r.sparseTensors[s]=o.onnx.SparseTensorProto.toObject(t.sparseTensors[s],e);return r},n.prototype.toJSON=function(){return this.constructor.toObject(this,p.util.toJSONOptions)},n.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/onnx.AttributeProto"},n.AttributeType=function(){var t={},e=Object.create(t);return e[t[0]="UNDEFINED"]=0,e[t[1]="FLOAT"]=1,e[t[2]="INT"]=2,e[t[3]="STRING"]=3,e[t[4]="TENSOR"]=4,e[t[5]="GRAPH"]=5,e[t[11]="SPARSE_TENSOR"]=11,e[t[13]="TYPE_PROTO"]=13,e[t[6]="FLOATS"]=6,e[t[7]="INTS"]=7,e[t[8]="STRINGS"]=8,e[t[9]="TENSORS"]=9,e[t[10]="GRAPHS"]=10,e[t[12]="SPARSE_TENSORS"]=12,e[t[14]="TYPE_PROTOS"]=14,e}(),n}(),h.ValueInfoProto=function(){function n(t){if(t)for(var e=Object.keys(t),r=0;r<e.length;++r)t[e[r]]!=null&&(this[e[r]]=t[e[r]])}return n.prototype.name="",n.prototype.type=null,n.prototype.docString="",n.create=function(t){return new n(t)},n.encode=function(t,e){return e||(e=l.create()),t.name!=null&&Object.hasOwnProperty.call(t,"name")&&e.uint32(10).string(t.name),t.type!=null&&Object.hasOwnProperty.call(t,"type")&&o.onnx.TypeProto.encode(t.type,e.uint32(18).fork()).ldelim(),t.docString!=null&&Object.hasOwnProperty.call(t,"docString")&&e.uint32(26).string(t.docString),e},n.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},n.decode=function(t,e){t instanceof u||(t=u.create(t));for(var r=e===void 0?t.len:t.pos+e,i=new o.onnx.ValueInfoProto;t.pos<r;){var s=t.uint32();switch(s>>>3){case 1:i.name=t.string();break;case 2:i.type=o.onnx.TypeProto.decode(t,t.uint32());break;case 3:i.docString=t.string();break;default:t.skipType(7&s)}}return i},n.decodeDelimited=function(t){return t instanceof u||(t=new u(t)),this.decode(t,t.uint32())},n.verify=function(t){if(typeof t!="object"||t===null)return"object expected";if(t.name!=null&&t.hasOwnProperty("name")&&!a.isString(t.name))return"name: string expected";if(t.type!=null&&t.hasOwnProperty("type")){var e=o.onnx.TypeProto.verify(t.type);if(e)return"type."+e}return t.docString!=null&&t.hasOwnProperty("docString")&&!a.isString(t.docString)?"docString: string expected":null},n.fromObject=function(t){if(t instanceof o.onnx.ValueInfoProto)return t;var e=new o.onnx.ValueInfoProto;if(t.name!=null&&(e.name=String(t.name)),t.type!=null){if(typeof t.type!="object")throw TypeError(".onnx.ValueInfoProto.type: object expected");e.type=o.onnx.TypeProto.fromObject(t.type)}return t.docString!=null&&(e.docString=String(t.docString)),e},n.toObject=function(t,e){e||(e={});var r={};return e.defaults&&(r.name="",r.type=null,r.docString=""),t.name!=null&&t.hasOwnProperty("name")&&(r.name=t.name),t.type!=null&&t.hasOwnProperty("type")&&(r.type=o.onnx.TypeProto.toObject(t.type,e)),t.docString!=null&&t.hasOwnProperty("docString")&&(r.docString=t.docString),r},n.prototype.toJSON=function(){return this.constructor.toObject(this,p.util.toJSONOptions)},n.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/onnx.ValueInfoProto"},n}(),h.NodeProto=function(){function n(t){if(this.input=[],this.output=[],this.attribute=[],t)for(var e=Object.keys(t),r=0;r<e.length;++r)t[e[r]]!=null&&(this[e[r]]=t[e[r]])}return n.prototype.input=a.emptyArray,n.prototype.output=a.emptyArray,n.prototype.name="",n.prototype.opType="",n.prototype.domain="",n.prototype.attribute=a.emptyArray,n.prototype.docString="",n.create=function(t){return new n(t)},n.encode=function(t,e){if(e||(e=l.create()),t.input!=null&&t.input.length)for(var r=0;r<t.input.length;++r)e.uint32(10).string(t.input[r]);if(t.output!=null&&t.output.length)for(r=0;r<t.output.length;++r)e.uint32(18).string(t.output[r]);if(t.name!=null&&Object.hasOwnProperty.call(t,"name")&&e.uint32(26).string(t.name),t.opType!=null&&Object.hasOwnProperty.call(t,"opType")&&e.uint32(34).string(t.opType),t.attribute!=null&&t.attribute.length)for(r=0;r<t.attribute.length;++r)o.onnx.AttributeProto.encode(t.attribute[r],e.uint32(42).fork()).ldelim();return t.docString!=null&&Object.hasOwnProperty.call(t,"docString")&&e.uint32(50).string(t.docString),t.domain!=null&&Object.hasOwnProperty.call(t,"domain")&&e.uint32(58).string(t.domain),e},n.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},n.decode=function(t,e){t instanceof u||(t=u.create(t));for(var r=e===void 0?t.len:t.pos+e,i=new o.onnx.NodeProto;t.pos<r;){var s=t.uint32();switch(s>>>3){case 1:i.input&&i.input.length||(i.input=[]),i.input.push(t.string());break;case 2:i.output&&i.output.length||(i.output=[]),i.output.push(t.string());break;case 3:i.name=t.string();break;case 4:i.opType=t.string();break;case 7:i.domain=t.string();break;case 5:i.attribute&&i.attribute.length||(i.attribute=[]),i.attribute.push(o.onnx.AttributeProto.decode(t,t.uint32()));break;case 6:i.docString=t.string();break;default:t.skipType(7&s)}}return i},n.decodeDelimited=function(t){return t instanceof u||(t=new u(t)),this.decode(t,t.uint32())},n.verify=function(t){if(typeof t!="object"||t===null)return"object expected";if(t.input!=null&&t.hasOwnProperty("input")){if(!Array.isArray(t.input))return"input: array expected";for(var e=0;e<t.input.length;++e)if(!a.isString(t.input[e]))return"input: string[] expected"}if(t.output!=null&&t.hasOwnProperty("output")){if(!Array.isArray(t.output))return"output: array expected";for(e=0;e<t.output.length;++e)if(!a.isString(t.output[e]))return"output: string[] expected"}if(t.name!=null&&t.hasOwnProperty("name")&&!a.isString(t.name))return"name: string expected";if(t.opType!=null&&t.hasOwnProperty("opType")&&!a.isString(t.opType))return"opType: string expected";if(t.domain!=null&&t.hasOwnProperty("domain")&&!a.isString(t.domain))return"domain: string expected";if(t.attribute!=null&&t.hasOwnProperty("attribute")){if(!Array.isArray(t.attribute))return"attribute: array expected";for(e=0;e<t.attribute.length;++e){var r=o.onnx.AttributeProto.verify(t.attribute[e]);if(r)return"attribute."+r}}return t.docString!=null&&t.hasOwnProperty("docString")&&!a.isString(t.docString)?"docString: string expected":null},n.fromObject=function(t){if(t instanceof o.onnx.NodeProto)return t;var e=new o.onnx.NodeProto;if(t.input){if(!Array.isArray(t.input))throw TypeError(".onnx.NodeProto.input: array expected");e.input=[];for(var r=0;r<t.input.length;++r)e.input[r]=String(t.input[r])}if(t.output){if(!Array.isArray(t.output))throw TypeError(".onnx.NodeProto.output: array expected");for(e.output=[],r=0;r<t.output.length;++r)e.output[r]=String(t.output[r])}if(t.name!=null&&(e.name=String(t.name)),t.opType!=null&&(e.opType=String(t.opType)),t.domain!=null&&(e.domain=String(t.domain)),t.attribute){if(!Array.isArray(t.attribute))throw TypeError(".onnx.NodeProto.attribute: array expected");for(e.attribute=[],r=0;r<t.attribute.length;++r){if(typeof t.attribute[r]!="object")throw TypeError(".onnx.NodeProto.attribute: object expected");e.attribute[r]=o.onnx.AttributeProto.fromObject(t.attribute[r])}}return t.docString!=null&&(e.docString=String(t.docString)),e},n.toObject=function(t,e){e||(e={});var r={};if((e.arrays||e.defaults)&&(r.input=[],r.output=[],r.attribute=[]),e.defaults&&(r.name="",r.opType="",r.docString="",r.domain=""),t.input&&t.input.length){r.input=[];for(var i=0;i<t.input.length;++i)r.input[i]=t.input[i]}if(t.output&&t.output.length)for(r.output=[],i=0;i<t.output.length;++i)r.output[i]=t.output[i];if(t.name!=null&&t.hasOwnProperty("name")&&(r.name=t.name),t.opType!=null&&t.hasOwnProperty("opType")&&(r.opType=t.opType),t.attribute&&t.attribute.length)for(r.attribute=[],i=0;i<t.attribute.length;++i)r.attribute[i]=o.onnx.AttributeProto.toObject(t.attribute[i],e);return t.docString!=null&&t.hasOwnProperty("docString")&&(r.docString=t.docString),t.domain!=null&&t.hasOwnProperty("domain")&&(r.domain=t.domain),r},n.prototype.toJSON=function(){return this.constructor.toObject(this,p.util.toJSONOptions)},n.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/onnx.NodeProto"},n}(),h.TrainingInfoProto=function(){function n(t){if(this.initializationBinding=[],this.updateBinding=[],t)for(var e=Object.keys(t),r=0;r<e.length;++r)t[e[r]]!=null&&(this[e[r]]=t[e[r]])}return n.prototype.initialization=null,n.prototype.algorithm=null,n.prototype.initializationBinding=a.emptyArray,n.prototype.updateBinding=a.emptyArray,n.create=function(t){return new n(t)},n.encode=function(t,e){if(e||(e=l.create()),t.initialization!=null&&Object.hasOwnProperty.call(t,"initialization")&&o.onnx.GraphProto.encode(t.initialization,e.uint32(10).fork()).ldelim(),t.algorithm!=null&&Object.hasOwnProperty.call(t,"algorithm")&&o.onnx.GraphProto.encode(t.algorithm,e.uint32(18).fork()).ldelim(),t.initializationBinding!=null&&t.initializationBinding.length)for(var r=0;r<t.initializationBinding.length;++r)o.onnx.StringStringEntryProto.encode(t.initializationBinding[r],e.uint32(26).fork()).ldelim();if(t.updateBinding!=null&&t.updateBinding.length)for(r=0;r<t.updateBinding.length;++r)o.onnx.StringStringEntryProto.encode(t.updateBinding[r],e.uint32(34).fork()).ldelim();return e},n.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},n.decode=function(t,e){t instanceof u||(t=u.create(t));for(var r=e===void 0?t.len:t.pos+e,i=new o.onnx.TrainingInfoProto;t.pos<r;){var s=t.uint32();switch(s>>>3){case 1:i.initialization=o.onnx.GraphProto.decode(t,t.uint32());break;case 2:i.algorithm=o.onnx.GraphProto.decode(t,t.uint32());break;case 3:i.initializationBinding&&i.initializationBinding.length||(i.initializationBinding=[]),i.initializationBinding.push(o.onnx.StringStringEntryProto.decode(t,t.uint32()));break;case 4:i.updateBinding&&i.updateBinding.length||(i.updateBinding=[]),i.updateBinding.push(o.onnx.StringStringEntryProto.decode(t,t.uint32()));break;default:t.skipType(7&s)}}return i},n.decodeDelimited=function(t){return t instanceof u||(t=new u(t)),this.decode(t,t.uint32())},n.verify=function(t){if(typeof t!="object"||t===null)return"object expected";if(t.initialization!=null&&t.hasOwnProperty("initialization")&&(r=o.onnx.GraphProto.verify(t.initialization)))return"initialization."+r;if(t.algorithm!=null&&t.hasOwnProperty("algorithm")&&(r=o.onnx.GraphProto.verify(t.algorithm)))return"algorithm."+r;if(t.initializationBinding!=null&&t.hasOwnProperty("initializationBinding")){if(!Array.isArray(t.initializationBinding))return"initializationBinding: array expected";for(var e=0;e<t.initializationBinding.length;++e)if(r=o.onnx.StringStringEntryProto.verify(t.initializationBinding[e]))return"initializationBinding."+r}if(t.updateBinding!=null&&t.hasOwnProperty("updateBinding")){if(!Array.isArray(t.updateBinding))return"updateBinding: array expected";for(e=0;e<t.updateBinding.length;++e){var r;if(r=o.onnx.StringStringEntryProto.verify(t.updateBinding[e]))return"updateBinding."+r}}return null},n.fromObject=function(t){if(t instanceof o.onnx.TrainingInfoProto)return t;var e=new o.onnx.TrainingInfoProto;if(t.initialization!=null){if(typeof t.initialization!="object")throw TypeError(".onnx.TrainingInfoProto.initialization: object expected");e.initialization=o.onnx.GraphProto.fromObject(t.initialization)}if(t.algorithm!=null){if(typeof t.algorithm!="object")throw TypeError(".onnx.TrainingInfoProto.algorithm: object expected");e.algorithm=o.onnx.GraphProto.fromObject(t.algorithm)}if(t.initializationBinding){if(!Array.isArray(t.initializationBinding))throw TypeError(".onnx.TrainingInfoProto.initializationBinding: array expected");e.initializationBinding=[];for(var r=0;r<t.initializationBinding.length;++r){if(typeof t.initializationBinding[r]!="object")throw TypeError(".onnx.TrainingInfoProto.initializationBinding: object expected");e.initializationBinding[r]=o.onnx.StringStringEntryProto.fromObject(t.initializationBinding[r])}}if(t.updateBinding){if(!Array.isArray(t.updateBinding))throw TypeError(".onnx.TrainingInfoProto.updateBinding: array expected");for(e.updateBinding=[],r=0;r<t.updateBinding.length;++r){if(typeof t.updateBinding[r]!="object")throw TypeError(".onnx.TrainingInfoProto.updateBinding: object expected");e.updateBinding[r]=o.onnx.StringStringEntryProto.fromObject(t.updateBinding[r])}}return e},n.toObject=function(t,e){e||(e={});var r={};if((e.arrays||e.defaults)&&(r.initializationBinding=[],r.updateBinding=[]),e.defaults&&(r.initialization=null,r.algorithm=null),t.initialization!=null&&t.hasOwnProperty("initialization")&&(r.initialization=o.onnx.GraphProto.toObject(t.initialization,e)),t.algorithm!=null&&t.hasOwnProperty("algorithm")&&(r.algorithm=o.onnx.GraphProto.toObject(t.algorithm,e)),t.initializationBinding&&t.initializationBinding.length){r.initializationBinding=[];for(var i=0;i<t.initializationBinding.length;++i)r.initializationBinding[i]=o.onnx.StringStringEntryProto.toObject(t.initializationBinding[i],e)}if(t.updateBinding&&t.updateBinding.length)for(r.updateBinding=[],i=0;i<t.updateBinding.length;++i)r.updateBinding[i]=o.onnx.StringStringEntryProto.toObject(t.updateBinding[i],e);return r},n.prototype.toJSON=function(){return this.constructor.toObject(this,p.util.toJSONOptions)},n.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/onnx.TrainingInfoProto"},n}(),h.ModelProto=function(){function n(t){if(this.opsetImport=[],this.metadataProps=[],this.trainingInfo=[],this.functions=[],t)for(var e=Object.keys(t),r=0;r<e.length;++r)t[e[r]]!=null&&(this[e[r]]=t[e[r]])}return n.prototype.irVersion=a.Long?a.Long.fromBits(0,0,!1):0,n.prototype.opsetImport=a.emptyArray,n.prototype.producerName="",n.prototype.producerVersion="",n.prototype.domain="",n.prototype.modelVersion=a.Long?a.Long.fromBits(0,0,!1):0,n.prototype.docString="",n.prototype.graph=null,n.prototype.metadataProps=a.emptyArray,n.prototype.trainingInfo=a.emptyArray,n.prototype.functions=a.emptyArray,n.create=function(t){return new n(t)},n.encode=function(t,e){if(e||(e=l.create()),t.irVersion!=null&&Object.hasOwnProperty.call(t,"irVersion")&&e.uint32(8).int64(t.irVersion),t.producerName!=null&&Object.hasOwnProperty.call(t,"producerName")&&e.uint32(18).string(t.producerName),t.producerVersion!=null&&Object.hasOwnProperty.call(t,"producerVersion")&&e.uint32(26).string(t.producerVersion),t.domain!=null&&Object.hasOwnProperty.call(t,"domain")&&e.uint32(34).string(t.domain),t.modelVersion!=null&&Object.hasOwnProperty.call(t,"modelVersion")&&e.uint32(40).int64(t.modelVersion),t.docString!=null&&Object.hasOwnProperty.call(t,"docString")&&e.uint32(50).string(t.docString),t.graph!=null&&Object.hasOwnProperty.call(t,"graph")&&o.onnx.GraphProto.encode(t.graph,e.uint32(58).fork()).ldelim(),t.opsetImport!=null&&t.opsetImport.length)for(var r=0;r<t.opsetImport.length;++r)o.onnx.OperatorSetIdProto.encode(t.opsetImport[r],e.uint32(66).fork()).ldelim();if(t.metadataProps!=null&&t.metadataProps.length)for(r=0;r<t.metadataProps.length;++r)o.onnx.StringStringEntryProto.encode(t.metadataProps[r],e.uint32(114).fork()).ldelim();if(t.trainingInfo!=null&&t.trainingInfo.length)for(r=0;r<t.trainingInfo.length;++r)o.onnx.TrainingInfoProto.encode(t.trainingInfo[r],e.uint32(162).fork()).ldelim();if(t.functions!=null&&t.functions.length)for(r=0;r<t.functions.length;++r)o.onnx.FunctionProto.encode(t.functions[r],e.uint32(202).fork()).ldelim();return e},n.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},n.decode=function(t,e){t instanceof u||(t=u.create(t));for(var r=e===void 0?t.len:t.pos+e,i=new o.onnx.ModelProto;t.pos<r;){var s=t.uint32();switch(s>>>3){case 1:i.irVersion=t.int64();break;case 8:i.opsetImport&&i.opsetImport.length||(i.opsetImport=[]),i.opsetImport.push(o.onnx.OperatorSetIdProto.decode(t,t.uint32()));break;case 2:i.producerName=t.string();break;case 3:i.producerVersion=t.string();break;case 4:i.domain=t.string();break;case 5:i.modelVersion=t.int64();break;case 6:i.docString=t.string();break;case 7:i.graph=o.onnx.GraphProto.decode(t,t.uint32());break;case 14:i.metadataProps&&i.metadataProps.length||(i.metadataProps=[]),i.metadataProps.push(o.onnx.StringStringEntryProto.decode(t,t.uint32()));break;case 20:i.trainingInfo&&i.trainingInfo.length||(i.trainingInfo=[]),i.trainingInfo.push(o.onnx.TrainingInfoProto.decode(t,t.uint32()));break;case 25:i.functions&&i.functions.length||(i.functions=[]),i.functions.push(o.onnx.FunctionProto.decode(t,t.uint32()));break;default:t.skipType(7&s)}}return i},n.decodeDelimited=function(t){return t instanceof u||(t=new u(t)),this.decode(t,t.uint32())},n.verify=function(t){if(typeof t!="object"||t===null)return"object expected";if(t.irVersion!=null&&t.hasOwnProperty("irVersion")&&!(a.isInteger(t.irVersion)||t.irVersion&&a.isInteger(t.irVersion.low)&&a.isInteger(t.irVersion.high)))return"irVersion: integer|Long expected";if(t.opsetImport!=null&&t.hasOwnProperty("opsetImport")){if(!Array.isArray(t.opsetImport))return"opsetImport: array expected";for(var e=0;e<t.opsetImport.length;++e)if(r=o.onnx.OperatorSetIdProto.verify(t.opsetImport[e]))return"opsetImport."+r}if(t.producerName!=null&&t.hasOwnProperty("producerName")&&!a.isString(t.producerName))return"producerName: string expected";if(t.producerVersion!=null&&t.hasOwnProperty("producerVersion")&&!a.isString(t.producerVersion))return"producerVersion: string expected";if(t.domain!=null&&t.hasOwnProperty("domain")&&!a.isString(t.domain))return"domain: string expected";if(t.modelVersion!=null&&t.hasOwnProperty("modelVersion")&&!(a.isInteger(t.modelVersion)||t.modelVersion&&a.isInteger(t.modelVersion.low)&&a.isInteger(t.modelVersion.high)))return"modelVersion: integer|Long expected";if(t.docString!=null&&t.hasOwnProperty("docString")&&!a.isString(t.docString))return"docString: string expected";if(t.graph!=null&&t.hasOwnProperty("graph")&&(r=o.onnx.GraphProto.verify(t.graph)))return"graph."+r;if(t.metadataProps!=null&&t.hasOwnProperty("metadataProps")){if(!Array.isArray(t.metadataProps))return"metadataProps: array expected";for(e=0;e<t.metadataProps.length;++e)if(r=o.onnx.StringStringEntryProto.verify(t.metadataProps[e]))return"metadataProps."+r}if(t.trainingInfo!=null&&t.hasOwnProperty("trainingInfo")){if(!Array.isArray(t.trainingInfo))return"trainingInfo: array expected";for(e=0;e<t.trainingInfo.length;++e)if(r=o.onnx.TrainingInfoProto.verify(t.trainingInfo[e]))return"trainingInfo."+r}if(t.functions!=null&&t.hasOwnProperty("functions")){if(!Array.isArray(t.functions))return"functions: array expected";for(e=0;e<t.functions.length;++e){var r;if(r=o.onnx.FunctionProto.verify(t.functions[e]))return"functions."+r}}return null},n.fromObject=function(t){if(t instanceof o.onnx.ModelProto)return t;var e=new o.onnx.ModelProto;if(t.irVersion!=null&&(a.Long?(e.irVersion=a.Long.fromValue(t.irVersion)).unsigned=!1:typeof t.irVersion=="string"?e.irVersion=parseInt(t.irVersion,10):typeof t.irVersion=="number"?e.irVersion=t.irVersion:typeof t.irVersion=="object"&&(e.irVersion=new a.LongBits(t.irVersion.low>>>0,t.irVersion.high>>>0).toNumber())),t.opsetImport){if(!Array.isArray(t.opsetImport))throw TypeError(".onnx.ModelProto.opsetImport: array expected");e.opsetImport=[];for(var r=0;r<t.opsetImport.length;++r){if(typeof t.opsetImport[r]!="object")throw TypeError(".onnx.ModelProto.opsetImport: object expected");e.opsetImport[r]=o.onnx.OperatorSetIdProto.fromObject(t.opsetImport[r])}}if(t.producerName!=null&&(e.producerName=String(t.producerName)),t.producerVersion!=null&&(e.producerVersion=String(t.producerVersion)),t.domain!=null&&(e.domain=String(t.domain)),t.modelVersion!=null&&(a.Long?(e.modelVersion=a.Long.fromValue(t.modelVersion)).unsigned=!1:typeof t.modelVersion=="string"?e.modelVersion=parseInt(t.modelVersion,10):typeof t.modelVersion=="number"?e.modelVersion=t.modelVersion:typeof t.modelVersion=="object"&&(e.modelVersion=new a.LongBits(t.modelVersion.low>>>0,t.modelVersion.high>>>0).toNumber())),t.docString!=null&&(e.docString=String(t.docString)),t.graph!=null){if(typeof t.graph!="object")throw TypeError(".onnx.ModelProto.graph: object expected");e.graph=o.onnx.GraphProto.fromObject(t.graph)}if(t.metadataProps){if(!Array.isArray(t.metadataProps))throw TypeError(".onnx.ModelProto.metadataProps: array expected");for(e.metadataProps=[],r=0;r<t.metadataProps.length;++r){if(typeof t.metadataProps[r]!="object")throw TypeError(".onnx.ModelProto.metadataProps: object expected");e.metadataProps[r]=o.onnx.StringStringEntryProto.fromObject(t.metadataProps[r])}}if(t.trainingInfo){if(!Array.isArray(t.trainingInfo))throw TypeError(".onnx.ModelProto.trainingInfo: array expected");for(e.trainingInfo=[],r=0;r<t.trainingInfo.length;++r){if(typeof t.trainingInfo[r]!="object")throw TypeError(".onnx.ModelProto.trainingInfo: object expected");e.trainingInfo[r]=o.onnx.TrainingInfoProto.fromObject(t.trainingInfo[r])}}if(t.functions){if(!Array.isArray(t.functions))throw TypeError(".onnx.ModelProto.functions: array expected");for(e.functions=[],r=0;r<t.functions.length;++r){if(typeof t.functions[r]!="object")throw TypeError(".onnx.ModelProto.functions: object expected");e.functions[r]=o.onnx.FunctionProto.fromObject(t.functions[r])}}return e},n.toObject=function(t,e){e||(e={});var r={};if((e.arrays||e.defaults)&&(r.opsetImport=[],r.metadataProps=[],r.trainingInfo=[],r.functions=[]),e.defaults){if(a.Long){var i=new a.Long(0,0,!1);r.irVersion=e.longs===String?i.toString():e.longs===Number?i.toNumber():i}else r.irVersion=e.longs===String?"0":0;r.producerName="",r.producerVersion="",r.domain="",a.Long?(i=new a.Long(0,0,!1),r.modelVersion=e.longs===String?i.toString():e.longs===Number?i.toNumber():i):r.modelVersion=e.longs===String?"0":0,r.docString="",r.graph=null}if(t.irVersion!=null&&t.hasOwnProperty("irVersion")&&(typeof t.irVersion=="number"?r.irVersion=e.longs===String?String(t.irVersion):t.irVersion:r.irVersion=e.longs===String?a.Long.prototype.toString.call(t.irVersion):e.longs===Number?new a.LongBits(t.irVersion.low>>>0,t.irVersion.high>>>0).toNumber():t.irVersion),t.producerName!=null&&t.hasOwnProperty("producerName")&&(r.producerName=t.producerName),t.producerVersion!=null&&t.hasOwnProperty("producerVersion")&&(r.producerVersion=t.producerVersion),t.domain!=null&&t.hasOwnProperty("domain")&&(r.domain=t.domain),t.modelVersion!=null&&t.hasOwnProperty("modelVersion")&&(typeof t.modelVersion=="number"?r.modelVersion=e.longs===String?String(t.modelVersion):t.modelVersion:r.modelVersion=e.longs===String?a.Long.prototype.toString.call(t.modelVersion):e.longs===Number?new a.LongBits(t.modelVersion.low>>>0,t.modelVersion.high>>>0).toNumber():t.modelVersion),t.docString!=null&&t.hasOwnProperty("docString")&&(r.docString=t.docString),t.graph!=null&&t.hasOwnProperty("graph")&&(r.graph=o.onnx.GraphProto.toObject(t.graph,e)),t.opsetImport&&t.opsetImport.length){r.opsetImport=[];for(var s=0;s<t.opsetImport.length;++s)r.opsetImport[s]=o.onnx.OperatorSetIdProto.toObject(t.opsetImport[s],e)}if(t.metadataProps&&t.metadataProps.length)for(r.metadataProps=[],s=0;s<t.metadataProps.length;++s)r.metadataProps[s]=o.onnx.StringStringEntryProto.toObject(t.metadataProps[s],e);if(t.trainingInfo&&t.trainingInfo.length)for(r.trainingInfo=[],s=0;s<t.trainingInfo.length;++s)r.trainingInfo[s]=o.onnx.TrainingInfoProto.toObject(t.trainingInfo[s],e);if(t.functions&&t.functions.length)for(r.functions=[],s=0;s<t.functions.length;++s)r.functions[s]=o.onnx.FunctionProto.toObject(t.functions[s],e);return r},n.prototype.toJSON=function(){return this.constructor.toObject(this,p.util.toJSONOptions)},n.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/onnx.ModelProto"},n}(),h.StringStringEntryProto=function(){function n(t){if(t)for(var e=Object.keys(t),r=0;r<e.length;++r)t[e[r]]!=null&&(this[e[r]]=t[e[r]])}return n.prototype.key="",n.prototype.value="",n.create=function(t){return new n(t)},n.encode=function(t,e){return e||(e=l.create()),t.key!=null&&Object.hasOwnProperty.call(t,"key")&&e.uint32(10).string(t.key),t.value!=null&&Object.hasOwnProperty.call(t,"value")&&e.uint32(18).string(t.value),e},n.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},n.decode=function(t,e){t instanceof u||(t=u.create(t));for(var r=e===void 0?t.len:t.pos+e,i=new o.onnx.StringStringEntryProto;t.pos<r;){var s=t.uint32();switch(s>>>3){case 1:i.key=t.string();break;case 2:i.value=t.string();break;default:t.skipType(7&s)}}return i},n.decodeDelimited=function(t){return t instanceof u||(t=new u(t)),this.decode(t,t.uint32())},n.verify=function(t){return typeof t!="object"||t===null?"object expected":t.key!=null&&t.hasOwnProperty("key")&&!a.isString(t.key)?"key: string expected":t.value!=null&&t.hasOwnProperty("value")&&!a.isString(t.value)?"value: string expected":null},n.fromObject=function(t){if(t instanceof o.onnx.StringStringEntryProto)return t;var e=new o.onnx.StringStringEntryProto;return t.key!=null&&(e.key=String(t.key)),t.value!=null&&(e.value=String(t.value)),e},n.toObject=function(t,e){e||(e={});var r={};return e.defaults&&(r.key="",r.value=""),t.key!=null&&t.hasOwnProperty("key")&&(r.key=t.key),t.value!=null&&t.hasOwnProperty("value")&&(r.value=t.value),r},n.prototype.toJSON=function(){return this.constructor.toObject(this,p.util.toJSONOptions)},n.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/onnx.StringStringEntryProto"},n}(),h.TensorAnnotation=function(){function n(t){if(this.quantParameterTensorNames=[],t)for(var e=Object.keys(t),r=0;r<e.length;++r)t[e[r]]!=null&&(this[e[r]]=t[e[r]])}return n.prototype.tensorName="",n.prototype.quantParameterTensorNames=a.emptyArray,n.create=function(t){return new n(t)},n.encode=function(t,e){if(e||(e=l.create()),t.tensorName!=null&&Object.hasOwnProperty.call(t,"tensorName")&&e.uint32(10).string(t.tensorName),t.quantParameterTensorNames!=null&&t.quantParameterTensorNames.length)for(var r=0;r<t.quantParameterTensorNames.length;++r)o.onnx.StringStringEntryProto.encode(t.quantParameterTensorNames[r],e.uint32(18).fork()).ldelim();return e},n.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},n.decode=function(t,e){t instanceof u||(t=u.create(t));for(var r=e===void 0?t.len:t.pos+e,i=new o.onnx.TensorAnnotation;t.pos<r;){var s=t.uint32();switch(s>>>3){case 1:i.tensorName=t.string();break;case 2:i.quantParameterTensorNames&&i.quantParameterTensorNames.length||(i.quantParameterTensorNames=[]),i.quantParameterTensorNames.push(o.onnx.StringStringEntryProto.decode(t,t.uint32()));break;default:t.skipType(7&s)}}return i},n.decodeDelimited=function(t){return t instanceof u||(t=new u(t)),this.decode(t,t.uint32())},n.verify=function(t){if(typeof t!="object"||t===null)return"object expected";if(t.tensorName!=null&&t.hasOwnProperty("tensorName")&&!a.isString(t.tensorName))return"tensorName: string expected";if(t.quantParameterTensorNames!=null&&t.hasOwnProperty("quantParameterTensorNames")){if(!Array.isArray(t.quantParameterTensorNames))return"quantParameterTensorNames: array expected";for(var e=0;e<t.quantParameterTensorNames.length;++e){var r=o.onnx.StringStringEntryProto.verify(t.quantParameterTensorNames[e]);if(r)return"quantParameterTensorNames."+r}}return null},n.fromObject=function(t){if(t instanceof o.onnx.TensorAnnotation)return t;var e=new o.onnx.TensorAnnotation;if(t.tensorName!=null&&(e.tensorName=String(t.tensorName)),t.quantParameterTensorNames){if(!Array.isArray(t.quantParameterTensorNames))throw TypeError(".onnx.TensorAnnotation.quantParameterTensorNames: array expected");e.quantParameterTensorNames=[];for(var r=0;r<t.quantParameterTensorNames.length;++r){if(typeof t.quantParameterTensorNames[r]!="object")throw TypeError(".onnx.TensorAnnotation.quantParameterTensorNames: object expected");e.quantParameterTensorNames[r]=o.onnx.StringStringEntryProto.fromObject(t.quantParameterTensorNames[r])}}return e},n.toObject=function(t,e){e||(e={});var r={};if((e.arrays||e.defaults)&&(r.quantParameterTensorNames=[]),e.defaults&&(r.tensorName=""),t.tensorName!=null&&t.hasOwnProperty("tensorName")&&(r.tensorName=t.tensorName),t.quantParameterTensorNames&&t.quantParameterTensorNames.length){r.quantParameterTensorNames=[];for(var i=0;i<t.quantParameterTensorNames.length;++i)r.quantParameterTensorNames[i]=o.onnx.StringStringEntryProto.toObject(t.quantParameterTensorNames[i],e)}return r},n.prototype.toJSON=function(){return this.constructor.toObject(this,p.util.toJSONOptions)},n.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/onnx.TensorAnnotation"},n}(),h.GraphProto=function(){function n(t){if(this.node=[],this.initializer=[],this.sparseInitializer=[],this.input=[],this.output=[],this.valueInfo=[],this.quantizationAnnotation=[],t)for(var e=Object.keys(t),r=0;r<e.length;++r)t[e[r]]!=null&&(this[e[r]]=t[e[r]])}return n.prototype.node=a.emptyArray,n.prototype.name="",n.prototype.initializer=a.emptyArray,n.prototype.sparseInitializer=a.emptyArray,n.prototype.docString="",n.prototype.input=a.emptyArray,n.prototype.output=a.emptyArray,n.prototype.valueInfo=a.emptyArray,n.prototype.quantizationAnnotation=a.emptyArray,n.create=function(t){return new n(t)},n.encode=function(t,e){if(e||(e=l.create()),t.node!=null&&t.node.length)for(var r=0;r<t.node.length;++r)o.onnx.NodeProto.encode(t.node[r],e.uint32(10).fork()).ldelim();if(t.name!=null&&Object.hasOwnProperty.call(t,"name")&&e.uint32(18).string(t.name),t.initializer!=null&&t.initializer.length)for(r=0;r<t.initializer.length;++r)o.onnx.TensorProto.encode(t.initializer[r],e.uint32(42).fork()).ldelim();if(t.docString!=null&&Object.hasOwnProperty.call(t,"docString")&&e.uint32(82).string(t.docString),t.input!=null&&t.input.length)for(r=0;r<t.input.length;++r)o.onnx.ValueInfoProto.encode(t.input[r],e.uint32(90).fork()).ldelim();if(t.output!=null&&t.output.length)for(r=0;r<t.output.length;++r)o.onnx.ValueInfoProto.encode(t.output[r],e.uint32(98).fork()).ldelim();if(t.valueInfo!=null&&t.valueInfo.length)for(r=0;r<t.valueInfo.length;++r)o.onnx.ValueInfoProto.encode(t.valueInfo[r],e.uint32(106).fork()).ldelim();if(t.quantizationAnnotation!=null&&t.quantizationAnnotation.length)for(r=0;r<t.quantizationAnnotation.length;++r)o.onnx.TensorAnnotation.encode(t.quantizationAnnotation[r],e.uint32(114).fork()).ldelim();if(t.sparseInitializer!=null&&t.sparseInitializer.length)for(r=0;r<t.sparseInitializer.length;++r)o.onnx.SparseTensorProto.encode(t.sparseInitializer[r],e.uint32(122).fork()).ldelim();return e},n.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},n.decode=function(t,e){t instanceof u||(t=u.create(t));for(var r=e===void 0?t.len:t.pos+e,i=new o.onnx.GraphProto;t.pos<r;){var s=t.uint32();switch(s>>>3){case 1:i.node&&i.node.length||(i.node=[]),i.node.push(o.onnx.NodeProto.decode(t,t.uint32()));break;case 2:i.name=t.string();break;case 5:i.initializer&&i.initializer.length||(i.initializer=[]),i.initializer.push(o.onnx.TensorProto.decode(t,t.uint32()));break;case 15:i.sparseInitializer&&i.sparseInitializer.length||(i.sparseInitializer=[]),i.sparseInitializer.push(o.onnx.SparseTensorProto.decode(t,t.uint32()));break;case 10:i.docString=t.string();break;case 11:i.input&&i.input.length||(i.input=[]),i.input.push(o.onnx.ValueInfoProto.decode(t,t.uint32()));break;case 12:i.output&&i.output.length||(i.output=[]),i.output.push(o.onnx.ValueInfoProto.decode(t,t.uint32()));break;case 13:i.valueInfo&&i.valueInfo.length||(i.valueInfo=[]),i.valueInfo.push(o.onnx.ValueInfoProto.decode(t,t.uint32()));break;case 14:i.quantizationAnnotation&&i.quantizationAnnotation.length||(i.quantizationAnnotation=[]),i.quantizationAnnotation.push(o.onnx.TensorAnnotation.decode(t,t.uint32()));break;default:t.skipType(7&s)}}return i},n.decodeDelimited=function(t){return t instanceof u||(t=new u(t)),this.decode(t,t.uint32())},n.verify=function(t){if(typeof t!="object"||t===null)return"object expected";if(t.node!=null&&t.hasOwnProperty("node")){if(!Array.isArray(t.node))return"node: array expected";for(var e=0;e<t.node.length;++e)if(r=o.onnx.NodeProto.verify(t.node[e]))return"node."+r}if(t.name!=null&&t.hasOwnProperty("name")&&!a.isString(t.name))return"name: string expected";if(t.initializer!=null&&t.hasOwnProperty("initializer")){if(!Array.isArray(t.initializer))return"initializer: array expected";for(e=0;e<t.initializer.length;++e)if(r=o.onnx.TensorProto.verify(t.initializer[e]))return"initializer."+r}if(t.sparseInitializer!=null&&t.hasOwnProperty("sparseInitializer")){if(!Array.isArray(t.sparseInitializer))return"sparseInitializer: array expected";for(e=0;e<t.sparseInitializer.length;++e)if(r=o.onnx.SparseTensorProto.verify(t.sparseInitializer[e]))return"sparseInitializer."+r}if(t.docString!=null&&t.hasOwnProperty("docString")&&!a.isString(t.docString))return"docString: string expected";if(t.input!=null&&t.hasOwnProperty("input")){if(!Array.isArray(t.input))return"input: array expected";for(e=0;e<t.input.length;++e)if(r=o.onnx.ValueInfoProto.verify(t.input[e]))return"input."+r}if(t.output!=null&&t.hasOwnProperty("output")){if(!Array.isArray(t.output))return"output: array expected";for(e=0;e<t.output.length;++e)if(r=o.onnx.ValueInfoProto.verify(t.output[e]))return"output."+r}if(t.valueInfo!=null&&t.hasOwnProperty("valueInfo")){if(!Array.isArray(t.valueInfo))return"valueInfo: array expected";for(e=0;e<t.valueInfo.length;++e)if(r=o.onnx.ValueInfoProto.verify(t.valueInfo[e]))return"valueInfo."+r}if(t.quantizationAnnotation!=null&&t.hasOwnProperty("quantizationAnnotation")){if(!Array.isArray(t.quantizationAnnotation))return"quantizationAnnotation: array expected";for(e=0;e<t.quantizationAnnotation.length;++e){var r;if(r=o.onnx.TensorAnnotation.verify(t.quantizationAnnotation[e]))return"quantizationAnnotation."+r}}return null},n.fromObject=function(t){if(t instanceof o.onnx.GraphProto)return t;var e=new o.onnx.GraphProto;if(t.node){if(!Array.isArray(t.node))throw TypeError(".onnx.GraphProto.node: array expected");e.node=[];for(var r=0;r<t.node.length;++r){if(typeof t.node[r]!="object")throw TypeError(".onnx.GraphProto.node: object expected");e.node[r]=o.onnx.NodeProto.fromObject(t.node[r])}}if(t.name!=null&&(e.name=String(t.name)),t.initializer){if(!Array.isArray(t.initializer))throw TypeError(".onnx.GraphProto.initializer: array expected");for(e.initializer=[],r=0;r<t.initializer.length;++r){if(typeof t.initializer[r]!="object")throw TypeError(".onnx.GraphProto.initializer: object expected");e.initializer[r]=o.onnx.TensorProto.fromObject(t.initializer[r])}}if(t.sparseInitializer){if(!Array.isArray(t.sparseInitializer))throw TypeError(".onnx.GraphProto.sparseInitializer: array expected");for(e.sparseInitializer=[],r=0;r<t.sparseInitializer.length;++r){if(typeof t.sparseInitializer[r]!="object")throw TypeError(".onnx.GraphProto.sparseInitializer: object expected");e.sparseInitializer[r]=o.onnx.SparseTensorProto.fromObject(t.sparseInitializer[r])}}if(t.docString!=null&&(e.docString=String(t.docString)),t.input){if(!Array.isArray(t.input))throw TypeError(".onnx.GraphProto.input: array expected");for(e.input=[],r=0;r<t.input.length;++r){if(typeof t.input[r]!="object")throw TypeError(".onnx.GraphProto.input: object expected");e.input[r]=o.onnx.ValueInfoProto.fromObject(t.input[r])}}if(t.output){if(!Array.isArray(t.output))throw TypeError(".onnx.GraphProto.output: array expected");for(e.output=[],r=0;r<t.output.length;++r){if(typeof t.output[r]!="object")throw TypeError(".onnx.GraphProto.output: object expected");e.output[r]=o.onnx.ValueInfoProto.fromObject(t.output[r])}}if(t.valueInfo){if(!Array.isArray(t.valueInfo))throw TypeError(".onnx.GraphProto.valueInfo: array expected");for(e.valueInfo=[],r=0;r<t.valueInfo.length;++r){if(typeof t.valueInfo[r]!="object")throw TypeError(".onnx.GraphProto.valueInfo: object expected");e.valueInfo[r]=o.onnx.ValueInfoProto.fromObject(t.valueInfo[r])}}if(t.quantizationAnnotation){if(!Array.isArray(t.quantizationAnnotation))throw TypeError(".onnx.GraphProto.quantizationAnnotation: array expected");for(e.quantizationAnnotation=[],r=0;r<t.quantizationAnnotation.length;++r){if(typeof t.quantizationAnnotation[r]!="object")throw TypeError(".onnx.GraphProto.quantizationAnnotation: object expected");e.quantizationAnnotation[r]=o.onnx.TensorAnnotation.fromObject(t.quantizationAnnotation[r])}}return e},n.toObject=function(t,e){e||(e={});var r={};if((e.arrays||e.defaults)&&(r.node=[],r.initializer=[],r.input=[],r.output=[],r.valueInfo=[],r.quantizationAnnotation=[],r.sparseInitializer=[]),e.defaults&&(r.name="",r.docString=""),t.node&&t.node.length){r.node=[];for(var i=0;i<t.node.length;++i)r.node[i]=o.onnx.NodeProto.toObject(t.node[i],e)}if(t.name!=null&&t.hasOwnProperty("name")&&(r.name=t.name),t.initializer&&t.initializer.length)for(r.initializer=[],i=0;i<t.initializer.length;++i)r.initializer[i]=o.onnx.TensorProto.toObject(t.initializer[i],e);if(t.docString!=null&&t.hasOwnProperty("docString")&&(r.docString=t.docString),t.input&&t.input.length)for(r.input=[],i=0;i<t.input.length;++i)r.input[i]=o.onnx.ValueInfoProto.toObject(t.input[i],e);if(t.output&&t.output.length)for(r.output=[],i=0;i<t.output.length;++i)r.output[i]=o.onnx.ValueInfoProto.toObject(t.output[i],e);if(t.valueInfo&&t.valueInfo.length)for(r.valueInfo=[],i=0;i<t.valueInfo.length;++i)r.valueInfo[i]=o.onnx.ValueInfoProto.toObject(t.valueInfo[i],e);if(t.quantizationAnnotation&&t.quantizationAnnotation.length)for(r.quantizationAnnotation=[],i=0;i<t.quantizationAnnotation.length;++i)r.quantizationAnnotation[i]=o.onnx.TensorAnnotation.toObject(t.quantizationAnnotation[i],e);if(t.sparseInitializer&&t.sparseInitializer.length)for(r.sparseInitializer=[],i=0;i<t.sparseInitializer.length;++i)r.sparseInitializer[i]=o.onnx.SparseTensorProto.toObject(t.sparseInitializer[i],e);return r},n.prototype.toJSON=function(){return this.constructor.toObject(this,p.util.toJSONOptions)},n.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/onnx.GraphProto"},n}(),h.TensorProto=function(){function n(t){if(this.dims=[],this.floatData=[],this.int32Data=[],this.stringData=[],this.int64Data=[],this.externalData=[],this.doubleData=[],this.uint64Data=[],t)for(var e=Object.keys(t),r=0;r<e.length;++r)t[e[r]]!=null&&(this[e[r]]=t[e[r]])}return n.prototype.dims=a.emptyArray,n.prototype.dataType=0,n.prototype.segment=null,n.prototype.floatData=a.emptyArray,n.prototype.int32Data=a.emptyArray,n.prototype.stringData=a.emptyArray,n.prototype.int64Data=a.emptyArray,n.prototype.name="",n.prototype.docString="",n.prototype.rawData=a.newBuffer([]),n.prototype.externalData=a.emptyArray,n.prototype.dataLocation=0,n.prototype.doubleData=a.emptyArray,n.prototype.uint64Data=a.emptyArray,n.create=function(t){return new n(t)},n.encode=function(t,e){if(e||(e=l.create()),t.dims!=null&&t.dims.length){e.uint32(10).fork();for(var r=0;r<t.dims.length;++r)e.int64(t.dims[r]);e.ldelim()}if(t.dataType!=null&&Object.hasOwnProperty.call(t,"dataType")&&e.uint32(16).int32(t.dataType),t.segment!=null&&Object.hasOwnProperty.call(t,"segment")&&o.onnx.TensorProto.Segment.encode(t.segment,e.uint32(26).fork()).ldelim(),t.floatData!=null&&t.floatData.length){for(e.uint32(34).fork(),r=0;r<t.floatData.length;++r)e.float(t.floatData[r]);e.ldelim()}if(t.int32Data!=null&&t.int32Data.length){for(e.uint32(42).fork(),r=0;r<t.int32Data.length;++r)e.int32(t.int32Data[r]);e.ldelim()}if(t.stringData!=null&&t.stringData.length)for(r=0;r<t.stringData.length;++r)e.uint32(50).bytes(t.stringData[r]);if(t.int64Data!=null&&t.int64Data.length){for(e.uint32(58).fork(),r=0;r<t.int64Data.length;++r)e.int64(t.int64Data[r]);e.ldelim()}if(t.name!=null&&Object.hasOwnProperty.call(t,"name")&&e.uint32(66).string(t.name),t.rawData!=null&&Object.hasOwnProperty.call(t,"rawData")&&e.uint32(74).bytes(t.rawData),t.doubleData!=null&&t.doubleData.length){for(e.uint32(82).fork(),r=0;r<t.doubleData.length;++r)e.double(t.doubleData[r]);e.ldelim()}if(t.uint64Data!=null&&t.uint64Data.length){for(e.uint32(90).fork(),r=0;r<t.uint64Data.length;++r)e.uint64(t.uint64Data[r]);e.ldelim()}if(t.docString!=null&&Object.hasOwnProperty.call(t,"docString")&&e.uint32(98).string(t.docString),t.externalData!=null&&t.externalData.length)for(r=0;r<t.externalData.length;++r)o.onnx.StringStringEntryProto.encode(t.externalData[r],e.uint32(106).fork()).ldelim();return t.dataLocation!=null&&Object.hasOwnProperty.call(t,"dataLocation")&&e.uint32(112).int32(t.dataLocation),e},n.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},n.decode=function(t,e){t instanceof u||(t=u.create(t));for(var r=e===void 0?t.len:t.pos+e,i=new o.onnx.TensorProto;t.pos<r;){var s=t.uint32();switch(s>>>3){case 1:if(i.dims&&i.dims.length||(i.dims=[]),(7&s)==2)for(var f=t.uint32()+t.pos;t.pos<f;)i.dims.push(t.int64());else i.dims.push(t.int64());break;case 2:i.dataType=t.int32();break;case 3:i.segment=o.onnx.TensorProto.Segment.decode(t,t.uint32());break;case 4:if(i.floatData&&i.floatData.length||(i.floatData=[]),(7&s)==2)for(f=t.uint32()+t.pos;t.pos<f;)i.floatData.push(t.float());else i.floatData.push(t.float());break;case 5:if(i.int32Data&&i.int32Data.length||(i.int32Data=[]),(7&s)==2)for(f=t.uint32()+t.pos;t.pos<f;)i.int32Data.push(t.int32());else i.int32Data.push(t.int32());break;case 6:i.stringData&&i.stringData.length||(i.stringData=[]),i.stringData.push(t.bytes());break;case 7:if(i.int64Data&&i.int64Data.length||(i.int64Data=[]),(7&s)==2)for(f=t.uint32()+t.pos;t.pos<f;)i.int64Data.push(t.int64());else i.int64Data.push(t.int64());break;case 8:i.name=t.string();break;case 12:i.docString=t.string();break;case 9:i.rawData=t.bytes();break;case 13:i.externalData&&i.externalData.length||(i.externalData=[]),i.externalData.push(o.onnx.StringStringEntryProto.decode(t,t.uint32()));break;case 14:i.dataLocation=t.int32();break;case 10:if(i.doubleData&&i.doubleData.length||(i.doubleData=[]),(7&s)==2)for(f=t.uint32()+t.pos;t.pos<f;)i.doubleData.push(t.double());else i.doubleData.push(t.double());break;case 11:if(i.uint64Data&&i.uint64Data.length||(i.uint64Data=[]),(7&s)==2)for(f=t.uint32()+t.pos;t.pos<f;)i.uint64Data.push(t.uint64());else i.uint64Data.push(t.uint64());break;default:t.skipType(7&s)}}return i},n.decodeDelimited=function(t){return t instanceof u||(t=new u(t)),this.decode(t,t.uint32())},n.verify=function(t){if(typeof t!="object"||t===null)return"object expected";if(t.dims!=null&&t.hasOwnProperty("dims")){if(!Array.isArray(t.dims))return"dims: array expected";for(var e=0;e<t.dims.length;++e)if(!(a.isInteger(t.dims[e])||t.dims[e]&&a.isInteger(t.dims[e].low)&&a.isInteger(t.dims[e].high)))return"dims: integer|Long[] expected"}if(t.dataType!=null&&t.hasOwnProperty("dataType")&&!a.isInteger(t.dataType))return"dataType: integer expected";if(t.segment!=null&&t.hasOwnProperty("segment")&&(r=o.onnx.TensorProto.Segment.verify(t.segment)))return"segment."+r;if(t.floatData!=null&&t.hasOwnProperty("floatData")){if(!Array.isArray(t.floatData))return"floatData: array expected";for(e=0;e<t.floatData.length;++e)if(typeof t.floatData[e]!="number")return"floatData: number[] expected"}if(t.int32Data!=null&&t.hasOwnProperty("int32Data")){if(!Array.isArray(t.int32Data))return"int32Data: array expected";for(e=0;e<t.int32Data.length;++e)if(!a.isInteger(t.int32Data[e]))return"int32Data: integer[] expected"}if(t.stringData!=null&&t.hasOwnProperty("stringData")){if(!Array.isArray(t.stringData))return"stringData: array expected";for(e=0;e<t.stringData.length;++e)if(!(t.stringData[e]&&typeof t.stringData[e].length=="number"||a.isString(t.stringData[e])))return"stringData: buffer[] expected"}if(t.int64Data!=null&&t.hasOwnProperty("int64Data")){if(!Array.isArray(t.int64Data))return"int64Data: array expected";for(e=0;e<t.int64Data.length;++e)if(!(a.isInteger(t.int64Data[e])||t.int64Data[e]&&a.isInteger(t.int64Data[e].low)&&a.isInteger(t.int64Data[e].high)))return"int64Data: integer|Long[] expected"}if(t.name!=null&&t.hasOwnProperty("name")&&!a.isString(t.name))return"name: string expected";if(t.docString!=null&&t.hasOwnProperty("docString")&&!a.isString(t.docString))return"docString: string expected";if(t.rawData!=null&&t.hasOwnProperty("rawData")&&!(t.rawData&&typeof t.rawData.length=="number"||a.isString(t.rawData)))return"rawData: buffer expected";if(t.externalData!=null&&t.hasOwnProperty("externalData")){if(!Array.isArray(t.externalData))return"externalData: array expected";for(e=0;e<t.externalData.length;++e){var r;if(r=o.onnx.StringStringEntryProto.verify(t.externalData[e]))return"externalData."+r}}if(t.dataLocation!=null&&t.hasOwnProperty("dataLocation"))switch(t.dataLocation){default:return"dataLocation: enum value expected";case 0:case 1:}if(t.doubleData!=null&&t.hasOwnProperty("doubleData")){if(!Array.isArray(t.doubleData))return"doubleData: array expected";for(e=0;e<t.doubleData.length;++e)if(typeof t.doubleData[e]!="number")return"doubleData: number[] expected"}if(t.uint64Data!=null&&t.hasOwnProperty("uint64Data")){if(!Array.isArray(t.uint64Data))return"uint64Data: array expected";for(e=0;e<t.uint64Data.length;++e)if(!(a.isInteger(t.uint64Data[e])||t.uint64Data[e]&&a.isInteger(t.uint64Data[e].low)&&a.isInteger(t.uint64Data[e].high)))return"uint64Data: integer|Long[] expected"}return null},n.fromObject=function(t){if(t instanceof o.onnx.TensorProto)return t;var e=new o.onnx.TensorProto;if(t.dims){if(!Array.isArray(t.dims))throw TypeError(".onnx.TensorProto.dims: array expected");e.dims=[];for(var r=0;r<t.dims.length;++r)a.Long?(e.dims[r]=a.Long.fromValue(t.dims[r])).unsigned=!1:typeof t.dims[r]=="string"?e.dims[r]=parseInt(t.dims[r],10):typeof t.dims[r]=="number"?e.dims[r]=t.dims[r]:typeof t.dims[r]=="object"&&(e.dims[r]=new a.LongBits(t.dims[r].low>>>0,t.dims[r].high>>>0).toNumber())}if(t.dataType!=null&&(e.dataType=0|t.dataType),t.segment!=null){if(typeof t.segment!="object")throw TypeError(".onnx.TensorProto.segment: object expected");e.segment=o.onnx.TensorProto.Segment.fromObject(t.segment)}if(t.floatData){if(!Array.isArray(t.floatData))throw TypeError(".onnx.TensorProto.floatData: array expected");for(e.floatData=[],r=0;r<t.floatData.length;++r)e.floatData[r]=Number(t.floatData[r])}if(t.int32Data){if(!Array.isArray(t.int32Data))throw TypeError(".onnx.TensorProto.int32Data: array expected");for(e.int32Data=[],r=0;r<t.int32Data.length;++r)e.int32Data[r]=0|t.int32Data[r]}if(t.stringData){if(!Array.isArray(t.stringData))throw TypeError(".onnx.TensorProto.stringData: array expected");for(e.stringData=[],r=0;r<t.stringData.length;++r)typeof t.stringData[r]=="string"?a.base64.decode(t.stringData[r],e.stringData[r]=a.newBuffer(a.base64.length(t.stringData[r])),0):t.stringData[r].length>=0&&(e.stringData[r]=t.stringData[r])}if(t.int64Data){if(!Array.isArray(t.int64Data))throw TypeError(".onnx.TensorProto.int64Data: array expected");for(e.int64Data=[],r=0;r<t.int64Data.length;++r)a.Long?(e.int64Data[r]=a.Long.fromValue(t.int64Data[r])).unsigned=!1:typeof t.int64Data[r]=="string"?e.int64Data[r]=parseInt(t.int64Data[r],10):typeof t.int64Data[r]=="number"?e.int64Data[r]=t.int64Data[r]:typeof t.int64Data[r]=="object"&&(e.int64Data[r]=new a.LongBits(t.int64Data[r].low>>>0,t.int64Data[r].high>>>0).toNumber())}if(t.name!=null&&(e.name=String(t.name)),t.docString!=null&&(e.docString=String(t.docString)),t.rawData!=null&&(typeof t.rawData=="string"?a.base64.decode(t.rawData,e.rawData=a.newBuffer(a.base64.length(t.rawData)),0):t.rawData.length>=0&&(e.rawData=t.rawData)),t.externalData){if(!Array.isArray(t.externalData))throw TypeError(".onnx.TensorProto.externalData: array expected");for(e.externalData=[],r=0;r<t.externalData.length;++r){if(typeof t.externalData[r]!="object")throw TypeError(".onnx.TensorProto.externalData: object expected");e.externalData[r]=o.onnx.StringStringEntryProto.fromObject(t.externalData[r])}}switch(t.dataLocation){default:if(typeof t.dataLocation=="number"){e.dataLocation=t.dataLocation;break}break;case"DEFAULT":case 0:e.dataLocation=0;break;case"EXTERNAL":case 1:e.dataLocation=1}if(t.doubleData){if(!Array.isArray(t.doubleData))throw TypeError(".onnx.TensorProto.doubleData: array expected");for(e.doubleData=[],r=0;r<t.doubleData.length;++r)e.doubleData[r]=Number(t.doubleData[r])}if(t.uint64Data){if(!Array.isArray(t.uint64Data))throw TypeError(".onnx.TensorProto.uint64Data: array expected");for(e.uint64Data=[],r=0;r<t.uint64Data.length;++r)a.Long?(e.uint64Data[r]=a.Long.fromValue(t.uint64Data[r])).unsigned=!0:typeof t.uint64Data[r]=="string"?e.uint64Data[r]=parseInt(t.uint64Data[r],10):typeof t.uint64Data[r]=="number"?e.uint64Data[r]=t.uint64Data[r]:typeof t.uint64Data[r]=="object"&&(e.uint64Data[r]=new a.LongBits(t.uint64Data[r].low>>>0,t.uint64Data[r].high>>>0).toNumber(!0))}return e},n.toObject=function(t,e){e||(e={});var r={};if((e.arrays||e.defaults)&&(r.dims=[],r.floatData=[],r.int32Data=[],r.stringData=[],r.int64Data=[],r.doubleData=[],r.uint64Data=[],r.externalData=[]),e.defaults&&(r.dataType=0,r.segment=null,r.name="",e.bytes===String?r.rawData="":(r.rawData=[],e.bytes!==Array&&(r.rawData=a.newBuffer(r.rawData))),r.docString="",r.dataLocation=e.enums===String?"DEFAULT":0),t.dims&&t.dims.length){r.dims=[];for(var i=0;i<t.dims.length;++i)typeof t.dims[i]=="number"?r.dims[i]=e.longs===String?String(t.dims[i]):t.dims[i]:r.dims[i]=e.longs===String?a.Long.prototype.toString.call(t.dims[i]):e.longs===Number?new a.LongBits(t.dims[i].low>>>0,t.dims[i].high>>>0).toNumber():t.dims[i]}if(t.dataType!=null&&t.hasOwnProperty("dataType")&&(r.dataType=t.dataType),t.segment!=null&&t.hasOwnProperty("segment")&&(r.segment=o.onnx.TensorProto.Segment.toObject(t.segment,e)),t.floatData&&t.floatData.length)for(r.floatData=[],i=0;i<t.floatData.length;++i)r.floatData[i]=e.json&&!isFinite(t.floatData[i])?String(t.floatData[i]):t.floatData[i];if(t.int32Data&&t.int32Data.length)for(r.int32Data=[],i=0;i<t.int32Data.length;++i)r.int32Data[i]=t.int32Data[i];if(t.stringData&&t.stringData.length)for(r.stringData=[],i=0;i<t.stringData.length;++i)r.stringData[i]=e.bytes===String?a.base64.encode(t.stringData[i],0,t.stringData[i].length):e.bytes===Array?Array.prototype.slice.call(t.stringData[i]):t.stringData[i];if(t.int64Data&&t.int64Data.length)for(r.int64Data=[],i=0;i<t.int64Data.length;++i)typeof t.int64Data[i]=="number"?r.int64Data[i]=e.longs===String?String(t.int64Data[i]):t.int64Data[i]:r.int64Data[i]=e.longs===String?a.Long.prototype.toString.call(t.int64Data[i]):e.longs===Number?new a.LongBits(t.int64Data[i].low>>>0,t.int64Data[i].high>>>0).toNumber():t.int64Data[i];if(t.name!=null&&t.hasOwnProperty("name")&&(r.name=t.name),t.rawData!=null&&t.hasOwnProperty("rawData")&&(r.rawData=e.bytes===String?a.base64.encode(t.rawData,0,t.rawData.length):e.bytes===Array?Array.prototype.slice.call(t.rawData):t.rawData),t.doubleData&&t.doubleData.length)for(r.doubleData=[],i=0;i<t.doubleData.length;++i)r.doubleData[i]=e.json&&!isFinite(t.doubleData[i])?String(t.doubleData[i]):t.doubleData[i];if(t.uint64Data&&t.uint64Data.length)for(r.uint64Data=[],i=0;i<t.uint64Data.length;++i)typeof t.uint64Data[i]=="number"?r.uint64Data[i]=e.longs===String?String(t.uint64Data[i]):t.uint64Data[i]:r.uint64Data[i]=e.longs===String?a.Long.prototype.toString.call(t.uint64Data[i]):e.longs===Number?new a.LongBits(t.uint64Data[i].low>>>0,t.uint64Data[i].high>>>0).toNumber(!0):t.uint64Data[i];if(t.docString!=null&&t.hasOwnProperty("docString")&&(r.docString=t.docString),t.externalData&&t.externalData.length)for(r.externalData=[],i=0;i<t.externalData.length;++i)r.externalData[i]=o.onnx.StringStringEntryProto.toObject(t.externalData[i],e);return t.dataLocation!=null&&t.hasOwnProperty("dataLocation")&&(r.dataLocation=e.enums===String?o.onnx.TensorProto.DataLocation[t.dataLocation]===void 0?t.dataLocation:o.onnx.TensorProto.DataLocation[t.dataLocation]:t.dataLocation),r},n.prototype.toJSON=function(){return this.constructor.toObject(this,p.util.toJSONOptions)},n.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/onnx.TensorProto"},n.DataType=function(){var t={},e=Object.create(t);return e[t[0]="UNDEFINED"]=0,e[t[1]="FLOAT"]=1,e[t[2]="UINT8"]=2,e[t[3]="INT8"]=3,e[t[4]="UINT16"]=4,e[t[5]="INT16"]=5,e[t[6]="INT32"]=6,e[t[7]="INT64"]=7,e[t[8]="STRING"]=8,e[t[9]="BOOL"]=9,e[t[10]="FLOAT16"]=10,e[t[11]="DOUBLE"]=11,e[t[12]="UINT32"]=12,e[t[13]="UINT64"]=13,e[t[14]="COMPLEX64"]=14,e[t[15]="COMPLEX128"]=15,e[t[16]="BFLOAT16"]=16,e[t[17]="FLOAT8E4M3FN"]=17,e[t[18]="FLOAT8E4M3FNUZ"]=18,e[t[19]="FLOAT8E5M2"]=19,e[t[20]="FLOAT8E5M2FNUZ"]=20,e}(),n.Segment=function(){function t(e){if(e)for(var r=Object.keys(e),i=0;i<r.length;++i)e[r[i]]!=null&&(this[r[i]]=e[r[i]])}return t.prototype.begin=a.Long?a.Long.fromBits(0,0,!1):0,t.prototype.end=a.Long?a.Long.fromBits(0,0,!1):0,t.create=function(e){return new t(e)},t.encode=function(e,r){return r||(r=l.create()),e.begin!=null&&Object.hasOwnProperty.call(e,"begin")&&r.uint32(8).int64(e.begin),e.end!=null&&Object.hasOwnProperty.call(e,"end")&&r.uint32(16).int64(e.end),r},t.encodeDelimited=function(e,r){return this.encode(e,r).ldelim()},t.decode=function(e,r){e instanceof u||(e=u.create(e));for(var i=r===void 0?e.len:e.pos+r,s=new o.onnx.TensorProto.Segment;e.pos<i;){var f=e.uint32();switch(f>>>3){case 1:s.begin=e.int64();break;case 2:s.end=e.int64();break;default:e.skipType(7&f)}}return s},t.decodeDelimited=function(e){return e instanceof u||(e=new u(e)),this.decode(e,e.uint32())},t.verify=function(e){return typeof e!="object"||e===null?"object expected":e.begin!=null&&e.hasOwnProperty("begin")&&!(a.isInteger(e.begin)||e.begin&&a.isInteger(e.begin.low)&&a.isInteger(e.begin.high))?"begin: integer|Long expected":e.end!=null&&e.hasOwnProperty("end")&&!(a.isInteger(e.end)||e.end&&a.isInteger(e.end.low)&&a.isInteger(e.end.high))?"end: integer|Long expected":null},t.fromObject=function(e){if(e instanceof o.onnx.TensorProto.Segment)return e;var r=new o.onnx.TensorProto.Segment;return e.begin!=null&&(a.Long?(r.begin=a.Long.fromValue(e.begin)).unsigned=!1:typeof e.begin=="string"?r.begin=parseInt(e.begin,10):typeof e.begin=="number"?r.begin=e.begin:typeof e.begin=="object"&&(r.begin=new a.LongBits(e.begin.low>>>0,e.begin.high>>>0).toNumber())),e.end!=null&&(a.Long?(r.end=a.Long.fromValue(e.end)).unsigned=!1:typeof e.end=="string"?r.end=parseInt(e.end,10):typeof e.end=="number"?r.end=e.end:typeof e.end=="object"&&(r.end=new a.LongBits(e.end.low>>>0,e.end.high>>>0).toNumber())),r},t.toObject=function(e,r){r||(r={});var i={};if(r.defaults){if(a.Long){var s=new a.Long(0,0,!1);i.begin=r.longs===String?s.toString():r.longs===Number?s.toNumber():s}else i.begin=r.longs===String?"0":0;a.Long?(s=new a.Long(0,0,!1),i.end=r.longs===String?s.toString():r.longs===Number?s.toNumber():s):i.end=r.longs===String?"0":0}return e.begin!=null&&e.hasOwnProperty("begin")&&(typeof e.begin=="number"?i.begin=r.longs===String?String(e.begin):e.begin:i.begin=r.longs===String?a.Long.prototype.toString.call(e.begin):r.longs===Number?new a.LongBits(e.begin.low>>>0,e.begin.high>>>0).toNumber():e.begin),e.end!=null&&e.hasOwnProperty("end")&&(typeof e.end=="number"?i.end=r.longs===String?String(e.end):e.end:i.end=r.longs===String?a.Long.prototype.toString.call(e.end):r.longs===Number?new a.LongBits(e.end.low>>>0,e.end.high>>>0).toNumber():e.end),i},t.prototype.toJSON=function(){return this.constructor.toObject(this,p.util.toJSONOptions)},t.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/onnx.TensorProto.Segment"},t}(),n.DataLocation=function(){var t={},e=Object.create(t);return e[t[0]="DEFAULT"]=0,e[t[1]="EXTERNAL"]=1,e}(),n}(),h.SparseTensorProto=function(){function n(t){if(this.dims=[],t)for(var e=Object.keys(t),r=0;r<e.length;++r)t[e[r]]!=null&&(this[e[r]]=t[e[r]])}return n.prototype.values=null,n.prototype.indices=null,n.prototype.dims=a.emptyArray,n.create=function(t){return new n(t)},n.encode=function(t,e){if(e||(e=l.create()),t.values!=null&&Object.hasOwnProperty.call(t,"values")&&o.onnx.TensorProto.encode(t.values,e.uint32(10).fork()).ldelim(),t.indices!=null&&Object.hasOwnProperty.call(t,"indices")&&o.onnx.TensorProto.encode(t.indices,e.uint32(18).fork()).ldelim(),t.dims!=null&&t.dims.length){e.uint32(26).fork();for(var r=0;r<t.dims.length;++r)e.int64(t.dims[r]);e.ldelim()}return e},n.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},n.decode=function(t,e){t instanceof u||(t=u.create(t));for(var r=e===void 0?t.len:t.pos+e,i=new o.onnx.SparseTensorProto;t.pos<r;){var s=t.uint32();switch(s>>>3){case 1:i.values=o.onnx.TensorProto.decode(t,t.uint32());break;case 2:i.indices=o.onnx.TensorProto.decode(t,t.uint32());break;case 3:if(i.dims&&i.dims.length||(i.dims=[]),(7&s)==2)for(var f=t.uint32()+t.pos;t.pos<f;)i.dims.push(t.int64());else i.dims.push(t.int64());break;default:t.skipType(7&s)}}return i},n.decodeDelimited=function(t){return t instanceof u||(t=new u(t)),this.decode(t,t.uint32())},n.verify=function(t){if(typeof t!="object"||t===null)return"object expected";var e;if(t.values!=null&&t.hasOwnProperty("values")&&(e=o.onnx.TensorProto.verify(t.values)))return"values."+e;if(t.indices!=null&&t.hasOwnProperty("indices")&&(e=o.onnx.TensorProto.verify(t.indices)))return"indices."+e;if(t.dims!=null&&t.hasOwnProperty("dims")){if(!Array.isArray(t.dims))return"dims: array expected";for(var r=0;r<t.dims.length;++r)if(!(a.isInteger(t.dims[r])||t.dims[r]&&a.isInteger(t.dims[r].low)&&a.isInteger(t.dims[r].high)))return"dims: integer|Long[] expected"}return null},n.fromObject=function(t){if(t instanceof o.onnx.SparseTensorProto)return t;var e=new o.onnx.SparseTensorProto;if(t.values!=null){if(typeof t.values!="object")throw TypeError(".onnx.SparseTensorProto.values: object expected");e.values=o.onnx.TensorProto.fromObject(t.values)}if(t.indices!=null){if(typeof t.indices!="object")throw TypeError(".onnx.SparseTensorProto.indices: object expected");e.indices=o.onnx.TensorProto.fromObject(t.indices)}if(t.dims){if(!Array.isArray(t.dims))throw TypeError(".onnx.SparseTensorProto.dims: array expected");e.dims=[];for(var r=0;r<t.dims.length;++r)a.Long?(e.dims[r]=a.Long.fromValue(t.dims[r])).unsigned=!1:typeof t.dims[r]=="string"?e.dims[r]=parseInt(t.dims[r],10):typeof t.dims[r]=="number"?e.dims[r]=t.dims[r]:typeof t.dims[r]=="object"&&(e.dims[r]=new a.LongBits(t.dims[r].low>>>0,t.dims[r].high>>>0).toNumber())}return e},n.toObject=function(t,e){e||(e={});var r={};if((e.arrays||e.defaults)&&(r.dims=[]),e.defaults&&(r.values=null,r.indices=null),t.values!=null&&t.hasOwnProperty("values")&&(r.values=o.onnx.TensorProto.toObject(t.values,e)),t.indices!=null&&t.hasOwnProperty("indices")&&(r.indices=o.onnx.TensorProto.toObject(t.indices,e)),t.dims&&t.dims.length){r.dims=[];for(var i=0;i<t.dims.length;++i)typeof t.dims[i]=="number"?r.dims[i]=e.longs===String?String(t.dims[i]):t.dims[i]:r.dims[i]=e.longs===String?a.Long.prototype.toString.call(t.dims[i]):e.longs===Number?new a.LongBits(t.dims[i].low>>>0,t.dims[i].high>>>0).toNumber():t.dims[i]}return r},n.prototype.toJSON=function(){return this.constructor.toObject(this,p.util.toJSONOptions)},n.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/onnx.SparseTensorProto"},n}(),h.TensorShapeProto=function(){function n(t){if(this.dim=[],t)for(var e=Object.keys(t),r=0;r<e.length;++r)t[e[r]]!=null&&(this[e[r]]=t[e[r]])}return n.prototype.dim=a.emptyArray,n.create=function(t){return new n(t)},n.encode=function(t,e){if(e||(e=l.create()),t.dim!=null&&t.dim.length)for(var r=0;r<t.dim.length;++r)o.onnx.TensorShapeProto.Dimension.encode(t.dim[r],e.uint32(10).fork()).ldelim();return e},n.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},n.decode=function(t,e){t instanceof u||(t=u.create(t));for(var r=e===void 0?t.len:t.pos+e,i=new o.onnx.TensorShapeProto;t.pos<r;){var s=t.uint32();s>>>3==1?(i.dim&&i.dim.length||(i.dim=[]),i.dim.push(o.onnx.TensorShapeProto.Dimension.decode(t,t.uint32()))):t.skipType(7&s)}return i},n.decodeDelimited=function(t){return t instanceof u||(t=new u(t)),this.decode(t,t.uint32())},n.verify=function(t){if(typeof t!="object"||t===null)return"object expected";if(t.dim!=null&&t.hasOwnProperty("dim")){if(!Array.isArray(t.dim))return"dim: array expected";for(var e=0;e<t.dim.length;++e){var r=o.onnx.TensorShapeProto.Dimension.verify(t.dim[e]);if(r)return"dim."+r}}return null},n.fromObject=function(t){if(t instanceof o.onnx.TensorShapeProto)return t;var e=new o.onnx.TensorShapeProto;if(t.dim){if(!Array.isArray(t.dim))throw TypeError(".onnx.TensorShapeProto.dim: array expected");e.dim=[];for(var r=0;r<t.dim.length;++r){if(typeof t.dim[r]!="object")throw TypeError(".onnx.TensorShapeProto.dim: object expected");e.dim[r]=o.onnx.TensorShapeProto.Dimension.fromObject(t.dim[r])}}return e},n.toObject=function(t,e){e||(e={});var r={};if((e.arrays||e.defaults)&&(r.dim=[]),t.dim&&t.dim.length){r.dim=[];for(var i=0;i<t.dim.length;++i)r.dim[i]=o.onnx.TensorShapeProto.Dimension.toObject(t.dim[i],e)}return r},n.prototype.toJSON=function(){return this.constructor.toObject(this,p.util.toJSONOptions)},n.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/onnx.TensorShapeProto"},n.Dimension=function(){function t(r){if(r)for(var i=Object.keys(r),s=0;s<i.length;++s)r[i[s]]!=null&&(this[i[s]]=r[i[s]])}var e;return t.prototype.dimValue=null,t.prototype.dimParam=null,t.prototype.denotation="",Object.defineProperty(t.prototype,"value",{get:a.oneOfGetter(e=["dimValue","dimParam"]),set:a.oneOfSetter(e)}),t.create=function(r){return new t(r)},t.encode=function(r,i){return i||(i=l.create()),r.dimValue!=null&&Object.hasOwnProperty.call(r,"dimValue")&&i.uint32(8).int64(r.dimValue),r.dimParam!=null&&Object.hasOwnProperty.call(r,"dimParam")&&i.uint32(18).string(r.dimParam),r.denotation!=null&&Object.hasOwnProperty.call(r,"denotation")&&i.uint32(26).string(r.denotation),i},t.encodeDelimited=function(r,i){return this.encode(r,i).ldelim()},t.decode=function(r,i){r instanceof u||(r=u.create(r));for(var s=i===void 0?r.len:r.pos+i,f=new o.onnx.TensorShapeProto.Dimension;r.pos<s;){var g=r.uint32();switch(g>>>3){case 1:f.dimValue=r.int64();break;case 2:f.dimParam=r.string();break;case 3:f.denotation=r.string();break;default:r.skipType(7&g)}}return f},t.decodeDelimited=function(r){return r instanceof u||(r=new u(r)),this.decode(r,r.uint32())},t.verify=function(r){if(typeof r!="object"||r===null)return"object expected";var i={};if(r.dimValue!=null&&r.hasOwnProperty("dimValue")&&(i.value=1,!(a.isInteger(r.dimValue)||r.dimValue&&a.isInteger(r.dimValue.low)&&a.isInteger(r.dimValue.high))))return"dimValue: integer|Long expected";if(r.dimParam!=null&&r.hasOwnProperty("dimParam")){if(i.value===1)return"value: multiple values";if(i.value=1,!a.isString(r.dimParam))return"dimParam: string expected"}return r.denotation!=null&&r.hasOwnProperty("denotation")&&!a.isString(r.denotation)?"denotation: string expected":null},t.fromObject=function(r){if(r instanceof o.onnx.TensorShapeProto.Dimension)return r;var i=new o.onnx.TensorShapeProto.Dimension;return r.dimValue!=null&&(a.Long?(i.dimValue=a.Long.fromValue(r.dimValue)).unsigned=!1:typeof r.dimValue=="string"?i.dimValue=parseInt(r.dimValue,10):typeof r.dimValue=="number"?i.dimValue=r.dimValue:typeof r.dimValue=="object"&&(i.dimValue=new a.LongBits(r.dimValue.low>>>0,r.dimValue.high>>>0).toNumber())),r.dimParam!=null&&(i.dimParam=String(r.dimParam)),r.denotation!=null&&(i.denotation=String(r.denotation)),i},t.toObject=function(r,i){i||(i={});var s={};return i.defaults&&(s.denotation=""),r.dimValue!=null&&r.hasOwnProperty("dimValue")&&(typeof r.dimValue=="number"?s.dimValue=i.longs===String?String(r.dimValue):r.dimValue:s.dimValue=i.longs===String?a.Long.prototype.toString.call(r.dimValue):i.longs===Number?new a.LongBits(r.dimValue.low>>>0,r.dimValue.high>>>0).toNumber():r.dimValue,i.oneofs&&(s.value="dimValue")),r.dimParam!=null&&r.hasOwnProperty("dimParam")&&(s.dimParam=r.dimParam,i.oneofs&&(s.value="dimParam")),r.denotation!=null&&r.hasOwnProperty("denotation")&&(s.denotation=r.denotation),s},t.prototype.toJSON=function(){return this.constructor.toObject(this,p.util.toJSONOptions)},t.getTypeUrl=function(r){return r===void 0&&(r="type.googleapis.com"),r+"/onnx.TensorShapeProto.Dimension"},t}(),n}(),h.TypeProto=function(){function n(e){if(e)for(var r=Object.keys(e),i=0;i<r.length;++i)e[r[i]]!=null&&(this[r[i]]=e[r[i]])}var t;return n.prototype.tensorType=null,n.prototype.sequenceType=null,n.prototype.mapType=null,n.prototype.optionalType=null,n.prototype.sparseTensorType=null,n.prototype.denotation="",Object.defineProperty(n.prototype,"value",{get:a.oneOfGetter(t=["tensorType","sequenceType","mapType","optionalType","sparseTensorType"]),set:a.oneOfSetter(t)}),n.create=function(e){return new n(e)},n.encode=function(e,r){return r||(r=l.create()),e.tensorType!=null&&Object.hasOwnProperty.call(e,"tensorType")&&o.onnx.TypeProto.Tensor.encode(e.tensorType,r.uint32(10).fork()).ldelim(),e.sequenceType!=null&&Object.hasOwnProperty.call(e,"sequenceType")&&o.onnx.TypeProto.Sequence.encode(e.sequenceType,r.uint32(34).fork()).ldelim(),e.mapType!=null&&Object.hasOwnProperty.call(e,"mapType")&&o.onnx.TypeProto.Map.encode(e.mapType,r.uint32(42).fork()).ldelim(),e.denotation!=null&&Object.hasOwnProperty.call(e,"denotation")&&r.uint32(50).string(e.denotation),e.sparseTensorType!=null&&Object.hasOwnProperty.call(e,"sparseTensorType")&&o.onnx.TypeProto.SparseTensor.encode(e.sparseTensorType,r.uint32(66).fork()).ldelim(),e.optionalType!=null&&Object.hasOwnProperty.call(e,"optionalType")&&o.onnx.TypeProto.Optional.encode(e.optionalType,r.uint32(74).fork()).ldelim(),r},n.encodeDelimited=function(e,r){return this.encode(e,r).ldelim()},n.decode=function(e,r){e instanceof u||(e=u.create(e));for(var i=r===void 0?e.len:e.pos+r,s=new o.onnx.TypeProto;e.pos<i;){var f=e.uint32();switch(f>>>3){case 1:s.tensorType=o.onnx.TypeProto.Tensor.decode(e,e.uint32());break;case 4:s.sequenceType=o.onnx.TypeProto.Sequence.decode(e,e.uint32());break;case 5:s.mapType=o.onnx.TypeProto.Map.decode(e,e.uint32());break;case 9:s.optionalType=o.onnx.TypeProto.Optional.decode(e,e.uint32());break;case 8:s.sparseTensorType=o.onnx.TypeProto.SparseTensor.decode(e,e.uint32());break;case 6:s.denotation=e.string();break;default:e.skipType(7&f)}}return s},n.decodeDelimited=function(e){return e instanceof u||(e=new u(e)),this.decode(e,e.uint32())},n.verify=function(e){if(typeof e!="object"||e===null)return"object expected";var r={};if(e.tensorType!=null&&e.hasOwnProperty("tensorType")&&(r.value=1,i=o.onnx.TypeProto.Tensor.verify(e.tensorType)))return"tensorType."+i;if(e.sequenceType!=null&&e.hasOwnProperty("sequenceType")){if(r.value===1)return"value: multiple values";if(r.value=1,i=o.onnx.TypeProto.Sequence.verify(e.sequenceType))return"sequenceType."+i}if(e.mapType!=null&&e.hasOwnProperty("mapType")){if(r.value===1)return"value: multiple values";if(r.value=1,i=o.onnx.TypeProto.Map.verify(e.mapType))return"mapType."+i}if(e.optionalType!=null&&e.hasOwnProperty("optionalType")){if(r.value===1)return"value: multiple values";if(r.value=1,i=o.onnx.TypeProto.Optional.verify(e.optionalType))return"optionalType."+i}if(e.sparseTensorType!=null&&e.hasOwnProperty("sparseTensorType")){if(r.value===1)return"value: multiple values";var i;if(r.value=1,i=o.onnx.TypeProto.SparseTensor.verify(e.sparseTensorType))return"sparseTensorType."+i}return e.denotation!=null&&e.hasOwnProperty("denotation")&&!a.isString(e.denotation)?"denotation: string expected":null},n.fromObject=function(e){if(e instanceof o.onnx.TypeProto)return e;var r=new o.onnx.TypeProto;if(e.tensorType!=null){if(typeof e.tensorType!="object")throw TypeError(".onnx.TypeProto.tensorType: object expected");r.tensorType=o.onnx.TypeProto.Tensor.fromObject(e.tensorType)}if(e.sequenceType!=null){if(typeof e.sequenceType!="object")throw TypeError(".onnx.TypeProto.sequenceType: object expected");r.sequenceType=o.onnx.TypeProto.Sequence.fromObject(e.sequenceType)}if(e.mapType!=null){if(typeof e.mapType!="object")throw TypeError(".onnx.TypeProto.mapType: object expected");r.mapType=o.onnx.TypeProto.Map.fromObject(e.mapType)}if(e.optionalType!=null){if(typeof e.optionalType!="object")throw TypeError(".onnx.TypeProto.optionalType: object expected");r.optionalType=o.onnx.TypeProto.Optional.fromObject(e.optionalType)}if(e.sparseTensorType!=null){if(typeof e.sparseTensorType!="object")throw TypeError(".onnx.TypeProto.sparseTensorType: object expected");r.sparseTensorType=o.onnx.TypeProto.SparseTensor.fromObject(e.sparseTensorType)}return e.denotation!=null&&(r.denotation=String(e.denotation)),r},n.toObject=function(e,r){r||(r={});var i={};return r.defaults&&(i.denotation=""),e.tensorType!=null&&e.hasOwnProperty("tensorType")&&(i.tensorType=o.onnx.TypeProto.Tensor.toObject(e.tensorType,r),r.oneofs&&(i.value="tensorType")),e.sequenceType!=null&&e.hasOwnProperty("sequenceType")&&(i.sequenceType=o.onnx.TypeProto.Sequence.toObject(e.sequenceType,r),r.oneofs&&(i.value="sequenceType")),e.mapType!=null&&e.hasOwnProperty("mapType")&&(i.mapType=o.onnx.TypeProto.Map.toObject(e.mapType,r),r.oneofs&&(i.value="mapType")),e.denotation!=null&&e.hasOwnProperty("denotation")&&(i.denotation=e.denotation),e.sparseTensorType!=null&&e.hasOwnProperty("sparseTensorType")&&(i.sparseTensorType=o.onnx.TypeProto.SparseTensor.toObject(e.sparseTensorType,r),r.oneofs&&(i.value="sparseTensorType")),e.optionalType!=null&&e.hasOwnProperty("optionalType")&&(i.optionalType=o.onnx.TypeProto.Optional.toObject(e.optionalType,r),r.oneofs&&(i.value="optionalType")),i},n.prototype.toJSON=function(){return this.constructor.toObject(this,p.util.toJSONOptions)},n.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/onnx.TypeProto"},n.Tensor=function(){function e(r){if(r)for(var i=Object.keys(r),s=0;s<i.length;++s)r[i[s]]!=null&&(this[i[s]]=r[i[s]])}return e.prototype.elemType=0,e.prototype.shape=null,e.create=function(r){return new e(r)},e.encode=function(r,i){return i||(i=l.create()),r.elemType!=null&&Object.hasOwnProperty.call(r,"elemType")&&i.uint32(8).int32(r.elemType),r.shape!=null&&Object.hasOwnProperty.call(r,"shape")&&o.onnx.TensorShapeProto.encode(r.shape,i.uint32(18).fork()).ldelim(),i},e.encodeDelimited=function(r,i){return this.encode(r,i).ldelim()},e.decode=function(r,i){r instanceof u||(r=u.create(r));for(var s=i===void 0?r.len:r.pos+i,f=new o.onnx.TypeProto.Tensor;r.pos<s;){var g=r.uint32();switch(g>>>3){case 1:f.elemType=r.int32();break;case 2:f.shape=o.onnx.TensorShapeProto.decode(r,r.uint32());break;default:r.skipType(7&g)}}return f},e.decodeDelimited=function(r){return r instanceof u||(r=new u(r)),this.decode(r,r.uint32())},e.verify=function(r){if(typeof r!="object"||r===null)return"object expected";if(r.elemType!=null&&r.hasOwnProperty("elemType")&&!a.isInteger(r.elemType))return"elemType: integer expected";if(r.shape!=null&&r.hasOwnProperty("shape")){var i=o.onnx.TensorShapeProto.verify(r.shape);if(i)return"shape."+i}return null},e.fromObject=function(r){if(r instanceof o.onnx.TypeProto.Tensor)return r;var i=new o.onnx.TypeProto.Tensor;if(r.elemType!=null&&(i.elemType=0|r.elemType),r.shape!=null){if(typeof r.shape!="object")throw TypeError(".onnx.TypeProto.Tensor.shape: object expected");i.shape=o.onnx.TensorShapeProto.fromObject(r.shape)}return i},e.toObject=function(r,i){i||(i={});var s={};return i.defaults&&(s.elemType=0,s.shape=null),r.elemType!=null&&r.hasOwnProperty("elemType")&&(s.elemType=r.elemType),r.shape!=null&&r.hasOwnProperty("shape")&&(s.shape=o.onnx.TensorShapeProto.toObject(r.shape,i)),s},e.prototype.toJSON=function(){return this.constructor.toObject(this,p.util.toJSONOptions)},e.getTypeUrl=function(r){return r===void 0&&(r="type.googleapis.com"),r+"/onnx.TypeProto.Tensor"},e}(),n.Sequence=function(){function e(r){if(r)for(var i=Object.keys(r),s=0;s<i.length;++s)r[i[s]]!=null&&(this[i[s]]=r[i[s]])}return e.prototype.elemType=null,e.create=function(r){return new e(r)},e.encode=function(r,i){return i||(i=l.create()),r.elemType!=null&&Object.hasOwnProperty.call(r,"elemType")&&o.onnx.TypeProto.encode(r.elemType,i.uint32(10).fork()).ldelim(),i},e.encodeDelimited=function(r,i){return this.encode(r,i).ldelim()},e.decode=function(r,i){r instanceof u||(r=u.create(r));for(var s=i===void 0?r.len:r.pos+i,f=new o.onnx.TypeProto.Sequence;r.pos<s;){var g=r.uint32();g>>>3==1?f.elemType=o.onnx.TypeProto.decode(r,r.uint32()):r.skipType(7&g)}return f},e.decodeDelimited=function(r){return r instanceof u||(r=new u(r)),this.decode(r,r.uint32())},e.verify=function(r){if(typeof r!="object"||r===null)return"object expected";if(r.elemType!=null&&r.hasOwnProperty("elemType")){var i=o.onnx.TypeProto.verify(r.elemType);if(i)return"elemType."+i}return null},e.fromObject=function(r){if(r instanceof o.onnx.TypeProto.Sequence)return r;var i=new o.onnx.TypeProto.Sequence;if(r.elemType!=null){if(typeof r.elemType!="object")throw TypeError(".onnx.TypeProto.Sequence.elemType: object expected");i.elemType=o.onnx.TypeProto.fromObject(r.elemType)}return i},e.toObject=function(r,i){i||(i={});var s={};return i.defaults&&(s.elemType=null),r.elemType!=null&&r.hasOwnProperty("elemType")&&(s.elemType=o.onnx.TypeProto.toObject(r.elemType,i)),s},e.prototype.toJSON=function(){return this.constructor.toObject(this,p.util.toJSONOptions)},e.getTypeUrl=function(r){return r===void 0&&(r="type.googleapis.com"),r+"/onnx.TypeProto.Sequence"},e}(),n.Map=function(){function e(r){if(r)for(var i=Object.keys(r),s=0;s<i.length;++s)r[i[s]]!=null&&(this[i[s]]=r[i[s]])}return e.prototype.keyType=0,e.prototype.valueType=null,e.create=function(r){return new e(r)},e.encode=function(r,i){return i||(i=l.create()),r.keyType!=null&&Object.hasOwnProperty.call(r,"keyType")&&i.uint32(8).int32(r.keyType),r.valueType!=null&&Object.hasOwnProperty.call(r,"valueType")&&o.onnx.TypeProto.encode(r.valueType,i.uint32(18).fork()).ldelim(),i},e.encodeDelimited=function(r,i){return this.encode(r,i).ldelim()},e.decode=function(r,i){r instanceof u||(r=u.create(r));for(var s=i===void 0?r.len:r.pos+i,f=new o.onnx.TypeProto.Map;r.pos<s;){var g=r.uint32();switch(g>>>3){case 1:f.keyType=r.int32();break;case 2:f.valueType=o.onnx.TypeProto.decode(r,r.uint32());break;default:r.skipType(7&g)}}return f},e.decodeDelimited=function(r){return r instanceof u||(r=new u(r)),this.decode(r,r.uint32())},e.verify=function(r){if(typeof r!="object"||r===null)return"object expected";if(r.keyType!=null&&r.hasOwnProperty("keyType")&&!a.isInteger(r.keyType))return"keyType: integer expected";if(r.valueType!=null&&r.hasOwnProperty("valueType")){var i=o.onnx.TypeProto.verify(r.valueType);if(i)return"valueType."+i}return null},e.fromObject=function(r){if(r instanceof o.onnx.TypeProto.Map)return r;var i=new o.onnx.TypeProto.Map;if(r.keyType!=null&&(i.keyType=0|r.keyType),r.valueType!=null){if(typeof r.valueType!="object")throw TypeError(".onnx.TypeProto.Map.valueType: object expected");i.valueType=o.onnx.TypeProto.fromObject(r.valueType)}return i},e.toObject=function(r,i){i||(i={});var s={};return i.defaults&&(s.keyType=0,s.valueType=null),r.keyType!=null&&r.hasOwnProperty("keyType")&&(s.keyType=r.keyType),r.valueType!=null&&r.hasOwnProperty("valueType")&&(s.valueType=o.onnx.TypeProto.toObject(r.valueType,i)),s},e.prototype.toJSON=function(){return this.constructor.toObject(this,p.util.toJSONOptions)},e.getTypeUrl=function(r){return r===void 0&&(r="type.googleapis.com"),r+"/onnx.TypeProto.Map"},e}(),n.Optional=function(){function e(r){if(r)for(var i=Object.keys(r),s=0;s<i.length;++s)r[i[s]]!=null&&(this[i[s]]=r[i[s]])}return e.prototype.elemType=null,e.create=function(r){return new e(r)},e.encode=function(r,i){return i||(i=l.create()),r.elemType!=null&&Object.hasOwnProperty.call(r,"elemType")&&o.onnx.TypeProto.encode(r.elemType,i.uint32(10).fork()).ldelim(),i},e.encodeDelimited=function(r,i){return this.encode(r,i).ldelim()},e.decode=function(r,i){r instanceof u||(r=u.create(r));for(var s=i===void 0?r.len:r.pos+i,f=new o.onnx.TypeProto.Optional;r.pos<s;){var g=r.uint32();g>>>3==1?f.elemType=o.onnx.TypeProto.decode(r,r.uint32()):r.skipType(7&g)}return f},e.decodeDelimited=function(r){return r instanceof u||(r=new u(r)),this.decode(r,r.uint32())},e.verify=function(r){if(typeof r!="object"||r===null)return"object expected";if(r.elemType!=null&&r.hasOwnProperty("elemType")){var i=o.onnx.TypeProto.verify(r.elemType);if(i)return"elemType."+i}return null},e.fromObject=function(r){if(r instanceof o.onnx.TypeProto.Optional)return r;var i=new o.onnx.TypeProto.Optional;if(r.elemType!=null){if(typeof r.elemType!="object")throw TypeError(".onnx.TypeProto.Optional.elemType: object expected");i.elemType=o.onnx.TypeProto.fromObject(r.elemType)}return i},e.toObject=function(r,i){i||(i={});var s={};return i.defaults&&(s.elemType=null),r.elemType!=null&&r.hasOwnProperty("elemType")&&(s.elemType=o.onnx.TypeProto.toObject(r.elemType,i)),s},e.prototype.toJSON=function(){return this.constructor.toObject(this,p.util.toJSONOptions)},e.getTypeUrl=function(r){return r===void 0&&(r="type.googleapis.com"),r+"/onnx.TypeProto.Optional"},e}(),n.SparseTensor=function(){function e(r){if(r)for(var i=Object.keys(r),s=0;s<i.length;++s)r[i[s]]!=null&&(this[i[s]]=r[i[s]])}return e.prototype.elemType=0,e.prototype.shape=null,e.create=function(r){return new e(r)},e.encode=function(r,i){return i||(i=l.create()),r.elemType!=null&&Object.hasOwnProperty.call(r,"elemType")&&i.uint32(8).int32(r.elemType),r.shape!=null&&Object.hasOwnProperty.call(r,"shape")&&o.onnx.TensorShapeProto.encode(r.shape,i.uint32(18).fork()).ldelim(),i},e.encodeDelimited=function(r,i){return this.encode(r,i).ldelim()},e.decode=function(r,i){r instanceof u||(r=u.create(r));for(var s=i===void 0?r.len:r.pos+i,f=new o.onnx.TypeProto.SparseTensor;r.pos<s;){var g=r.uint32();switch(g>>>3){case 1:f.elemType=r.int32();break;case 2:f.shape=o.onnx.TensorShapeProto.decode(r,r.uint32());break;default:r.skipType(7&g)}}return f},e.decodeDelimited=function(r){return r instanceof u||(r=new u(r)),this.decode(r,r.uint32())},e.verify=function(r){if(typeof r!="object"||r===null)return"object expected";if(r.elemType!=null&&r.hasOwnProperty("elemType")&&!a.isInteger(r.elemType))return"elemType: integer expected";if(r.shape!=null&&r.hasOwnProperty("shape")){var i=o.onnx.TensorShapeProto.verify(r.shape);if(i)return"shape."+i}return null},e.fromObject=function(r){if(r instanceof o.onnx.TypeProto.SparseTensor)return r;var i=new o.onnx.TypeProto.SparseTensor;if(r.elemType!=null&&(i.elemType=0|r.elemType),r.shape!=null){if(typeof r.shape!="object")throw TypeError(".onnx.TypeProto.SparseTensor.shape: object expected");i.shape=o.onnx.TensorShapeProto.fromObject(r.shape)}return i},e.toObject=function(r,i){i||(i={});var s={};return i.defaults&&(s.elemType=0,s.shape=null),r.elemType!=null&&r.hasOwnProperty("elemType")&&(s.elemType=r.elemType),r.shape!=null&&r.hasOwnProperty("shape")&&(s.shape=o.onnx.TensorShapeProto.toObject(r.shape,i)),s},e.prototype.toJSON=function(){return this.constructor.toObject(this,p.util.toJSONOptions)},e.getTypeUrl=function(r){return r===void 0&&(r="type.googleapis.com"),r+"/onnx.TypeProto.SparseTensor"},e}(),n}(),h.OperatorSetIdProto=function(){function n(t){if(t)for(var e=Object.keys(t),r=0;r<e.length;++r)t[e[r]]!=null&&(this[e[r]]=t[e[r]])}return n.prototype.domain="",n.prototype.version=a.Long?a.Long.fromBits(0,0,!1):0,n.create=function(t){return new n(t)},n.encode=function(t,e){return e||(e=l.create()),t.domain!=null&&Object.hasOwnProperty.call(t,"domain")&&e.uint32(10).string(t.domain),t.version!=null&&Object.hasOwnProperty.call(t,"version")&&e.uint32(16).int64(t.version),e},n.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},n.decode=function(t,e){t instanceof u||(t=u.create(t));for(var r=e===void 0?t.len:t.pos+e,i=new o.onnx.OperatorSetIdProto;t.pos<r;){var s=t.uint32();switch(s>>>3){case 1:i.domain=t.string();break;case 2:i.version=t.int64();break;default:t.skipType(7&s)}}return i},n.decodeDelimited=function(t){return t instanceof u||(t=new u(t)),this.decode(t,t.uint32())},n.verify=function(t){return typeof t!="object"||t===null?"object expected":t.domain!=null&&t.hasOwnProperty("domain")&&!a.isString(t.domain)?"domain: string expected":t.version!=null&&t.hasOwnProperty("version")&&!(a.isInteger(t.version)||t.version&&a.isInteger(t.version.low)&&a.isInteger(t.version.high))?"version: integer|Long expected":null},n.fromObject=function(t){if(t instanceof o.onnx.OperatorSetIdProto)return t;var e=new o.onnx.OperatorSetIdProto;return t.domain!=null&&(e.domain=String(t.domain)),t.version!=null&&(a.Long?(e.version=a.Long.fromValue(t.version)).unsigned=!1:typeof t.version=="string"?e.version=parseInt(t.version,10):typeof t.version=="number"?e.version=t.version:typeof t.version=="object"&&(e.version=new a.LongBits(t.version.low>>>0,t.version.high>>>0).toNumber())),e},n.toObject=function(t,e){e||(e={});var r={};if(e.defaults)if(r.domain="",a.Long){var i=new a.Long(0,0,!1);r.version=e.longs===String?i.toString():e.longs===Number?i.toNumber():i}else r.version=e.longs===String?"0":0;return t.domain!=null&&t.hasOwnProperty("domain")&&(r.domain=t.domain),t.version!=null&&t.hasOwnProperty("version")&&(typeof t.version=="number"?r.version=e.longs===String?String(t.version):t.version:r.version=e.longs===String?a.Long.prototype.toString.call(t.version):e.longs===Number?new a.LongBits(t.version.low>>>0,t.version.high>>>0).toNumber():t.version),r},n.prototype.toJSON=function(){return this.constructor.toObject(this,p.util.toJSONOptions)},n.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/onnx.OperatorSetIdProto"},n}(),h.OperatorStatus=function(){var n={},t=Object.create(n);return t[n[0]="EXPERIMENTAL"]=0,t[n[1]="STABLE"]=1,t}(),h.FunctionProto=function(){function n(t){if(this.input=[],this.output=[],this.attribute=[],this.attributeProto=[],this.node=[],this.opsetImport=[],t)for(var e=Object.keys(t),r=0;r<e.length;++r)t[e[r]]!=null&&(this[e[r]]=t[e[r]])}return n.prototype.name="",n.prototype.input=a.emptyArray,n.prototype.output=a.emptyArray,n.prototype.attribute=a.emptyArray,n.prototype.attributeProto=a.emptyArray,n.prototype.node=a.emptyArray,n.prototype.docString="",n.prototype.opsetImport=a.emptyArray,n.prototype.domain="",n.create=function(t){return new n(t)},n.encode=function(t,e){if(e||(e=l.create()),t.name!=null&&Object.hasOwnProperty.call(t,"name")&&e.uint32(10).string(t.name),t.input!=null&&t.input.length)for(var r=0;r<t.input.length;++r)e.uint32(34).string(t.input[r]);if(t.output!=null&&t.output.length)for(r=0;r<t.output.length;++r)e.uint32(42).string(t.output[r]);if(t.attribute!=null&&t.attribute.length)for(r=0;r<t.attribute.length;++r)e.uint32(50).string(t.attribute[r]);if(t.node!=null&&t.node.length)for(r=0;r<t.node.length;++r)o.onnx.NodeProto.encode(t.node[r],e.uint32(58).fork()).ldelim();if(t.docString!=null&&Object.hasOwnProperty.call(t,"docString")&&e.uint32(66).string(t.docString),t.opsetImport!=null&&t.opsetImport.length)for(r=0;r<t.opsetImport.length;++r)o.onnx.OperatorSetIdProto.encode(t.opsetImport[r],e.uint32(74).fork()).ldelim();if(t.domain!=null&&Object.hasOwnProperty.call(t,"domain")&&e.uint32(82).string(t.domain),t.attributeProto!=null&&t.attributeProto.length)for(r=0;r<t.attributeProto.length;++r)o.onnx.AttributeProto.encode(t.attributeProto[r],e.uint32(90).fork()).ldelim();return e},n.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},n.decode=function(t,e){t instanceof u||(t=u.create(t));for(var r=e===void 0?t.len:t.pos+e,i=new o.onnx.FunctionProto;t.pos<r;){var s=t.uint32();switch(s>>>3){case 1:i.name=t.string();break;case 4:i.input&&i.input.length||(i.input=[]),i.input.push(t.string());break;case 5:i.output&&i.output.length||(i.output=[]),i.output.push(t.string());break;case 6:i.attribute&&i.attribute.length||(i.attribute=[]),i.attribute.push(t.string());break;case 11:i.attributeProto&&i.attributeProto.length||(i.attributeProto=[]),i.attributeProto.push(o.onnx.AttributeProto.decode(t,t.uint32()));break;case 7:i.node&&i.node.length||(i.node=[]),i.node.push(o.onnx.NodeProto.decode(t,t.uint32()));break;case 8:i.docString=t.string();break;case 9:i.opsetImport&&i.opsetImport.length||(i.opsetImport=[]),i.opsetImport.push(o.onnx.OperatorSetIdProto.decode(t,t.uint32()));break;case 10:i.domain=t.string();break;default:t.skipType(7&s)}}return i},n.decodeDelimited=function(t){return t instanceof u||(t=new u(t)),this.decode(t,t.uint32())},n.verify=function(t){if(typeof t!="object"||t===null)return"object expected";if(t.name!=null&&t.hasOwnProperty("name")&&!a.isString(t.name))return"name: string expected";if(t.input!=null&&t.hasOwnProperty("input")){if(!Array.isArray(t.input))return"input: array expected";for(var e=0;e<t.input.length;++e)if(!a.isString(t.input[e]))return"input: string[] expected"}if(t.output!=null&&t.hasOwnProperty("output")){if(!Array.isArray(t.output))return"output: array expected";for(e=0;e<t.output.length;++e)if(!a.isString(t.output[e]))return"output: string[] expected"}if(t.attribute!=null&&t.hasOwnProperty("attribute")){if(!Array.isArray(t.attribute))return"attribute: array expected";for(e=0;e<t.attribute.length;++e)if(!a.isString(t.attribute[e]))return"attribute: string[] expected"}if(t.attributeProto!=null&&t.hasOwnProperty("attributeProto")){if(!Array.isArray(t.attributeProto))return"attributeProto: array expected";for(e=0;e<t.attributeProto.length;++e)if(r=o.onnx.AttributeProto.verify(t.attributeProto[e]))return"attributeProto."+r}if(t.node!=null&&t.hasOwnProperty("node")){if(!Array.isArray(t.node))return"node: array expected";for(e=0;e<t.node.length;++e)if(r=o.onnx.NodeProto.verify(t.node[e]))return"node."+r}if(t.docString!=null&&t.hasOwnProperty("docString")&&!a.isString(t.docString))return"docString: string expected";if(t.opsetImport!=null&&t.hasOwnProperty("opsetImport")){if(!Array.isArray(t.opsetImport))return"opsetImport: array expected";for(e=0;e<t.opsetImport.length;++e){var r;if(r=o.onnx.OperatorSetIdProto.verify(t.opsetImport[e]))return"opsetImport."+r}}return t.domain!=null&&t.hasOwnProperty("domain")&&!a.isString(t.domain)?"domain: string expected":null},n.fromObject=function(t){if(t instanceof o.onnx.FunctionProto)return t;var e=new o.onnx.FunctionProto;if(t.name!=null&&(e.name=String(t.name)),t.input){if(!Array.isArray(t.input))throw TypeError(".onnx.FunctionProto.input: array expected");e.input=[];for(var r=0;r<t.input.length;++r)e.input[r]=String(t.input[r])}if(t.output){if(!Array.isArray(t.output))throw TypeError(".onnx.FunctionProto.output: array expected");for(e.output=[],r=0;r<t.output.length;++r)e.output[r]=String(t.output[r])}if(t.attribute){if(!Array.isArray(t.attribute))throw TypeError(".onnx.FunctionProto.attribute: array expected");for(e.attribute=[],r=0;r<t.attribute.length;++r)e.attribute[r]=String(t.attribute[r])}if(t.attributeProto){if(!Array.isArray(t.attributeProto))throw TypeError(".onnx.FunctionProto.attributeProto: array expected");for(e.attributeProto=[],r=0;r<t.attributeProto.length;++r){if(typeof t.attributeProto[r]!="object")throw TypeError(".onnx.FunctionProto.attributeProto: object expected");e.attributeProto[r]=o.onnx.AttributeProto.fromObject(t.attributeProto[r])}}if(t.node){if(!Array.isArray(t.node))throw TypeError(".onnx.FunctionProto.node: array expected");for(e.node=[],r=0;r<t.node.length;++r){if(typeof t.node[r]!="object")throw TypeError(".onnx.FunctionProto.node: object expected");e.node[r]=o.onnx.NodeProto.fromObject(t.node[r])}}if(t.docString!=null&&(e.docString=String(t.docString)),t.opsetImport){if(!Array.isArray(t.opsetImport))throw TypeError(".onnx.FunctionProto.opsetImport: array expected");for(e.opsetImport=[],r=0;r<t.opsetImport.length;++r){if(typeof t.opsetImport[r]!="object")throw TypeError(".onnx.FunctionProto.opsetImport: object expected");e.opsetImport[r]=o.onnx.OperatorSetIdProto.fromObject(t.opsetImport[r])}}return t.domain!=null&&(e.domain=String(t.domain)),e},n.toObject=function(t,e){e||(e={});var r={};if((e.arrays||e.defaults)&&(r.input=[],r.output=[],r.attribute=[],r.node=[],r.opsetImport=[],r.attributeProto=[]),e.defaults&&(r.name="",r.docString="",r.domain=""),t.name!=null&&t.hasOwnProperty("name")&&(r.name=t.name),t.input&&t.input.length){r.input=[];for(var i=0;i<t.input.length;++i)r.input[i]=t.input[i]}if(t.output&&t.output.length)for(r.output=[],i=0;i<t.output.length;++i)r.output[i]=t.output[i];if(t.attribute&&t.attribute.length)for(r.attribute=[],i=0;i<t.attribute.length;++i)r.attribute[i]=t.attribute[i];if(t.node&&t.node.length)for(r.node=[],i=0;i<t.node.length;++i)r.node[i]=o.onnx.NodeProto.toObject(t.node[i],e);if(t.docString!=null&&t.hasOwnProperty("docString")&&(r.docString=t.docString),t.opsetImport&&t.opsetImport.length)for(r.opsetImport=[],i=0;i<t.opsetImport.length;++i)r.opsetImport[i]=o.onnx.OperatorSetIdProto.toObject(t.opsetImport[i],e);if(t.domain!=null&&t.hasOwnProperty("domain")&&(r.domain=t.domain),t.attributeProto&&t.attributeProto.length)for(r.attributeProto=[],i=0;i<t.attributeProto.length;++i)r.attributeProto[i]=o.onnx.AttributeProto.toObject(t.attributeProto[i],e);return r},n.prototype.toJSON=function(){return this.constructor.toObject(this,p.util.toJSONOptions)},n.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/onnx.FunctionProto"},n}(),h),N.exports=o},3474:(N,c,w)=>{var b,d=(b=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0,typeof __filename<"u"&&(b=b||__filename),function(h={}){function p(){return W.buffer!=J.buffer&&gt(),J}function u(){return W.buffer!=J.buffer&&gt(),tt}function l(){return W.buffer!=J.buffer&&gt(),nt}function a(){return W.buffer!=J.buffer&&gt(),rt}function o(){return W.buffer!=J.buffer&&gt(),it}var n,t,e=h;e.ready=new Promise((_,P)=>{n=_,t=P});var r,i,s,f=Object.assign({},e),g="./this.program",m=(_,P)=>{throw P},y=typeof window=="object",v=typeof importScripts=="function",T=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",x=e.ENVIRONMENT_IS_PTHREAD||!1,A="";function D(_){return e.locateFile?e.locateFile(_,A):A+_}if(T){var $=w(1384),C=w(908);let _;A=v?C.dirname(A)+"/":__dirname+"/",r=(P,k)=>(P=P.startsWith("file://")?new URL(P):C.normalize(P),$.readFileSync(P,k?void 0:"utf8")),s=P=>((P=r(P,!0)).buffer||(P=new Uint8Array(P)),P),i=(P,k,L,B=!0)=>{P=P.startsWith("file://")?new URL(P):C.normalize(P),$.readFile(P,B?void 0:"utf8",(Y,Q)=>{Y?L(Y):k(B?Q.buffer:Q)})},!e.thisProgram&&1<process.argv.length&&(g=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),m=(P,k)=>{throw process.exitCode=P,k},e.inspect=()=>"[Emscripten Module object]";try{_=w(9925)}catch(P){throw console.error('The "worker_threads" module is not supported in this node.js build - perhaps a newer version is needed?'),P}commonjsGlobal.Worker=_.Worker}else(y||v)&&(v?A=self.location.href:typeof document<"u"&&document.currentScript&&(A=document.currentScript.src),b&&(A=b),A=A.indexOf("blob:")!==0?A.substr(0,A.replace(/[?#].*/,"").lastIndexOf("/")+1):"",T||(r=_=>{var P=new XMLHttpRequest;return P.open("GET",_,!1),P.send(null),P.responseText},v&&(s=_=>{var P=new XMLHttpRequest;return P.open("GET",_,!1),P.responseType="arraybuffer",P.send(null),new Uint8Array(P.response)}),i=(_,P,k)=>{var L=new XMLHttpRequest;L.open("GET",_,!0),L.responseType="arraybuffer",L.onload=()=>{L.status==200||L.status==0&&L.response?P(L.response):k()},L.onerror=k,L.send(null)}));T&&typeof performance>"u"&&(commonjsGlobal.performance=w(6953).performance);var M=console.log.bind(console),S=console.error.bind(console);T&&(M=(..._)=>$.writeSync(1,_.join(" ")+`
`),S=(..._)=>$.writeSync(2,_.join(" ")+`
`));var U,O=e.print||M,E=e.printErr||S;Object.assign(e,f),f=null,e.thisProgram&&(g=e.thisProgram),e.quit&&(m=e.quit),e.wasmBinary&&(U=e.wasmBinary);var F=e.noExitRuntime||!0;typeof WebAssembly!="object"&&Ot("no native wasm support detected");var W,H,K,X,J,tt,nt,rt,it,ut=!1;function gt(){var _=W.buffer;e.HEAP8=J=new Int8Array(_),e.HEAP16=new Int16Array(_),e.HEAP32=nt=new Int32Array(_),e.HEAPU8=tt=new Uint8Array(_),e.HEAPU16=new Uint16Array(_),e.HEAPU32=rt=new Uint32Array(_),e.HEAPF32=new Float32Array(_),e.HEAPF64=it=new Float64Array(_)}var xt=e.INITIAL_MEMORY||16777216;if(5242880<=xt||Ot("INITIAL_MEMORY should be larger than STACK_SIZE, was "+xt+"! (STACK_SIZE=5242880)"),x)W=e.wasmMemory;else if(e.wasmMemory)W=e.wasmMemory;else if(!((W=new WebAssembly.Memory({initial:xt/65536,maximum:65536,shared:!0})).buffer instanceof SharedArrayBuffer))throw E("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),T&&E("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and/or recent version)"),Error("bad memory");gt(),xt=W.buffer.byteLength;var kt,bt=[],Dt=[],lt=[],mt=0;function St(){return F||0<mt}var _t,At,Et=0,Pt=null;function jt(){Et++,e.monitorRunDependencies&&e.monitorRunDependencies(Et)}function Rt(){if(Et--,e.monitorRunDependencies&&e.monitorRunDependencies(Et),Et==0&&Pt){var _=Pt;Pt=null,_()}}function Ot(_){throw e.onAbort&&e.onAbort(_),E(_="Aborted("+_+")"),ut=!0,X=1,_=new WebAssembly.RuntimeError(_+". Build with -sASSERTIONS for more info."),t(_),_}function Ft(_){return _.startsWith("data:application/octet-stream;base64,")}function Gt(_){if(_==_t&&U)return new Uint8Array(U);if(s)return s(_);throw"both async and sync fetching of the wasm failed"}function Qt(_,P,k){return function(L){if(!U&&(y||v)){if(typeof fetch=="function"&&!L.startsWith("file://"))return fetch(L,{credentials:"same-origin"}).then(B=>{if(!B.ok)throw"failed to load wasm binary file at '"+L+"'";return B.arrayBuffer()}).catch(()=>Gt(L));if(i)return new Promise((B,Y)=>{i(L,Q=>B(new Uint8Array(Q)),Y)})}return Promise.resolve().then(()=>Gt(L))}(_).then(L=>WebAssembly.instantiate(L,P)).then(L=>L).then(k,L=>{E("failed to asynchronously prepare wasm: "+L),Ot(L)})}function Ct(_){this.name="ExitStatus",this.message=`Program terminated with exit(${_})`,this.status=_}function Bt(_){_.terminate(),_.onmessage=()=>{}}function Ht(_){(_=et.Fa[_])||Ot(),et.fb(_)}function Wt(_){var P=et.Za();if(!P)return 6;et.Ia.push(P),et.Fa[_.Ha]=P,P.Ha=_.Ha;var k={cmd:"run",start_routine:_.gb,arg:_.Ya,pthread_ptr:_.Ha};return T&&P.unref(),P.postMessage(k,_.mb),0}Ft(_t="ort-wasm-threaded.wasm")||(_t=D(_t));var te=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,qt=(_,P,k)=>{var L=(P>>>=0)+k;for(k=P;_[k]&&!(k>=L);)++k;if(16<k-P&&_.buffer&&te)return te.decode(_.buffer instanceof SharedArrayBuffer?_.slice(P,k):_.subarray(P,k));for(L="";P<k;){var B=_[P++];if(128&B){var Y=63&_[P++];if((224&B)==192)L+=String.fromCharCode((31&B)<<6|Y);else{var Q=63&_[P++];65536>(B=(240&B)==224?(15&B)<<12|Y<<6|Q:(7&B)<<18|Y<<12|Q<<6|63&_[P++])?L+=String.fromCharCode(B):(B-=65536,L+=String.fromCharCode(55296|B>>10,56320|1023&B))}}else L+=String.fromCharCode(B)}return L},Lt=(_,P)=>(_>>>=0)?qt(u(),_,P):"";function Xt(_){if(x)return pt(1,1,_);X=_,St()||(et.hb(),e.onExit&&e.onExit(_),ut=!0),m(_,new Ct(_))}var Vt=_=>{if(X=_,x)throw Yt(_),"unwind";Xt(_)},et={La:[],Ia:[],Ta:[],Fa:{},Pa:function(){x?et.ab():et.$a()},$a:function(){bt.unshift(()=>{jt(),et.bb(()=>Rt())})},ab:function(){et.receiveObjectTransfer=et.eb,et.threadInitTLS=et.Sa,et.setExitStatus=et.Ra,F=!1},Ra:function(_){X=_},rb:["$terminateWorker"],hb:function(){for(var _ of et.Ia)Bt(_);for(_ of et.La)Bt(_);et.La=[],et.Ia=[],et.Fa=[]},fb:function(_){var P=_.Ha;delete et.Fa[P],et.La.push(_),et.Ia.splice(et.Ia.indexOf(_),1),_.Ha=0,le(P)},eb:function(){},Sa:function(){et.Ta.forEach(_=>_())},cb:_=>new Promise(P=>{_.onmessage=B=>{var Y=(B=B.data).cmd;if(B.targetThread&&B.targetThread!=ne()){var Q=et.Fa[B.qb];Q?Q.postMessage(B,B.transferList):E('Internal error! Worker sent a message "'+Y+'" to target pthread '+B.targetThread+", but that thread no longer exists!")}else Y==="checkMailbox"?ee():Y==="spawnThread"?Wt(B):Y==="cleanupThread"?Ht(B.thread):Y==="killThread"?(B=B.thread,Y=et.Fa[B],delete et.Fa[B],Bt(Y),le(B),et.Ia.splice(et.Ia.indexOf(Y),1),Y.Ha=0):Y==="cancelThread"?et.Fa[B.thread].postMessage({cmd:"cancel"}):Y==="loaded"?(_.loaded=!0,P(_)):Y==="alert"?alert("Thread "+B.threadId+": "+B.text):B.target==="setimmediate"?_.postMessage(B):Y==="callHandler"?e[B.handler](...B.args):Y&&E("worker sent an unknown command "+Y)},_.onerror=B=>{throw E("worker sent an error! "+B.filename+":"+B.lineno+": "+B.message),B},T&&(_.on("message",function(B){_.onmessage({data:B})}),_.on("error",function(B){_.onerror(B)}));var k,L=[];for(k of["onExit","onAbort","print","printErr"])e.hasOwnProperty(k)&&L.push(k);_.postMessage({cmd:"load",handlers:L,urlOrBlob:e.mainScriptUrlOrBlob||b,wasmMemory:W,wasmModule:K})}),bb:function(_){_()},Xa:function(){var _=D("ort-wasm-threaded.worker.js");_=new Worker(_),et.La.push(_)},Za:function(){return et.La.length==0&&(et.Xa(),et.cb(et.La[0])),et.La.pop()}};e.PThread=et;var Mt=_=>{for(;0<_.length;)_.shift()(e)};function Yt(_){if(x)return pt(2,0,_);Vt(_)}e.establishStackSpace=function(){var _=ne(),P=l()[_+52>>2>>>0];_=l()[_+56>>2>>>0],Le(P,P-_),oe(P)};var I=[];function R(_){this.Oa=_-24,this.Wa=function(P){a()[this.Oa+4>>2>>>0]=P},this.Va=function(P){a()[this.Oa+8>>2>>>0]=P},this.Pa=function(P,k){this.Ua(),this.Wa(P),this.Va(k)},this.Ua=function(){a()[this.Oa+16>>2>>>0]=0}}function j(_,P,k,L){return x?pt(3,1,_,P,k,L):G(_,P,k,L)}function G(_,P,k,L){if(_>>>=0,P>>>=0,k>>>=0,L>>>=0,typeof SharedArrayBuffer>"u")return E("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;var B=[];return x&&B.length===0?j(_,P,k,L):(_={gb:k,Ha:_,Ya:L,mb:B},x?(_.ob="spawnThread",postMessage(_,B),0):Wt(_))}function q(_,P,k){return x?pt(4,1,_,P,k):0}function Z(_,P){if(x)return pt(5,1,_,P)}e.invokeEntryPoint=function(_,P){var k=I[_];k||(_>=I.length&&(I.length=_+1),I[_]=k=kt.get(_)),_=k(P),St()?et.Ra(_):ce(_)};var ot=_=>{for(var P=0,k=0;k<_.length;++k){var L=_.charCodeAt(k);127>=L?P++:2047>=L?P+=2:55296<=L&&57343>=L?(P+=4,++k):P+=3}return P},ht=(_,P,k,L)=>{if(!(0<L))return 0;var B=k>>>=0;L=k+L-1;for(var Y=0;Y<_.length;++Y){var Q=_.charCodeAt(Y);if(55296<=Q&&57343>=Q&&(Q=65536+((1023&Q)<<10)|1023&_.charCodeAt(++Y)),127>=Q){if(k>=L)break;P[k++>>>0]=Q}else{if(2047>=Q){if(k+1>=L)break;P[k++>>>0]=192|Q>>6}else{if(65535>=Q){if(k+2>=L)break;P[k++>>>0]=224|Q>>12}else{if(k+3>=L)break;P[k++>>>0]=240|Q>>18,P[k++>>>0]=128|Q>>12&63}P[k++>>>0]=128|Q>>6&63}P[k++>>>0]=128|63&Q}}return P[k>>>0]=0,k-B},yt=(_,P,k)=>ht(_,u(),P,k);function Tt(_,P){if(x)return pt(6,1,_,P)}function vt(_,P,k){if(x)return pt(7,1,_,P,k)}function Kt(_,P,k){return x?pt(8,1,_,P,k):0}function Jt(_,P){if(x)return pt(9,1,_,P)}function V(_,P,k){if(x)return pt(10,1,_,P,k)}function at(_,P,k,L){if(x)return pt(11,1,_,P,k,L)}function ct(_,P,k,L){if(x)return pt(12,1,_,P,k,L)}function Nt(_,P,k,L){if(x)return pt(13,1,_,P,k,L)}function Zt(_){if(x)return pt(14,1,_)}function fe(_,P){if(x)return pt(15,1,_,P)}function he(_,P,k){if(x)return pt(16,1,_,P,k)}var Be=_=>{if(!ut)try{if(_(),!St())try{x?ce(X):Vt(X)}catch(P){P instanceof Ct||P=="unwind"||m(1,P)}}catch(P){P instanceof Ct||P=="unwind"||m(1,P)}};function ie(_){_>>>=0,typeof Atomics.nb=="function"&&(Atomics.nb(l(),_>>2,_).value.then(ee),_+=128,Atomics.store(l(),_>>2,1))}function ee(){var _=ne();_&&(ie(_),Be(()=>Ne()))}e.__emscripten_thread_mailbox_await=ie,e.checkMailbox=ee;var zt=_=>_%4==0&&(_%100!=0||_%400==0),ge=[0,31,60,91,121,152,182,213,244,274,305,335],be=[0,31,59,90,120,151,181,212,243,273,304,334];function me(_,P,k,L,B,Y,Q,dt){return x?pt(17,1,_,P,k,L,B,Y,Q,dt):-52}function ye(_,P,k,L,B,Y,Q){if(x)return pt(18,1,_,P,k,L,B,Y,Q)}var ve=_=>{var P=ot(_)+1,k=$e(P);return k&&yt(_,k,P),k},Ve=_=>{var P=pe();return _=_(),oe(P),_};function pt(_,P){var k=arguments.length-2,L=arguments;return Ve(()=>{for(var B=de(8*k),Y=B>>3,Q=0;Q<k;Q++){var dt=L[2+Q];o()[Y+Q>>>0]=dt}return Fe(_,k,B,P)})}var ae,se=[],ue={},we=()=>{if(!ae){var _,P={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:g||"./this.program"};for(_ in ue)ue[_]===void 0?delete P[_]:P[_]=ue[_];var k=[];for(_ in P)k.push(`${_}=${P[_]}`);ae=k}return ae};function Te(_,P){if(x)return pt(19,1,_,P);_>>>=0,P>>>=0;var k=0;return we().forEach(function(L,B){var Y=P+k;for(B=a()[_+4*B>>2>>>0]=Y,Y=0;Y<L.length;++Y)p()[B++>>0>>>0]=L.charCodeAt(Y);p()[B>>0>>>0]=0,k+=L.length+1}),0}function xe(_,P){if(x)return pt(20,1,_,P);_>>>=0,P>>>=0;var k=we();a()[_>>2>>>0]=k.length;var L=0;return k.forEach(function(B){L+=B.length+1}),a()[P>>2>>>0]=L,0}function _e(_){return x?pt(21,1,_):52}function Oe(_,P,k,L){return x?pt(22,1,_,P,k,L):52}function Se(_,P,k,L,B){return x?pt(23,1,_,P,k,L,B):70}var ze=[null,[],[]];function Ae(_,P,k,L){if(x)return pt(24,1,_,P,k,L);P>>>=0,k>>>=0,L>>>=0;for(var B=0,Y=0;Y<k;Y++){var Q=a()[P>>2>>>0],dt=a()[P+4>>2>>>0];P+=8;for(var $t=0;$t<dt;$t++){var wt=u()[Q+$t>>>0],It=ze[_];wt===0||wt===10?((_===1?O:E)(qt(It,0)),It.length=0):It.push(wt)}B+=dt}return a()[L>>2>>>0]=B,0}var Pe=_=>(Pe=(()=>{if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function")return L=>(L.set(crypto.getRandomValues(new Uint8Array(L.byteLength))),L);if(T)try{var P=w(760);if(P.randomFillSync)return L=>P.randomFillSync(L);var k=P.randomBytes;return L=>(L.set(k(L.byteLength)),L)}catch{}Ot("initRandomDevice")})())(_),Ie=[31,29,31,30,31,30,31,31,30,31,30,31],Ee=[31,28,31,30,31,30,31,31,30,31,30,31],Ge=(_,P)=>{p().set(_,P>>>0)};function De(_,P,k,L){function B(z,st,ft){for(z=typeof z=="number"?z.toString():z||"";z.length<st;)z=ft[0]+z;return z}function Y(z,st){return B(z,st,"0")}function Q(z,st){function ft(Ue){return 0>Ue?-1:0<Ue?1:0}var Ut;return(Ut=ft(z.getFullYear()-st.getFullYear()))===0&&(Ut=ft(z.getMonth()-st.getMonth()))===0&&(Ut=ft(z.getDate()-st.getDate())),Ut}function dt(z){switch(z.getDay()){case 0:return new Date(z.getFullYear()-1,11,29);case 1:return z;case 2:return new Date(z.getFullYear(),0,3);case 3:return new Date(z.getFullYear(),0,2);case 4:return new Date(z.getFullYear(),0,1);case 5:return new Date(z.getFullYear()-1,11,31);case 6:return new Date(z.getFullYear()-1,11,30)}}function $t(z){var st=z.Ja;for(z=new Date(new Date(z.Ka+1900,0,1).getTime());0<st;){var ft=z.getMonth(),Ut=(zt(z.getFullYear())?Ie:Ee)[ft];if(!(st>Ut-z.getDate())){z.setDate(z.getDate()+st);break}st-=Ut-z.getDate()+1,z.setDate(1),11>ft?z.setMonth(ft+1):(z.setMonth(0),z.setFullYear(z.getFullYear()+1))}return ft=new Date(z.getFullYear()+1,0,4),st=dt(new Date(z.getFullYear(),0,4)),ft=dt(ft),0>=Q(st,z)?0>=Q(ft,z)?z.getFullYear()+1:z.getFullYear():z.getFullYear()-1}_>>>=0,P>>>=0,k>>>=0,L>>>=0;var wt=l()[L+40>>2>>>0];for(var It in L={kb:l()[L>>2>>>0],jb:l()[L+4>>2>>>0],Ma:l()[L+8>>2>>>0],Qa:l()[L+12>>2>>>0],Na:l()[L+16>>2>>>0],Ka:l()[L+20>>2>>>0],Ga:l()[L+24>>2>>>0],Ja:l()[L+28>>2>>>0],sb:l()[L+32>>2>>>0],ib:l()[L+36>>2>>>0],lb:wt?Lt(wt):""},k=Lt(k),wt={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"})k=k.replace(new RegExp(It,"g"),wt[It]);var Ce="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),Me="January February March April May June July August September October November December".split(" ");for(It in wt={"%a":z=>Ce[z.Ga].substring(0,3),"%A":z=>Ce[z.Ga],"%b":z=>Me[z.Na].substring(0,3),"%B":z=>Me[z.Na],"%C":z=>Y((z.Ka+1900)/100|0,2),"%d":z=>Y(z.Qa,2),"%e":z=>B(z.Qa,2," "),"%g":z=>$t(z).toString().substring(2),"%G":z=>$t(z),"%H":z=>Y(z.Ma,2),"%I":z=>((z=z.Ma)==0?z=12:12<z&&(z-=12),Y(z,2)),"%j":z=>{for(var st=0,ft=0;ft<=z.Na-1;st+=(zt(z.Ka+1900)?Ie:Ee)[ft++]);return Y(z.Qa+st,3)},"%m":z=>Y(z.Na+1,2),"%M":z=>Y(z.jb,2),"%n":()=>`
`,"%p":z=>0<=z.Ma&&12>z.Ma?"AM":"PM","%S":z=>Y(z.kb,2),"%t":()=>"	","%u":z=>z.Ga||7,"%U":z=>Y(Math.floor((z.Ja+7-z.Ga)/7),2),"%V":z=>{var st=Math.floor((z.Ja+7-(z.Ga+6)%7)/7);if(2>=(z.Ga+371-z.Ja-2)%7&&st++,st)st==53&&((ft=(z.Ga+371-z.Ja)%7)==4||ft==3&&zt(z.Ka)||(st=1));else{st=52;var ft=(z.Ga+7-z.Ja-1)%7;(ft==4||ft==5&&zt(z.Ka%400-1))&&st++}return Y(st,2)},"%w":z=>z.Ga,"%W":z=>Y(Math.floor((z.Ja+7-(z.Ga+6)%7)/7),2),"%y":z=>(z.Ka+1900).toString().substring(2),"%Y":z=>z.Ka+1900,"%z":z=>{var st=0<=(z=z.ib);return z=Math.abs(z)/60,(st?"+":"-")+("0000"+(z/60*100+z%60)).slice(-4)},"%Z":z=>z.lb,"%%":()=>"%"},k=k.replace(/%%/g,"\0\0"),wt)k.includes(It)&&(k=k.replace(new RegExp(It,"g"),wt[It](L)));return It=function(z){var st=Array(ot(z)+1);return ht(z,st,0,st.length),st}(k=k.replace(/\0\0/g,"%")),It.length>P?0:(Ge(It,_),It.length-1)}et.Pa();var He=[null,Xt,Yt,j,q,Z,Tt,vt,Kt,Jt,V,at,ct,Nt,Zt,fe,he,me,ye,Te,xe,_e,Oe,Se,Ae],We={b:function(_,P,k){throw new R(_>>>=0).Pa(P>>>0,k>>>0),_},N:function(_){ke(_>>>0,!v,1,!y,131072,!1),et.Sa()},k:function(_){_>>>=0,x?postMessage({cmd:"cleanupThread",thread:_}):Ht(_)},I:G,h:q,T:Z,E:Tt,G:vt,U:Kt,R:Jt,J:V,Q:at,o:ct,F:Nt,C:Zt,S:fe,D:he,q:()=>!0,A:function(_,P){(_>>>=0)==P>>>0?setTimeout(()=>ee()):x?postMessage({targetThread:_,cmd:"checkMailbox"}):(_=et.Fa[_])&&_.postMessage({cmd:"checkMailbox"})},L:function(){return-1},M:ie,p:function(_){T&&et.Fa[_>>>0].ref()},t:function(_,P,k){_=P+2097152>>>0<4194305-!!_?(_>>>0)+4294967296*P:NaN,k>>>=0,_=new Date(1e3*_),l()[k>>2>>>0]=_.getUTCSeconds(),l()[k+4>>2>>>0]=_.getUTCMinutes(),l()[k+8>>2>>>0]=_.getUTCHours(),l()[k+12>>2>>>0]=_.getUTCDate(),l()[k+16>>2>>>0]=_.getUTCMonth(),l()[k+20>>2>>>0]=_.getUTCFullYear()-1900,l()[k+24>>2>>>0]=_.getUTCDay(),_=(_.getTime()-Date.UTC(_.getUTCFullYear(),0,1,0,0,0,0))/864e5|0,l()[k+28>>2>>>0]=_},u:function(_,P,k){_=P+2097152>>>0<4194305-!!_?(_>>>0)+4294967296*P:NaN,k>>>=0,_=new Date(1e3*_),l()[k>>2>>>0]=_.getSeconds(),l()[k+4>>2>>>0]=_.getMinutes(),l()[k+8>>2>>>0]=_.getHours(),l()[k+12>>2>>>0]=_.getDate(),l()[k+16>>2>>>0]=_.getMonth(),l()[k+20>>2>>>0]=_.getFullYear()-1900,l()[k+24>>2>>>0]=_.getDay(),P=(zt(_.getFullYear())?ge:be)[_.getMonth()]+_.getDate()-1|0,l()[k+28>>2>>>0]=P,l()[k+36>>2>>>0]=-60*_.getTimezoneOffset(),P=new Date(_.getFullYear(),6,1).getTimezoneOffset();var L=new Date(_.getFullYear(),0,1).getTimezoneOffset();_=0|(P!=L&&_.getTimezoneOffset()==Math.min(L,P)),l()[k+32>>2>>>0]=_},v:function(_){_>>>=0;var P=new Date(l()[_+20>>2>>>0]+1900,l()[_+16>>2>>>0],l()[_+12>>2>>>0],l()[_+8>>2>>>0],l()[_+4>>2>>>0],l()[_>>2>>>0],0),k=l()[_+32>>2>>>0],L=P.getTimezoneOffset(),B=new Date(P.getFullYear(),6,1).getTimezoneOffset(),Y=new Date(P.getFullYear(),0,1).getTimezoneOffset(),Q=Math.min(Y,B);return 0>k?l()[_+32>>2>>>0]=+(B!=Y&&Q==L):0<k!=(Q==L)&&(B=Math.max(Y,B),P.setTime(P.getTime()+6e4*((0<k?Q:B)-L))),l()[_+24>>2>>>0]=P.getDay(),k=(zt(P.getFullYear())?ge:be)[P.getMonth()]+P.getDate()-1|0,l()[_+28>>2>>>0]=k,l()[_>>2>>>0]=P.getSeconds(),l()[_+4>>2>>>0]=P.getMinutes(),l()[_+8>>2>>>0]=P.getHours(),l()[_+12>>2>>>0]=P.getDate(),l()[_+16>>2>>>0]=P.getMonth(),l()[_+20>>2>>>0]=P.getYear(),_=P.getTime()/1e3,Re((At=_,1<=+Math.abs(At)?0<At?+Math.floor(At/4294967296)>>>0:~~+Math.ceil((At-+(~~At>>>0))/4294967296)>>>0:0)),_>>>0},r:me,s:ye,z:function(_,P,k){function L(wt){return(wt=wt.toTimeString().match(/\(([A-Za-z ]+)\)$/))?wt[1]:"GMT"}_>>>=0,P>>>=0,k>>>=0;var B=new Date().getFullYear(),Y=new Date(B,0,1),Q=new Date(B,6,1);B=Y.getTimezoneOffset();var dt=Q.getTimezoneOffset(),$t=Math.max(B,dt);a()[_>>2>>>0]=60*$t,l()[P>>2>>>0]=+(B!=dt),_=L(Y),P=L(Q),_=ve(_),P=ve(P),dt<B?(a()[k>>2>>>0]=_,a()[k+4>>2>>>0]=P):(a()[k>>2>>>0]=P,a()[k+4>>2>>>0]=_)},c:()=>{Ot("")},l:function(){},i:function(){return Date.now()},V:()=>{throw mt+=1,"unwind"},B:function(){return 4294901760},e:()=>performance.timeOrigin+performance.now(),f:function(){return T?w(3993).cpus().length:navigator.hardwareConcurrency},K:function(_,P,k,L){for(et.pb=P>>>0,se.length=k,P=L>>>0>>3,L=0;L<k;L++)se[L]=o()[P+L>>>0];return He[_].apply(null,se)},y:function(_){_>>>=0;var P=u().length;if(_<=P||4294901760<_)return!1;for(var k=1;4>=k;k*=2){var L=P*(1+.2/k);L=Math.min(L,_+100663296);var B=Math;L=Math.max(_,L);t:{B=B.min.call(B,4294901760,L+(65536-L%65536)%65536)-W.buffer.byteLength+65535>>>16;try{W.grow(B),gt();var Y=1;break t}catch{}Y=void 0}if(Y)return!0}return!1},O:Te,P:xe,j:Vt,g:_e,n:Oe,w:Se,m:Ae,x:function(_,P){return _>>>=0,P>>>=0,Pe(u().subarray(_>>>0,_+P>>>0)),0},a:W||e.wasmMemory,H:De,d:function(_,P,k,L){return De(_>>>0,P>>>0,k>>>0,L>>>0)}};(function(){function _(k,L){return k=k.exports,H=k=function(B){var Y=dt=>()=>dt()>>>0,Q=dt=>$t=>dt($t)>>>0;return(B=Object.assign({},B)).__errno_location=Y(B.__errno_location),B.pthread_self=Y(B.pthread_self),B.malloc=Q(B.malloc),B.stackSave=Y(B.stackSave),B.stackAlloc=Q(B.stackAlloc),B}(k),et.Ta.push(H.sa),kt=H.ta,Dt.unshift(H.W),K=L,Rt(),k}var P={a:We};if(jt(),e.instantiateWasm)try{return e.instantiateWasm(P,_)}catch(k){E("Module.instantiateWasm callback failed with error: "+k),t(k)}(function(k,L){var B=_t;return U||typeof WebAssembly.instantiateStreaming!="function"||Ft(B)||B.startsWith("file://")||T||typeof fetch!="function"?Qt(B,k,L):fetch(B,{credentials:"same-origin"}).then(Y=>WebAssembly.instantiateStreaming(Y,k).then(L,function(Q){return E("wasm streaming compile failed: "+Q),E("falling back to ArrayBuffer instantiation"),Qt(B,k,L)}))})(P,function(k){_(k.instance,k.module)}).catch(t)})(),e._OrtInit=(_,P)=>(e._OrtInit=H.X)(_,P),e._OrtGetLastError=(_,P)=>(e._OrtGetLastError=H.Y)(_,P),e._OrtCreateSessionOptions=(_,P,k,L,B,Y,Q,dt,$t,wt)=>(e._OrtCreateSessionOptions=H.Z)(_,P,k,L,B,Y,Q,dt,$t,wt),e._OrtAppendExecutionProvider=(_,P)=>(e._OrtAppendExecutionProvider=H._)(_,P),e._OrtAddSessionConfigEntry=(_,P,k)=>(e._OrtAddSessionConfigEntry=H.$)(_,P,k),e._OrtReleaseSessionOptions=_=>(e._OrtReleaseSessionOptions=H.aa)(_),e._OrtCreateSession=(_,P,k)=>(e._OrtCreateSession=H.ba)(_,P,k),e._OrtReleaseSession=_=>(e._OrtReleaseSession=H.ca)(_),e._OrtGetInputOutputCount=(_,P,k)=>(e._OrtGetInputOutputCount=H.da)(_,P,k),e._OrtGetInputName=(_,P)=>(e._OrtGetInputName=H.ea)(_,P),e._OrtGetOutputName=(_,P)=>(e._OrtGetOutputName=H.fa)(_,P),e._OrtFree=_=>(e._OrtFree=H.ga)(_),e._OrtCreateTensor=(_,P,k,L,B)=>(e._OrtCreateTensor=H.ha)(_,P,k,L,B),e._OrtGetTensorData=(_,P,k,L,B)=>(e._OrtGetTensorData=H.ia)(_,P,k,L,B),e._OrtReleaseTensor=_=>(e._OrtReleaseTensor=H.ja)(_),e._OrtCreateRunOptions=(_,P,k,L)=>(e._OrtCreateRunOptions=H.ka)(_,P,k,L),e._OrtAddRunConfigEntry=(_,P,k)=>(e._OrtAddRunConfigEntry=H.la)(_,P,k),e._OrtReleaseRunOptions=_=>(e._OrtReleaseRunOptions=H.ma)(_),e._OrtRun=(_,P,k,L,B,Y,Q,dt)=>(e._OrtRun=H.na)(_,P,k,L,B,Y,Q,dt),e._OrtEndProfiling=_=>(e._OrtEndProfiling=H.oa)(_);var ne=e._pthread_self=()=>(ne=e._pthread_self=H.pa)(),$e=e._malloc=_=>($e=e._malloc=H.qa)(_);e._free=_=>(e._free=H.ra)(_),e.__emscripten_tls_init=()=>(e.__emscripten_tls_init=H.sa)();var ke=e.__emscripten_thread_init=(_,P,k,L,B,Y)=>(ke=e.__emscripten_thread_init=H.ua)(_,P,k,L,B,Y);e.__emscripten_thread_crashed=()=>(e.__emscripten_thread_crashed=H.va)();var re,Fe=(_,P,k,L)=>(Fe=H.wa)(_,P,k,L),le=_=>(le=H.xa)(_),ce=e.__emscripten_thread_exit=_=>(ce=e.__emscripten_thread_exit=H.ya)(_),Ne=e.__emscripten_check_mailbox=()=>(Ne=e.__emscripten_check_mailbox=H.za)(),Re=_=>(Re=H.Aa)(_),Le=(_,P)=>(Le=H.Ba)(_,P),pe=()=>(pe=H.Ca)(),oe=_=>(oe=H.Da)(_),de=_=>(de=H.Ea)(_);function je(){function _(){if(!re&&(re=!0,e.calledRun=!0,!ut)&&(x||Mt(Dt),n(e),e.onRuntimeInitialized&&e.onRuntimeInitialized(),!x)){if(e.postRun)for(typeof e.postRun=="function"&&(e.postRun=[e.postRun]);e.postRun.length;){var P=e.postRun.shift();lt.unshift(P)}Mt(lt)}}if(!(0<Et))if(x)n(e),x||Mt(Dt),startWorker(e);else{if(e.preRun)for(typeof e.preRun=="function"&&(e.preRun=[e.preRun]);e.preRun.length;)bt.unshift(e.preRun.shift());Mt(bt),0<Et||(e.setStatus?(e.setStatus("Running..."),setTimeout(function(){setTimeout(function(){e.setStatus("")},1),_()},1)):_())}}if(e.keepRuntimeAlive=St,e.wasmMemory=W,e.stackAlloc=de,e.stackSave=pe,e.stackRestore=oe,e.UTF8ToString=Lt,e.stringToUTF8=yt,e.lengthBytesUTF8=ot,e.ExitStatus=Ct,e.PThread=et,Pt=function _(){re||je(),re||(Pt=_)},e.preInit)for(typeof e.preInit=="function"&&(e.preInit=[e.preInit]);0<e.preInit.length;)e.preInit.pop()();return je(),h.ready});N.exports=d},932:(N,c,w)=>{var b,d=(b=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0,typeof __filename<"u"&&(b=b||__filename),function(h={}){var p,u,l=h;l.ready=new Promise((I,R)=>{p=I,u=R});var a,o,n,t=Object.assign({},l),e="./this.program",r=(I,R)=>{throw R},i=typeof window=="object",s=typeof importScripts=="function",f=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",g="";if(f){var m=w(1384),y=w(908);g=s?y.dirname(g)+"/":__dirname+"/",a=(I,R)=>(I=I.startsWith("file://")?new URL(I):y.normalize(I),m.readFileSync(I,R?void 0:"utf8")),n=I=>((I=a(I,!0)).buffer||(I=new Uint8Array(I)),I),o=(I,R,j,G=!0)=>{I=I.startsWith("file://")?new URL(I):y.normalize(I),m.readFile(I,G?void 0:"utf8",(q,Z)=>{q?j(q):R(G?Z.buffer:Z)})},!l.thisProgram&&1<process.argv.length&&(e=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),r=(I,R)=>{throw process.exitCode=I,R},l.inspect=()=>"[Emscripten Module object]"}else(i||s)&&(s?g=self.location.href:typeof document<"u"&&document.currentScript&&(g=document.currentScript.src),b&&(g=b),g=g.indexOf("blob:")!==0?g.substr(0,g.replace(/[?#].*/,"").lastIndexOf("/")+1):"",a=I=>{var R=new XMLHttpRequest;return R.open("GET",I,!1),R.send(null),R.responseText},s&&(n=I=>{var R=new XMLHttpRequest;return R.open("GET",I,!1),R.responseType="arraybuffer",R.send(null),new Uint8Array(R.response)}),o=(I,R,j)=>{var G=new XMLHttpRequest;G.open("GET",I,!0),G.responseType="arraybuffer",G.onload=()=>{G.status==200||G.status==0&&G.response?R(G.response):j()},G.onerror=j,G.send(null)});var v,T=l.print||console.log.bind(console),x=l.printErr||console.error.bind(console);Object.assign(l,t),t=null,l.thisProgram&&(e=l.thisProgram),l.quit&&(r=l.quit),l.wasmBinary&&(v=l.wasmBinary);var A=l.noExitRuntime||!0;typeof WebAssembly!="object"&&rt("no native wasm support detected");var D,$,C,M,S,U,O=!1;function E(){var I=D.buffer;l.HEAP8=C=new Int8Array(I),l.HEAP16=new Int16Array(I),l.HEAP32=S=new Int32Array(I),l.HEAPU8=M=new Uint8Array(I),l.HEAPU16=new Uint16Array(I),l.HEAPU32=U=new Uint32Array(I),l.HEAPF32=new Float32Array(I),l.HEAPF64=new Float64Array(I)}var F=[],W=[],H=[];function K(){var I=l.preRun.shift();F.unshift(I)}var X,J,tt=0,nt=null;function rt(I){throw l.onAbort&&l.onAbort(I),x(I="Aborted("+I+")"),O=!0,I=new WebAssembly.RuntimeError(I+". Build with -sASSERTIONS for more info."),u(I),I}function it(I){return I.startsWith("data:application/octet-stream;base64,")}if(!it(X="ort-wasm.wasm")){var ut=X;X=l.locateFile?l.locateFile(ut,g):g+ut}function gt(I){if(I==X&&v)return new Uint8Array(v);if(n)return n(I);throw"both async and sync fetching of the wasm failed"}function xt(I,R,j){return function(G){if(!v&&(i||s)){if(typeof fetch=="function"&&!G.startsWith("file://"))return fetch(G,{credentials:"same-origin"}).then(q=>{if(!q.ok)throw"failed to load wasm binary file at '"+G+"'";return q.arrayBuffer()}).catch(()=>gt(G));if(o)return new Promise((q,Z)=>{o(G,ot=>q(new Uint8Array(ot)),Z)})}return Promise.resolve().then(()=>gt(G))}(I).then(G=>WebAssembly.instantiate(G,R)).then(G=>G).then(j,G=>{x("failed to asynchronously prepare wasm: "+G),rt(G)})}function kt(I){this.name="ExitStatus",this.message=`Program terminated with exit(${I})`,this.status=I}var bt=I=>{for(;0<I.length;)I.shift()(l)};function Dt(I){this.qa=I-24,this.va=function(R){U[this.qa+4>>2>>>0]=R},this.ua=function(R){U[this.qa+8>>2>>>0]=R},this.sa=function(R,j){this.ta(),this.va(R),this.ua(j)},this.ta=function(){U[this.qa+16>>2>>>0]=0}}var lt,mt=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,St=(I,R,j)=>{var G=(R>>>=0)+j;for(j=R;I[j]&&!(j>=G);)++j;if(16<j-R&&I.buffer&&mt)return mt.decode(I.subarray(R,j));for(G="";R<j;){var q=I[R++];if(128&q){var Z=63&I[R++];if((224&q)==192)G+=String.fromCharCode((31&q)<<6|Z);else{var ot=63&I[R++];65536>(q=(240&q)==224?(15&q)<<12|Z<<6|ot:(7&q)<<18|Z<<12|ot<<6|63&I[R++])?G+=String.fromCharCode(q):(q-=65536,G+=String.fromCharCode(55296|q>>10,56320|1023&q))}}else G+=String.fromCharCode(q)}return G},_t=(I,R)=>(I>>>=0)?St(M,I,R):"",At=I=>{for(var R=0,j=0;j<I.length;++j){var G=I.charCodeAt(j);127>=G?R++:2047>=G?R+=2:55296<=G&&57343>=G?(R+=4,++j):R+=3}return R},Et=(I,R,j,G)=>{if(!(0<G))return 0;var q=j>>>=0;G=j+G-1;for(var Z=0;Z<I.length;++Z){var ot=I.charCodeAt(Z);if(55296<=ot&&57343>=ot&&(ot=65536+((1023&ot)<<10)|1023&I.charCodeAt(++Z)),127>=ot){if(j>=G)break;R[j++>>>0]=ot}else{if(2047>=ot){if(j+1>=G)break;R[j++>>>0]=192|ot>>6}else{if(65535>=ot){if(j+2>=G)break;R[j++>>>0]=224|ot>>12}else{if(j+3>=G)break;R[j++>>>0]=240|ot>>18,R[j++>>>0]=128|ot>>12&63}R[j++>>>0]=128|ot>>6&63}R[j++>>>0]=128|63&ot}}return R[j>>>0]=0,j-q},Pt=I=>I%4==0&&(I%100!=0||I%400==0),jt=[0,31,60,91,121,152,182,213,244,274,305,335],Rt=[0,31,59,90,120,151,181,212,243,273,304,334],Ot=I=>{var R=At(I)+1,j=qt(R);return j&&Et(I,M,j,R),j},Ft={},Gt=()=>{if(!lt){var I,R={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:e||"./this.program"};for(I in Ft)Ft[I]===void 0?delete R[I]:R[I]=Ft[I];var j=[];for(I in R)j.push(`${I}=${R[I]}`);lt=j}return lt},Qt=[null,[],[]],Ct=I=>(Ct=(()=>{if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function")return G=>crypto.getRandomValues(G);if(f)try{var R=w(760);if(R.randomFillSync)return G=>R.randomFillSync(G);var j=R.randomBytes;return G=>(G.set(j(G.byteLength)),G)}catch{}rt("initRandomDevice")})())(I),Bt=[31,29,31,30,31,30,31,31,30,31,30,31],Ht=[31,28,31,30,31,30,31,31,30,31,30,31];function Wt(I,R,j,G){function q(V,at,ct){for(V=typeof V=="number"?V.toString():V||"";V.length<at;)V=ct[0]+V;return V}function Z(V,at){return q(V,at,"0")}function ot(V,at){function ct(Zt){return 0>Zt?-1:0<Zt?1:0}var Nt;return(Nt=ct(V.getFullYear()-at.getFullYear()))===0&&(Nt=ct(V.getMonth()-at.getMonth()))===0&&(Nt=ct(V.getDate()-at.getDate())),Nt}function ht(V){switch(V.getDay()){case 0:return new Date(V.getFullYear()-1,11,29);case 1:return V;case 2:return new Date(V.getFullYear(),0,3);case 3:return new Date(V.getFullYear(),0,2);case 4:return new Date(V.getFullYear(),0,1);case 5:return new Date(V.getFullYear()-1,11,31);case 6:return new Date(V.getFullYear()-1,11,30)}}function yt(V){var at=V.ma;for(V=new Date(new Date(V.na+1900,0,1).getTime());0<at;){var ct=V.getMonth(),Nt=(Pt(V.getFullYear())?Bt:Ht)[ct];if(!(at>Nt-V.getDate())){V.setDate(V.getDate()+at);break}at-=Nt-V.getDate()+1,V.setDate(1),11>ct?V.setMonth(ct+1):(V.setMonth(0),V.setFullYear(V.getFullYear()+1))}return ct=new Date(V.getFullYear()+1,0,4),at=ht(new Date(V.getFullYear(),0,4)),ct=ht(ct),0>=ot(at,V)?0>=ot(ct,V)?V.getFullYear()+1:V.getFullYear():V.getFullYear()-1}I>>>=0,R>>>=0,j>>>=0;var Tt=S[40+(G>>>=0)>>2>>>0];for(var vt in G={ya:S[G>>2>>>0],xa:S[G+4>>2>>>0],oa:S[G+8>>2>>>0],ra:S[G+12>>2>>>0],pa:S[G+16>>2>>>0],na:S[G+20>>2>>>0],ha:S[G+24>>2>>>0],ma:S[G+28>>2>>>0],Aa:S[G+32>>2>>>0],wa:S[G+36>>2>>>0],za:Tt?_t(Tt):""},j=_t(j),Tt={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"})j=j.replace(new RegExp(vt,"g"),Tt[vt]);var Kt="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),Jt="January February March April May June July August September October November December".split(" ");for(vt in Tt={"%a":V=>Kt[V.ha].substring(0,3),"%A":V=>Kt[V.ha],"%b":V=>Jt[V.pa].substring(0,3),"%B":V=>Jt[V.pa],"%C":V=>Z((V.na+1900)/100|0,2),"%d":V=>Z(V.ra,2),"%e":V=>q(V.ra,2," "),"%g":V=>yt(V).toString().substring(2),"%G":V=>yt(V),"%H":V=>Z(V.oa,2),"%I":V=>((V=V.oa)==0?V=12:12<V&&(V-=12),Z(V,2)),"%j":V=>{for(var at=0,ct=0;ct<=V.pa-1;at+=(Pt(V.na+1900)?Bt:Ht)[ct++]);return Z(V.ra+at,3)},"%m":V=>Z(V.pa+1,2),"%M":V=>Z(V.xa,2),"%n":()=>`
`,"%p":V=>0<=V.oa&&12>V.oa?"AM":"PM","%S":V=>Z(V.ya,2),"%t":()=>"	","%u":V=>V.ha||7,"%U":V=>Z(Math.floor((V.ma+7-V.ha)/7),2),"%V":V=>{var at=Math.floor((V.ma+7-(V.ha+6)%7)/7);if(2>=(V.ha+371-V.ma-2)%7&&at++,at)at==53&&((ct=(V.ha+371-V.ma)%7)==4||ct==3&&Pt(V.na)||(at=1));else{at=52;var ct=(V.ha+7-V.ma-1)%7;(ct==4||ct==5&&Pt(V.na%400-1))&&at++}return Z(at,2)},"%w":V=>V.ha,"%W":V=>Z(Math.floor((V.ma+7-(V.ha+6)%7)/7),2),"%y":V=>(V.na+1900).toString().substring(2),"%Y":V=>V.na+1900,"%z":V=>{var at=0<=(V=V.wa);return V=Math.abs(V)/60,(at?"+":"-")+("0000"+(V/60*100+V%60)).slice(-4)},"%Z":V=>V.za,"%%":()=>"%"},j=j.replace(/%%/g,"\0\0"),Tt)j.includes(vt)&&(j=j.replace(new RegExp(vt,"g"),Tt[vt](G)));return vt=function(V){var at=Array(At(V)+1);return Et(V,at,0,at.length),at}(j=j.replace(/\0\0/g,"%")),vt.length>R?0:(C.set(vt,I>>>0),vt.length-1)}var te={a:function(I,R,j){throw new Dt(I>>>=0).sa(R>>>0,j>>>0),I},e:function(){return 0},I:function(){},y:function(){},A:function(){},K:function(){return 0},G:function(){},B:function(){},F:function(){},g:function(){},z:function(){},w:function(){},H:function(){},x:function(){},k:()=>!0,n:function(I,R,j){I=R+2097152>>>0<4194305-!!I?(I>>>0)+4294967296*R:NaN,j>>>=0,I=new Date(1e3*I),S[j>>2>>>0]=I.getUTCSeconds(),S[j+4>>2>>>0]=I.getUTCMinutes(),S[j+8>>2>>>0]=I.getUTCHours(),S[j+12>>2>>>0]=I.getUTCDate(),S[j+16>>2>>>0]=I.getUTCMonth(),S[j+20>>2>>>0]=I.getUTCFullYear()-1900,S[j+24>>2>>>0]=I.getUTCDay(),S[j+28>>2>>>0]=(I.getTime()-Date.UTC(I.getUTCFullYear(),0,1,0,0,0,0))/864e5|0},o:function(I,R,j){I=R+2097152>>>0<4194305-!!I?(I>>>0)+4294967296*R:NaN,j>>>=0,I=new Date(1e3*I),S[j>>2>>>0]=I.getSeconds(),S[j+4>>2>>>0]=I.getMinutes(),S[j+8>>2>>>0]=I.getHours(),S[j+12>>2>>>0]=I.getDate(),S[j+16>>2>>>0]=I.getMonth(),S[j+20>>2>>>0]=I.getFullYear()-1900,S[j+24>>2>>>0]=I.getDay(),S[j+28>>2>>>0]=(Pt(I.getFullYear())?jt:Rt)[I.getMonth()]+I.getDate()-1|0,S[j+36>>2>>>0]=-60*I.getTimezoneOffset(),R=new Date(I.getFullYear(),6,1).getTimezoneOffset();var G=new Date(I.getFullYear(),0,1).getTimezoneOffset();S[j+32>>2>>>0]=0|(R!=G&&I.getTimezoneOffset()==Math.min(G,R))},p:function(I){I>>>=0;var R=new Date(S[I+20>>2>>>0]+1900,S[I+16>>2>>>0],S[I+12>>2>>>0],S[I+8>>2>>>0],S[I+4>>2>>>0],S[I>>2>>>0],0),j=S[I+32>>2>>>0],G=R.getTimezoneOffset(),q=new Date(R.getFullYear(),6,1).getTimezoneOffset(),Z=new Date(R.getFullYear(),0,1).getTimezoneOffset(),ot=Math.min(Z,q);return 0>j?S[I+32>>2>>>0]=+(q!=Z&&ot==G):0<j!=(ot==G)&&(q=Math.max(Z,q),R.setTime(R.getTime()+6e4*((0<j?ot:q)-G))),S[I+24>>2>>>0]=R.getDay(),S[I+28>>2>>>0]=(Pt(R.getFullYear())?jt:Rt)[R.getMonth()]+R.getDate()-1|0,S[I>>2>>>0]=R.getSeconds(),S[I+4>>2>>>0]=R.getMinutes(),S[I+8>>2>>>0]=R.getHours(),S[I+12>>2>>>0]=R.getDate(),S[I+16>>2>>>0]=R.getMonth(),S[I+20>>2>>>0]=R.getYear(),I=R.getTime()/1e3,Xt((J=I,1<=+Math.abs(J)?0<J?+Math.floor(J/4294967296)>>>0:~~+Math.ceil((J-+(~~J>>>0))/4294967296)>>>0:0)),I>>>0},l:function(){return-52},m:function(){},u:function(I,R,j){function G(yt){return(yt=yt.toTimeString().match(/\(([A-Za-z ]+)\)$/))?yt[1]:"GMT"}j>>>=0;var q=new Date().getFullYear(),Z=new Date(q,0,1),ot=new Date(q,6,1);q=Z.getTimezoneOffset();var ht=ot.getTimezoneOffset();U[I>>>0>>2>>>0]=60*Math.max(q,ht),S[R>>>0>>2>>>0]=+(q!=ht),I=G(Z),R=G(ot),I=Ot(I),R=Ot(R),ht<q?(U[j>>2>>>0]=I,U[j+4>>2>>>0]=R):(U[j>>2>>>0]=R,U[j+4>>2>>>0]=I)},d:()=>{rt("")},h:function(){return Date.now()},v:function(){return 4294901760},b:()=>performance.now(),J:function(I,R,j){return R>>>=0,M.copyWithin(I>>>0>>>0,R>>>0,R+(j>>>0)>>>0)},t:function(I){I>>>=0;var R=M.length;if(4294901760<I)return!1;for(var j=1;4>=j;j*=2){var G=R*(1+.2/j);G=Math.min(G,I+100663296);var q=Math;G=Math.max(I,G);t:{q=q.min.call(q,4294901760,G+(65536-G%65536)%65536)-D.buffer.byteLength+65535>>>16;try{D.grow(q),E();var Z=1;break t}catch{}Z=void 0}if(Z)return!0}return!1},D:function(I,R){I>>>=0,R>>>=0;var j=0;return Gt().forEach(function(G,q){var Z=R+j;for(q=U[I+4*q>>2>>>0]=Z,Z=0;Z<G.length;++Z)C[q++>>0>>>0]=G.charCodeAt(Z);C[q>>0>>>0]=0,j+=G.length+1}),0},E:function(I,R){I>>>=0,R>>>=0;var j=Gt();U[I>>2>>>0]=j.length;var G=0;return j.forEach(function(q){G+=q.length+1}),U[R>>2>>>0]=G,0},s:I=>{A||(l.onExit&&l.onExit(I),O=!0),r(I,new kt(I))},f:()=>52,j:function(){return 52},q:function(){return 70},i:function(I,R,j,G){R>>>=0,j>>>=0,G>>>=0;for(var q=0,Z=0;Z<j;Z++){var ot=U[R>>2>>>0],ht=U[R+4>>2>>>0];R+=8;for(var yt=0;yt<ht;yt++){var Tt=M[ot+yt>>>0],vt=Qt[I];Tt===0||Tt===10?((I===1?T:x)(St(vt,0)),vt.length=0):vt.push(Tt)}q+=ht}return U[G>>2>>>0]=q,0},r:function(I,R){return I>>>=0,Ct(M.subarray(I>>>0,I+(R>>>0)>>>0)),0},C:Wt,c:function(I,R,j,G){return Wt(I>>>0,R>>>0,j>>>0,G>>>0)}};(function(){function I(j){if(j=j.exports,$=j=function(q){var Z=ht=>()=>ht()>>>0,ot=ht=>yt=>ht(yt)>>>0;return(q=Object.assign({},q)).__errno_location=Z(q.__errno_location),q.malloc=ot(q.malloc),q.stackSave=Z(q.stackSave),q.stackAlloc=ot(q.stackAlloc),q}(j),D=$.L,E(),W.unshift($.M),tt--,l.monitorRunDependencies&&l.monitorRunDependencies(tt),tt==0&&nt){var G=nt;nt=null,G()}return j}var R={a:te};if(tt++,l.monitorRunDependencies&&l.monitorRunDependencies(tt),l.instantiateWasm)try{return l.instantiateWasm(R,I)}catch(j){x("Module.instantiateWasm callback failed with error: "+j),u(j)}(function(j,G){var q=X;return v||typeof WebAssembly.instantiateStreaming!="function"||it(q)||q.startsWith("file://")||f||typeof fetch!="function"?xt(q,j,G):fetch(q,{credentials:"same-origin"}).then(Z=>WebAssembly.instantiateStreaming(Z,j).then(G,function(ot){return x("wasm streaming compile failed: "+ot),x("falling back to ArrayBuffer instantiation"),xt(q,j,G)}))})(R,function(j){I(j.instance)}).catch(u)})(),l._OrtInit=(I,R)=>(l._OrtInit=$.N)(I,R),l._OrtGetLastError=(I,R)=>(l._OrtGetLastError=$.O)(I,R),l._OrtCreateSessionOptions=(I,R,j,G,q,Z,ot,ht,yt,Tt)=>(l._OrtCreateSessionOptions=$.P)(I,R,j,G,q,Z,ot,ht,yt,Tt),l._OrtAppendExecutionProvider=(I,R)=>(l._OrtAppendExecutionProvider=$.Q)(I,R),l._OrtAddSessionConfigEntry=(I,R,j)=>(l._OrtAddSessionConfigEntry=$.R)(I,R,j),l._OrtReleaseSessionOptions=I=>(l._OrtReleaseSessionOptions=$.S)(I),l._OrtCreateSession=(I,R,j)=>(l._OrtCreateSession=$.T)(I,R,j),l._OrtReleaseSession=I=>(l._OrtReleaseSession=$.U)(I),l._OrtGetInputOutputCount=(I,R,j)=>(l._OrtGetInputOutputCount=$.V)(I,R,j),l._OrtGetInputName=(I,R)=>(l._OrtGetInputName=$.W)(I,R),l._OrtGetOutputName=(I,R)=>(l._OrtGetOutputName=$.X)(I,R),l._OrtFree=I=>(l._OrtFree=$.Y)(I),l._OrtCreateTensor=(I,R,j,G,q)=>(l._OrtCreateTensor=$.Z)(I,R,j,G,q),l._OrtGetTensorData=(I,R,j,G,q)=>(l._OrtGetTensorData=$._)(I,R,j,G,q),l._OrtReleaseTensor=I=>(l._OrtReleaseTensor=$.$)(I),l._OrtCreateRunOptions=(I,R,j,G)=>(l._OrtCreateRunOptions=$.aa)(I,R,j,G),l._OrtAddRunConfigEntry=(I,R,j)=>(l._OrtAddRunConfigEntry=$.ba)(I,R,j),l._OrtReleaseRunOptions=I=>(l._OrtReleaseRunOptions=$.ca)(I),l._OrtRun=(I,R,j,G,q,Z,ot,ht)=>(l._OrtRun=$.da)(I,R,j,G,q,Z,ot,ht),l._OrtEndProfiling=I=>(l._OrtEndProfiling=$.ea)(I);var qt=l._malloc=I=>(qt=l._malloc=$.fa)(I);l._free=I=>(l._free=$.ga)(I);var Lt,Xt=I=>(Xt=$.ia)(I),Vt=()=>(Vt=$.ja)(),et=I=>(et=$.ka)(I),Mt=I=>(Mt=$.la)(I);function Yt(){function I(){if(!Lt&&(Lt=!0,l.calledRun=!0,!O)){if(bt(W),p(l),l.onRuntimeInitialized&&l.onRuntimeInitialized(),l.postRun)for(typeof l.postRun=="function"&&(l.postRun=[l.postRun]);l.postRun.length;){var R=l.postRun.shift();H.unshift(R)}bt(H)}}if(!(0<tt)){if(l.preRun)for(typeof l.preRun=="function"&&(l.preRun=[l.preRun]);l.preRun.length;)K();bt(F),0<tt||(l.setStatus?(l.setStatus("Running..."),setTimeout(function(){setTimeout(function(){l.setStatus("")},1),I()},1)):I())}}if(l.stackAlloc=Mt,l.stackSave=Vt,l.stackRestore=et,l.UTF8ToString=_t,l.stringToUTF8=(I,R,j)=>Et(I,M,R,j),l.lengthBytesUTF8=At,nt=function I(){Lt||Yt(),Lt||(nt=I)},l.preInit)for(typeof l.preInit=="function"&&(l.preInit=[l.preInit]);0<l.preInit.length;)l.preInit.pop()();return Yt(),h.ready});N.exports=d},4537:N=>{N.exports=function(c,w){for(var b=new Array(arguments.length-1),d=0,h=2,p=!0;h<arguments.length;)b[d++]=arguments[h++];return new Promise(function(u,l){b[d]=function(a){if(p)if(p=!1,a)l(a);else{for(var o=new Array(arguments.length-1),n=0;n<o.length;)o[n++]=arguments[n];u.apply(null,o)}};try{c.apply(w||null,b)}catch(a){p&&(p=!1,l(a))}})}},7419:(N,c)=>{var w=c;w.length=function(u){var l=u.length;if(!l)return 0;for(var a=0;--l%4>1&&u.charAt(l)==="=";)++a;return Math.ceil(3*u.length)/4-a};for(var b=new Array(64),d=new Array(123),h=0;h<64;)d[b[h]=h<26?h+65:h<52?h+71:h<62?h-4:h-59|43]=h++;w.encode=function(u,l,a){for(var o,n=null,t=[],e=0,r=0;l<a;){var i=u[l++];switch(r){case 0:t[e++]=b[i>>2],o=(3&i)<<4,r=1;break;case 1:t[e++]=b[o|i>>4],o=(15&i)<<2,r=2;break;case 2:t[e++]=b[o|i>>6],t[e++]=b[63&i],r=0}e>8191&&((n||(n=[])).push(String.fromCharCode.apply(String,t)),e=0)}return r&&(t[e++]=b[o],t[e++]=61,r===1&&(t[e++]=61)),n?(e&&n.push(String.fromCharCode.apply(String,t.slice(0,e))),n.join("")):String.fromCharCode.apply(String,t.slice(0,e))};var p="invalid encoding";w.decode=function(u,l,a){for(var o,n=a,t=0,e=0;e<u.length;){var r=u.charCodeAt(e++);if(r===61&&t>1)break;if((r=d[r])===void 0)throw Error(p);switch(t){case 0:o=r,t=1;break;case 1:l[a++]=o<<2|(48&r)>>4,o=r,t=2;break;case 2:l[a++]=(15&o)<<4|(60&r)>>2,o=r,t=3;break;case 3:l[a++]=(3&o)<<6|r,t=0}}if(t===1)throw Error(p);return a-n},w.test=function(u){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(u)}},9211:N=>{function c(){this._listeners={}}N.exports=c,c.prototype.on=function(w,b,d){return(this._listeners[w]||(this._listeners[w]=[])).push({fn:b,ctx:d||this}),this},c.prototype.off=function(w,b){if(w===void 0)this._listeners={};else if(b===void 0)this._listeners[w]=[];else for(var d=this._listeners[w],h=0;h<d.length;)d[h].fn===b?d.splice(h,1):++h;return this},c.prototype.emit=function(w){var b=this._listeners[w];if(b){for(var d=[],h=1;h<arguments.length;)d.push(arguments[h++]);for(h=0;h<b.length;)b[h].fn.apply(b[h++].ctx,d)}return this}},945:N=>{function c(p){return typeof Float32Array<"u"?function(){var u=new Float32Array([-0]),l=new Uint8Array(u.buffer),a=l[3]===128;function o(r,i,s){u[0]=r,i[s]=l[0],i[s+1]=l[1],i[s+2]=l[2],i[s+3]=l[3]}function n(r,i,s){u[0]=r,i[s]=l[3],i[s+1]=l[2],i[s+2]=l[1],i[s+3]=l[0]}function t(r,i){return l[0]=r[i],l[1]=r[i+1],l[2]=r[i+2],l[3]=r[i+3],u[0]}function e(r,i){return l[3]=r[i],l[2]=r[i+1],l[1]=r[i+2],l[0]=r[i+3],u[0]}p.writeFloatLE=a?o:n,p.writeFloatBE=a?n:o,p.readFloatLE=a?t:e,p.readFloatBE=a?e:t}():function(){function u(a,o,n,t){var e=o<0?1:0;if(e&&(o=-o),o===0)a(1/o>0?0:2147483648,n,t);else if(isNaN(o))a(2143289344,n,t);else if(o>34028234663852886e22)a((e<<31|2139095040)>>>0,n,t);else if(o<11754943508222875e-54)a((e<<31|Math.round(o/1401298464324817e-60))>>>0,n,t);else{var r=Math.floor(Math.log(o)/Math.LN2);a((e<<31|r+127<<23|8388607&Math.round(o*Math.pow(2,-r)*8388608))>>>0,n,t)}}function l(a,o,n){var t=a(o,n),e=2*(t>>31)+1,r=t>>>23&255,i=8388607&t;return r===255?i?NaN:e*(1/0):r===0?1401298464324817e-60*e*i:e*Math.pow(2,r-150)*(i+8388608)}p.writeFloatLE=u.bind(null,w),p.writeFloatBE=u.bind(null,b),p.readFloatLE=l.bind(null,d),p.readFloatBE=l.bind(null,h)}(),typeof Float64Array<"u"?function(){var u=new Float64Array([-0]),l=new Uint8Array(u.buffer),a=l[7]===128;function o(r,i,s){u[0]=r,i[s]=l[0],i[s+1]=l[1],i[s+2]=l[2],i[s+3]=l[3],i[s+4]=l[4],i[s+5]=l[5],i[s+6]=l[6],i[s+7]=l[7]}function n(r,i,s){u[0]=r,i[s]=l[7],i[s+1]=l[6],i[s+2]=l[5],i[s+3]=l[4],i[s+4]=l[3],i[s+5]=l[2],i[s+6]=l[1],i[s+7]=l[0]}function t(r,i){return l[0]=r[i],l[1]=r[i+1],l[2]=r[i+2],l[3]=r[i+3],l[4]=r[i+4],l[5]=r[i+5],l[6]=r[i+6],l[7]=r[i+7],u[0]}function e(r,i){return l[7]=r[i],l[6]=r[i+1],l[5]=r[i+2],l[4]=r[i+3],l[3]=r[i+4],l[2]=r[i+5],l[1]=r[i+6],l[0]=r[i+7],u[0]}p.writeDoubleLE=a?o:n,p.writeDoubleBE=a?n:o,p.readDoubleLE=a?t:e,p.readDoubleBE=a?e:t}():function(){function u(a,o,n,t,e,r){var i=t<0?1:0;if(i&&(t=-t),t===0)a(0,e,r+o),a(1/t>0?0:2147483648,e,r+n);else if(isNaN(t))a(0,e,r+o),a(2146959360,e,r+n);else if(t>17976931348623157e292)a(0,e,r+o),a((i<<31|2146435072)>>>0,e,r+n);else{var s;if(t<22250738585072014e-324)a((s=t/5e-324)>>>0,e,r+o),a((i<<31|s/4294967296)>>>0,e,r+n);else{var f=Math.floor(Math.log(t)/Math.LN2);f===1024&&(f=1023),a(4503599627370496*(s=t*Math.pow(2,-f))>>>0,e,r+o),a((i<<31|f+1023<<20|1048576*s&1048575)>>>0,e,r+n)}}}function l(a,o,n,t,e){var r=a(t,e+o),i=a(t,e+n),s=2*(i>>31)+1,f=i>>>20&2047,g=4294967296*(1048575&i)+r;return f===2047?g?NaN:s*(1/0):f===0?5e-324*s*g:s*Math.pow(2,f-1075)*(g+4503599627370496)}p.writeDoubleLE=u.bind(null,w,0,4),p.writeDoubleBE=u.bind(null,b,4,0),p.readDoubleLE=l.bind(null,d,0,4),p.readDoubleBE=l.bind(null,h,4,0)}(),p}function w(p,u,l){u[l]=255&p,u[l+1]=p>>>8&255,u[l+2]=p>>>16&255,u[l+3]=p>>>24}function b(p,u,l){u[l]=p>>>24,u[l+1]=p>>>16&255,u[l+2]=p>>>8&255,u[l+3]=255&p}function d(p,u){return(p[u]|p[u+1]<<8|p[u+2]<<16|p[u+3]<<24)>>>0}function h(p,u){return(p[u]<<24|p[u+1]<<16|p[u+2]<<8|p[u+3])>>>0}N.exports=c(c)},7199:module=>{function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(N){}return null}module.exports=inquire},6662:N=>{N.exports=function(c,w,b){var d=b||8192,h=d>>>1,p=null,u=d;return function(l){if(l<1||l>h)return c(l);u+l>d&&(p=c(d),u=0);var a=w.call(p,u,u+=l);return 7&u&&(u=1+(7|u)),a}}},4997:(N,c)=>{var w=c;w.length=function(b){for(var d=0,h=0,p=0;p<b.length;++p)(h=b.charCodeAt(p))<128?d+=1:h<2048?d+=2:(64512&h)==55296&&(64512&b.charCodeAt(p+1))==56320?(++p,d+=4):d+=3;return d},w.read=function(b,d,h){if(h-d<1)return"";for(var p,u=null,l=[],a=0;d<h;)(p=b[d++])<128?l[a++]=p:p>191&&p<224?l[a++]=(31&p)<<6|63&b[d++]:p>239&&p<365?(p=((7&p)<<18|(63&b[d++])<<12|(63&b[d++])<<6|63&b[d++])-65536,l[a++]=55296+(p>>10),l[a++]=56320+(1023&p)):l[a++]=(15&p)<<12|(63&b[d++])<<6|63&b[d++],a>8191&&((u||(u=[])).push(String.fromCharCode.apply(String,l)),a=0);return u?(a&&u.push(String.fromCharCode.apply(String,l.slice(0,a))),u.join("")):String.fromCharCode.apply(String,l.slice(0,a))},w.write=function(b,d,h){for(var p,u,l=h,a=0;a<b.length;++a)(p=b.charCodeAt(a))<128?d[h++]=p:p<2048?(d[h++]=p>>6|192,d[h++]=63&p|128):(64512&p)==55296&&(64512&(u=b.charCodeAt(a+1)))==56320?(p=65536+((1023&p)<<10)+(1023&u),++a,d[h++]=p>>18|240,d[h++]=p>>12&63|128,d[h++]=p>>6&63|128,d[h++]=63&p|128):(d[h++]=p>>12|224,d[h++]=p>>6&63|128,d[h++]=63&p|128);return h-l}},3442:(N,c)=>{c.__esModule=!0;var w=function(){function b(d){if(!d)throw new TypeError("Invalid argument; `value` has no value.");this.value=b.EMPTY,d&&b.isGuid(d)&&(this.value=d)}return b.isGuid=function(d){var h=d.toString();return d&&(d instanceof b||b.validator.test(h))},b.create=function(){return new b([b.gen(2),b.gen(1),b.gen(1),b.gen(1),b.gen(3)].join("-"))},b.createEmpty=function(){return new b("emptyguid")},b.parse=function(d){return new b(d)},b.raw=function(){return[b.gen(2),b.gen(1),b.gen(1),b.gen(1),b.gen(3)].join("-")},b.gen=function(d){for(var h="",p=0;p<d;p++)h+=(65536*(1+Math.random())|0).toString(16).substring(1);return h},b.prototype.equals=function(d){return b.isGuid(d)&&this.value===d.toString()},b.prototype.isEmpty=function(){return this.value===b.EMPTY},b.prototype.toString=function(){return this.value},b.prototype.toJSON=function(){return{value:this.value}},b.validator=new RegExp("^[a-z0-9]{8}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{12}$","i"),b.EMPTY="00000000-0000-0000-0000-000000000000",b}();c.Guid=w},2100:(N,c,w)=>{N.exports=w(9482)},9482:(N,c,w)=>{var b=c;function d(){b.util._configure(),b.Writer._configure(b.BufferWriter),b.Reader._configure(b.BufferReader)}b.build="minimal",b.Writer=w(1173),b.BufferWriter=w(3155),b.Reader=w(1408),b.BufferReader=w(593),b.util=w(9693),b.rpc=w(5994),b.roots=w(5054),b.configure=d,d()},1408:(N,c,w)=>{N.exports=l;var b,d=w(9693),h=d.LongBits,p=d.utf8;function u(i,s){return RangeError("index out of range: "+i.pos+" + "+(s||1)+" > "+i.len)}function l(i){this.buf=i,this.pos=0,this.len=i.length}var a,o=typeof Uint8Array<"u"?function(i){if(i instanceof Uint8Array||Array.isArray(i))return new l(i);throw Error("illegal buffer")}:function(i){if(Array.isArray(i))return new l(i);throw Error("illegal buffer")},n=function(){return d.Buffer?function(i){return(l.create=function(s){return d.Buffer.isBuffer(s)?new b(s):o(s)})(i)}:o};function t(){var i=new h(0,0),s=0;if(!(this.len-this.pos>4)){for(;s<3;++s){if(this.pos>=this.len)throw u(this);if(i.lo=(i.lo|(127&this.buf[this.pos])<<7*s)>>>0,this.buf[this.pos++]<128)return i}return i.lo=(i.lo|(127&this.buf[this.pos++])<<7*s)>>>0,i}for(;s<4;++s)if(i.lo=(i.lo|(127&this.buf[this.pos])<<7*s)>>>0,this.buf[this.pos++]<128)return i;if(i.lo=(i.lo|(127&this.buf[this.pos])<<28)>>>0,i.hi=(i.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return i;if(s=0,this.len-this.pos>4){for(;s<5;++s)if(i.hi=(i.hi|(127&this.buf[this.pos])<<7*s+3)>>>0,this.buf[this.pos++]<128)return i}else for(;s<5;++s){if(this.pos>=this.len)throw u(this);if(i.hi=(i.hi|(127&this.buf[this.pos])<<7*s+3)>>>0,this.buf[this.pos++]<128)return i}throw Error("invalid varint encoding")}function e(i,s){return(i[s-4]|i[s-3]<<8|i[s-2]<<16|i[s-1]<<24)>>>0}function r(){if(this.pos+8>this.len)throw u(this,8);return new h(e(this.buf,this.pos+=4),e(this.buf,this.pos+=4))}l.create=n(),l.prototype._slice=d.Array.prototype.subarray||d.Array.prototype.slice,l.prototype.uint32=(a=4294967295,function(){if(a=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128||(a=(a|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)||(a=(a|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)||(a=(a|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)||(a=(a|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128))return a;if((this.pos+=5)>this.len)throw this.pos=this.len,u(this,10);return a}),l.prototype.int32=function(){return 0|this.uint32()},l.prototype.sint32=function(){var i=this.uint32();return i>>>1^-(1&i)|0},l.prototype.bool=function(){return this.uint32()!==0},l.prototype.fixed32=function(){if(this.pos+4>this.len)throw u(this,4);return e(this.buf,this.pos+=4)},l.prototype.sfixed32=function(){if(this.pos+4>this.len)throw u(this,4);return 0|e(this.buf,this.pos+=4)},l.prototype.float=function(){if(this.pos+4>this.len)throw u(this,4);var i=d.float.readFloatLE(this.buf,this.pos);return this.pos+=4,i},l.prototype.double=function(){if(this.pos+8>this.len)throw u(this,4);var i=d.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,i},l.prototype.bytes=function(){var i=this.uint32(),s=this.pos,f=this.pos+i;if(f>this.len)throw u(this,i);return this.pos+=i,Array.isArray(this.buf)?this.buf.slice(s,f):s===f?new this.buf.constructor(0):this._slice.call(this.buf,s,f)},l.prototype.string=function(){var i=this.bytes();return p.read(i,0,i.length)},l.prototype.skip=function(i){if(typeof i=="number"){if(this.pos+i>this.len)throw u(this,i);this.pos+=i}else do if(this.pos>=this.len)throw u(this);while(128&this.buf[this.pos++]);return this},l.prototype.skipType=function(i){switch(i){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(i=7&this.uint32())!=4;)this.skipType(i);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+i+" at offset "+this.pos)}return this},l._configure=function(i){b=i,l.create=n(),b._configure();var s=d.Long?"toLong":"toNumber";d.merge(l.prototype,{int64:function(){return t.call(this)[s](!1)},uint64:function(){return t.call(this)[s](!0)},sint64:function(){return t.call(this).zzDecode()[s](!1)},fixed64:function(){return r.call(this)[s](!0)},sfixed64:function(){return r.call(this)[s](!1)}})}},593:(N,c,w)=>{N.exports=h;var b=w(1408);(h.prototype=Object.create(b.prototype)).constructor=h;var d=w(9693);function h(p){b.call(this,p)}h._configure=function(){d.Buffer&&(h.prototype._slice=d.Buffer.prototype.slice)},h.prototype.string=function(){var p=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+p,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+p,this.len))},h._configure()},5054:N=>{N.exports={}},5994:(N,c,w)=>{c.Service=w(7948)},7948:(N,c,w)=>{N.exports=d;var b=w(9693);function d(h,p,u){if(typeof h!="function")throw TypeError("rpcImpl must be a function");b.EventEmitter.call(this),this.rpcImpl=h,this.requestDelimited=!!p,this.responseDelimited=!!u}(d.prototype=Object.create(b.EventEmitter.prototype)).constructor=d,d.prototype.rpcCall=function h(p,u,l,a,o){if(!a)throw TypeError("request must be specified");var n=this;if(!o)return b.asPromise(h,n,p,u,l,a);if(n.rpcImpl)try{return n.rpcImpl(p,u[n.requestDelimited?"encodeDelimited":"encode"](a).finish(),function(t,e){if(t)return n.emit("error",t,p),o(t);if(e!==null){if(!(e instanceof l))try{e=l[n.responseDelimited?"decodeDelimited":"decode"](e)}catch(r){return n.emit("error",r,p),o(r)}return n.emit("data",e,p),o(null,e)}n.end(!0)})}catch(t){return n.emit("error",t,p),void setTimeout(function(){o(t)},0)}else setTimeout(function(){o(Error("already ended"))},0)},d.prototype.end=function(h){return this.rpcImpl&&(h||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},1945:(N,c,w)=>{N.exports=d;var b=w(9693);function d(l,a){this.lo=l>>>0,this.hi=a>>>0}var h=d.zero=new d(0,0);h.toNumber=function(){return 0},h.zzEncode=h.zzDecode=function(){return this},h.length=function(){return 1};var p=d.zeroHash="\0\0\0\0\0\0\0\0";d.fromNumber=function(l){if(l===0)return h;var a=l<0;a&&(l=-l);var o=l>>>0,n=(l-o)/4294967296>>>0;return a&&(n=~n>>>0,o=~o>>>0,++o>4294967295&&(o=0,++n>4294967295&&(n=0))),new d(o,n)},d.from=function(l){if(typeof l=="number")return d.fromNumber(l);if(b.isString(l)){if(!b.Long)return d.fromNumber(parseInt(l,10));l=b.Long.fromString(l)}return l.low||l.high?new d(l.low>>>0,l.high>>>0):h},d.prototype.toNumber=function(l){if(!l&&this.hi>>>31){var a=1+~this.lo>>>0,o=~this.hi>>>0;return a||(o=o+1>>>0),-(a+4294967296*o)}return this.lo+4294967296*this.hi},d.prototype.toLong=function(l){return b.Long?new b.Long(0|this.lo,0|this.hi,!!l):{low:0|this.lo,high:0|this.hi,unsigned:!!l}};var u=String.prototype.charCodeAt;d.fromHash=function(l){return l===p?h:new d((u.call(l,0)|u.call(l,1)<<8|u.call(l,2)<<16|u.call(l,3)<<24)>>>0,(u.call(l,4)|u.call(l,5)<<8|u.call(l,6)<<16|u.call(l,7)<<24)>>>0)},d.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},d.prototype.zzEncode=function(){var l=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^l)>>>0,this.lo=(this.lo<<1^l)>>>0,this},d.prototype.zzDecode=function(){var l=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^l)>>>0,this.hi=(this.hi>>>1^l)>>>0,this},d.prototype.length=function(){var l=this.lo,a=(this.lo>>>28|this.hi<<4)>>>0,o=this.hi>>>24;return o===0?a===0?l<16384?l<128?1:2:l<2097152?3:4:a<16384?a<128?5:6:a<2097152?7:8:o<128?9:10}},9693:function(N,c,w){var b=c;function d(p,u,l){for(var a=Object.keys(u),o=0;o<a.length;++o)p[a[o]]!==void 0&&l||(p[a[o]]=u[a[o]]);return p}function h(p){function u(l,a){if(!(this instanceof u))return new u(l,a);Object.defineProperty(this,"message",{get:function(){return l}}),Error.captureStackTrace?Error.captureStackTrace(this,u):Object.defineProperty(this,"stack",{value:new Error().stack||""}),a&&d(this,a)}return u.prototype=Object.create(Error.prototype,{constructor:{value:u,writable:!0,enumerable:!1,configurable:!0},name:{get:function(){return p},set:void 0,enumerable:!1,configurable:!0},toString:{value:function(){return this.name+": "+this.message},writable:!0,enumerable:!1,configurable:!0}}),u}b.asPromise=w(4537),b.base64=w(7419),b.EventEmitter=w(9211),b.float=w(945),b.inquire=w(7199),b.utf8=w(4997),b.pool=w(6662),b.LongBits=w(1945),b.isNode=!!(typeof commonjsGlobal<"u"&&commonjsGlobal&&commonjsGlobal.process&&commonjsGlobal.process.versions&&commonjsGlobal.process.versions.node),b.global=b.isNode&&commonjsGlobal||typeof window<"u"&&window||typeof self<"u"&&self||this,b.emptyArray=Object.freeze?Object.freeze([]):[],b.emptyObject=Object.freeze?Object.freeze({}):{},b.isInteger=Number.isInteger||function(p){return typeof p=="number"&&isFinite(p)&&Math.floor(p)===p},b.isString=function(p){return typeof p=="string"||p instanceof String},b.isObject=function(p){return p&&typeof p=="object"},b.isset=b.isSet=function(p,u){var l=p[u];return!(l==null||!p.hasOwnProperty(u))&&(typeof l!="object"||(Array.isArray(l)?l.length:Object.keys(l).length)>0)},b.Buffer=function(){try{var p=b.inquire("buffer").Buffer;return p.prototype.utf8Write?p:null}catch{return null}}(),b._Buffer_from=null,b._Buffer_allocUnsafe=null,b.newBuffer=function(p){return typeof p=="number"?b.Buffer?b._Buffer_allocUnsafe(p):new b.Array(p):b.Buffer?b._Buffer_from(p):typeof Uint8Array>"u"?p:new Uint8Array(p)},b.Array=typeof Uint8Array<"u"?Uint8Array:Array,b.Long=b.global.dcodeIO&&b.global.dcodeIO.Long||b.global.Long||b.inquire("long"),b.key2Re=/^true|false|0|1$/,b.key32Re=/^-?(?:0|[1-9][0-9]*)$/,b.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,b.longToHash=function(p){return p?b.LongBits.from(p).toHash():b.LongBits.zeroHash},b.longFromHash=function(p,u){var l=b.LongBits.fromHash(p);return b.Long?b.Long.fromBits(l.lo,l.hi,u):l.toNumber(!!u)},b.merge=d,b.lcFirst=function(p){return p.charAt(0).toLowerCase()+p.substring(1)},b.newError=h,b.ProtocolError=h("ProtocolError"),b.oneOfGetter=function(p){for(var u={},l=0;l<p.length;++l)u[p[l]]=1;return function(){for(var a=Object.keys(this),o=a.length-1;o>-1;--o)if(u[a[o]]===1&&this[a[o]]!==void 0&&this[a[o]]!==null)return a[o]}},b.oneOfSetter=function(p){return function(u){for(var l=0;l<p.length;++l)p[l]!==u&&delete this[p[l]]}},b.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},b._configure=function(){var p=b.Buffer;p?(b._Buffer_from=p.from!==Uint8Array.from&&p.from||function(u,l){return new p(u,l)},b._Buffer_allocUnsafe=p.allocUnsafe||function(u){return new p(u)}):b._Buffer_from=b._Buffer_allocUnsafe=null}},1173:(N,c,w)=>{N.exports=n;var b,d=w(9693),h=d.LongBits,p=d.base64,u=d.utf8;function l(g,m,y){this.fn=g,this.len=m,this.next=void 0,this.val=y}function a(){}function o(g){this.head=g.head,this.tail=g.tail,this.len=g.len,this.next=g.states}function n(){this.len=0,this.head=new l(a,0,0),this.tail=this.head,this.states=null}var t=function(){return d.Buffer?function(){return(n.create=function(){return new b})()}:function(){return new n}};function e(g,m,y){m[y]=255&g}function r(g,m){this.len=g,this.next=void 0,this.val=m}function i(g,m,y){for(;g.hi;)m[y++]=127&g.lo|128,g.lo=(g.lo>>>7|g.hi<<25)>>>0,g.hi>>>=7;for(;g.lo>127;)m[y++]=127&g.lo|128,g.lo=g.lo>>>7;m[y++]=g.lo}function s(g,m,y){m[y]=255&g,m[y+1]=g>>>8&255,m[y+2]=g>>>16&255,m[y+3]=g>>>24}n.create=t(),n.alloc=function(g){return new d.Array(g)},d.Array!==Array&&(n.alloc=d.pool(n.alloc,d.Array.prototype.subarray)),n.prototype._push=function(g,m,y){return this.tail=this.tail.next=new l(g,m,y),this.len+=m,this},r.prototype=Object.create(l.prototype),r.prototype.fn=function(g,m,y){for(;g>127;)m[y++]=127&g|128,g>>>=7;m[y]=g},n.prototype.uint32=function(g){return this.len+=(this.tail=this.tail.next=new r((g>>>=0)<128?1:g<16384?2:g<2097152?3:g<268435456?4:5,g)).len,this},n.prototype.int32=function(g){return g<0?this._push(i,10,h.fromNumber(g)):this.uint32(g)},n.prototype.sint32=function(g){return this.uint32((g<<1^g>>31)>>>0)},n.prototype.uint64=function(g){var m=h.from(g);return this._push(i,m.length(),m)},n.prototype.int64=n.prototype.uint64,n.prototype.sint64=function(g){var m=h.from(g).zzEncode();return this._push(i,m.length(),m)},n.prototype.bool=function(g){return this._push(e,1,g?1:0)},n.prototype.fixed32=function(g){return this._push(s,4,g>>>0)},n.prototype.sfixed32=n.prototype.fixed32,n.prototype.fixed64=function(g){var m=h.from(g);return this._push(s,4,m.lo)._push(s,4,m.hi)},n.prototype.sfixed64=n.prototype.fixed64,n.prototype.float=function(g){return this._push(d.float.writeFloatLE,4,g)},n.prototype.double=function(g){return this._push(d.float.writeDoubleLE,8,g)};var f=d.Array.prototype.set?function(g,m,y){m.set(g,y)}:function(g,m,y){for(var v=0;v<g.length;++v)m[y+v]=g[v]};n.prototype.bytes=function(g){var m=g.length>>>0;if(!m)return this._push(e,1,0);if(d.isString(g)){var y=n.alloc(m=p.length(g));p.decode(g,y,0),g=y}return this.uint32(m)._push(f,m,g)},n.prototype.string=function(g){var m=u.length(g);return m?this.uint32(m)._push(u.write,m,g):this._push(e,1,0)},n.prototype.fork=function(){return this.states=new o(this),this.head=this.tail=new l(a,0,0),this.len=0,this},n.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new l(a,0,0),this.len=0),this},n.prototype.ldelim=function(){var g=this.head,m=this.tail,y=this.len;return this.reset().uint32(y),y&&(this.tail.next=g.next,this.tail=m,this.len+=y),this},n.prototype.finish=function(){for(var g=this.head.next,m=this.constructor.alloc(this.len),y=0;g;)g.fn(g.val,m,y),y+=g.len,g=g.next;return m},n._configure=function(g){b=g,n.create=t(),b._configure()}},3155:(N,c,w)=>{N.exports=h;var b=w(1173);(h.prototype=Object.create(b.prototype)).constructor=h;var d=w(9693);function h(){b.call(this)}function p(u,l,a){u.length<40?d.utf8.write(u,l,a):l.utf8Write?l.utf8Write(u,a):l.write(u,a)}h._configure=function(){h.alloc=d._Buffer_allocUnsafe,h.writeBytesBuffer=d.Buffer&&d.Buffer.prototype instanceof Uint8Array&&d.Buffer.prototype.set.name==="set"?function(u,l,a){l.set(u,a)}:function(u,l,a){if(u.copy)u.copy(l,a,0,u.length);else for(var o=0;o<u.length;)l[a++]=u[o++]}},h.prototype.bytes=function(u){d.isString(u)&&(u=d._Buffer_from(u,"base64"));var l=u.length>>>0;return this.uint32(l),l&&this._push(h.writeBytesBuffer,l,u),this},h.prototype.string=function(u){var l=d.Buffer.byteLength(u);return this.uint32(l),l&&this._push(p,l,u),this},h._configure()},4154:N=>{N.exports=`"use strict";var e={},a="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node;if(a){var r=require("worker_threads"),t=r.parentPort;t.on("message",(e=>onmessage({data:e})));var s=require("fs");Object.assign(global,{self:global,require:require,Module:e,location:{href:__filename},Worker:r.Worker,importScripts:e=>(0,eval)(s.readFileSync(e,"utf8")+"//# sourceURL="+e),postMessage:e=>t.postMessage(e),performance:global.performance||{now:Date.now}})}var o=!1,d=function(){var e=Array.prototype.slice.call(arguments).join(" ");a?s.writeSync(2,e+"\\n"):console.error(e)};self.alert=function(){var a=Array.prototype.slice.call(arguments).join(" ");postMessage({cmd:"alert",text:a,threadId:e._pthread_self()})},e.instantiateWasm=(a,r)=>{var t=e.wasmModule;return e.wasmModule=null,r(new WebAssembly.Instance(t,a))},self.onunhandledrejection=e=>{throw e.reason??e},self.onmessage=function a(r){try{if("load"===r.data.cmd){let s=[];self.onmessage=e=>s.push(e),self.startWorker=r=>{e=r,postMessage({cmd:"loaded"});for(let e of s)a(e);self.onmessage=a},e.wasmModule=r.data.wasmModule;for(const a of r.data.handlers)e[a]=(...e)=>{postMessage({cmd:"callHandler",handler:a,args:e})};if(e.wasmMemory=r.data.wasmMemory,e.buffer=e.wasmMemory.buffer,e.ENVIRONMENT_IS_PTHREAD=!0,"string"==typeof r.data.urlOrBlob)importScripts(r.data.urlOrBlob);else{var t=URL.createObjectURL(r.data.urlOrBlob);importScripts(t),URL.revokeObjectURL(t)}ortWasmThreaded(e)}else if("run"===r.data.cmd){e.__emscripten_thread_init(r.data.pthread_ptr,0,0,1),e.__emscripten_thread_mailbox_await(r.data.pthread_ptr),e.establishStackSpace(),e.PThread.receiveObjectTransfer(r.data),e.PThread.threadInitTLS(),o||(o=!0);try{e.invokeEntryPoint(r.data.start_routine,r.data.arg)}catch(e){if("unwind"!=e)throw e}}else"cancel"===r.data.cmd?e._pthread_self()&&e.__emscripten_thread_exit(-1):"setimmediate"===r.data.target||("checkMailbox"===r.data.cmd?o&&e.checkMailbox():r.data.cmd&&(d("worker.js received unknown command "+r.data.cmd),d(r.data)))}catch(a){throw e.__emscripten_thread_crashed&&e.__emscripten_thread_crashed(),a}};
`},7067:()=>{},1296:()=>{},760:()=>{},1384:()=>{},3993:()=>{},908:()=>{},6953:()=>{},9925:()=>{},2806:()=>{},6449:()=>{},2850:()=>{},5381:()=>{},685:(N,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.resolveBackend=c.registerBackend=void 0;const w={},b=[];c.registerBackend=(d,h,p)=>{if(!h||typeof h.init!="function"||typeof h.createSessionHandler!="function")throw new TypeError("not a valid backend");{const u=w[d];if(u===void 0)w[d]={backend:h,priority:p};else{if(u.priority>p)return;if(u.priority===p&&u.backend!==h)throw new Error(`cannot register backend "${d}" using priority ${p}`)}if(p>=0){const l=b.indexOf(d);l!==-1&&b.splice(l,1);for(let a=0;a<b.length;a++)if(w[b[a]].priority<=p)return void b.splice(a,0,d);b.push(d)}}},c.resolveBackend=async d=>{const h=d.length===0?b:d,p=[];for(const u of h){const l=w[u];if(l){if(l.initialized)return l.backend;if(l.aborted)continue;const a=!!l.initPromise;try{return a||(l.initPromise=l.backend.init()),await l.initPromise,l.initialized=!0,l.backend}catch(o){a||p.push({name:u,err:o}),l.aborted=!0}finally{delete l.initPromise}}}throw new Error(`no available backend found. ERR: ${p.map(u=>`[${u.name}] ${u.err}`).join(", ")}`)}},4798:(N,c,w)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.registerBackend=void 0;var b=w(685);Object.defineProperty(c,"registerBackend",{enumerable:!0,get:function(){return b.registerBackend}})},3121:(N,c,w)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.env=void 0;const b=w(9104);let d="warning";c.env={wasm:{},webgl:{},webgpu:{},versions:{common:b.version},set logLevel(h){if(h!==void 0){if(typeof h!="string"||["verbose","info","warning","error","fatal"].indexOf(h)===-1)throw new Error(`Unsupported logging level: ${h}`);d=h}},get logLevel(){return d}},Object.defineProperty(c.env,"logLevel",{enumerable:!0})},2457:(N,c,w)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.env=void 0;const b=w(3121);c.env=b.env},2235:function(N,c,w){var b=this&&this.__createBinding||(Object.create?function(h,p,u,l){l===void 0&&(l=u);var a=Object.getOwnPropertyDescriptor(p,u);a&&!("get"in a?!p.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return p[u]}}),Object.defineProperty(h,l,a)}:function(h,p,u,l){l===void 0&&(l=u),h[l]=p[u]}),d=this&&this.__exportStar||function(h,p){for(var u in h)u==="default"||Object.prototype.hasOwnProperty.call(p,u)||b(p,h,u)};Object.defineProperty(c,"__esModule",{value:!0}),d(w(4798),c),d(w(2457),c),d(w(3974),c),d(w(963),c),d(w(7852),c)},8036:(N,c,w)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.InferenceSession=void 0;const b=w(685),d=w(963);class h{constructor(u){this.handler=u}async run(u,l,a){const o={};let n={};if(typeof u!="object"||u===null||u instanceof d.Tensor||Array.isArray(u))throw new TypeError("'feeds' must be an object that use input names as keys and OnnxValue as corresponding values.");let t=!0;if(typeof l=="object"){if(l===null)throw new TypeError("Unexpected argument[1]: cannot be null.");if(l instanceof d.Tensor)throw new TypeError("'fetches' cannot be a Tensor");if(Array.isArray(l)){if(l.length===0)throw new TypeError("'fetches' cannot be an empty array.");t=!1;for(const i of l){if(typeof i!="string")throw new TypeError("'fetches' must be a string array or an object.");if(this.outputNames.indexOf(i)===-1)throw new RangeError(`'fetches' contains invalid output name: ${i}.`);o[i]=null}if(typeof a=="object"&&a!==null)n=a;else if(a!==void 0)throw new TypeError("'options' must be an object.")}else{let i=!1;const s=Object.getOwnPropertyNames(l);for(const f of this.outputNames)if(s.indexOf(f)!==-1){const g=l[f];(g===null||g instanceof d.Tensor)&&(i=!0,t=!1,o[f]=g)}if(i){if(typeof a=="object"&&a!==null)n=a;else if(a!==void 0)throw new TypeError("'options' must be an object.")}else n=l}}else if(l!==void 0)throw new TypeError("Unexpected argument[1]: must be 'fetches' or 'options'.");for(const i of this.inputNames)if(u[i]===void 0)throw new Error(`input '${i}' is missing in 'feeds'.`);if(t)for(const i of this.outputNames)o[i]=null;const e=await this.handler.run(u,o,n),r={};for(const i in e)Object.hasOwnProperty.call(e,i)&&(r[i]=new d.Tensor(e[i].type,e[i].data,e[i].dims));return r}async release(){return this.handler.dispose()}static async create(u,l,a,o){let n,t={};if(typeof u=="string"){if(n=u,typeof l=="object"&&l!==null)t=l;else if(l!==void 0)throw new TypeError("'options' must be an object.")}else if(u instanceof Uint8Array){if(n=u,typeof l=="object"&&l!==null)t=l;else if(l!==void 0)throw new TypeError("'options' must be an object.")}else{if(!(u instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&u instanceof SharedArrayBuffer))throw new TypeError("Unexpected argument[0]: must be 'path' or 'buffer'.");{const s=u;let f=0,g=u.byteLength;if(typeof l=="object"&&l!==null)t=l;else if(typeof l=="number"){if(f=l,!Number.isSafeInteger(f))throw new RangeError("'byteOffset' must be an integer.");if(f<0||f>=s.byteLength)throw new RangeError(`'byteOffset' is out of range [0, ${s.byteLength}).`);if(g=u.byteLength-f,typeof a=="number"){if(g=a,!Number.isSafeInteger(g))throw new RangeError("'byteLength' must be an integer.");if(g<=0||f+g>s.byteLength)throw new RangeError(`'byteLength' is out of range (0, ${s.byteLength-f}].`);if(typeof o=="object"&&o!==null)t=o;else if(o!==void 0)throw new TypeError("'options' must be an object.")}else if(a!==void 0)throw new TypeError("'byteLength' must be a number.")}else if(l!==void 0)throw new TypeError("'options' must be an object.");n=new Uint8Array(s,f,g)}}const e=(t.executionProviders||[]).map(s=>typeof s=="string"?s:s.name),r=await(0,b.resolveBackend)(e),i=await r.createSessionHandler(n,t);return new h(i)}startProfiling(){this.handler.startProfiling()}endProfiling(){this.handler.endProfiling()}get inputNames(){return this.handler.inputNames}get outputNames(){return this.handler.outputNames}}c.InferenceSession=h},3974:(N,c,w)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.InferenceSession=void 0;const b=w(8036);c.InferenceSession=b.InferenceSession},7852:(N,c)=>{Object.defineProperty(c,"__esModule",{value:!0})},2350:(N,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.tensorToImageData=c.tensorToDataURL=void 0,c.tensorToDataURL=(w,b)=>{const d=document.createElement("canvas");d.width=w.dims[3],d.height=w.dims[2];const h=d.getContext("2d");if(h!=null){let p,u;(b==null?void 0:b.tensorLayout)!==void 0&&b.tensorLayout==="NHWC"?(p=w.dims[2],u=w.dims[3]):(p=w.dims[3],u=w.dims[2]);const l=(b==null?void 0:b.format)!==void 0?b.format:"RGB",a=b==null?void 0:b.norm;let o,n;a===void 0||a.mean===void 0?o=[255,255,255,255]:typeof a.mean=="number"?o=[a.mean,a.mean,a.mean,a.mean]:(o=[a.mean[0],a.mean[1],a.mean[2],0],a.mean[3]!==void 0&&(o[3]=a.mean[3])),a===void 0||a.bias===void 0?n=[0,0,0,0]:typeof a.bias=="number"?n=[a.bias,a.bias,a.bias,a.bias]:(n=[a.bias[0],a.bias[1],a.bias[2],0],a.bias[3]!==void 0&&(n[3]=a.bias[3]));const t=u*p;let e=0,r=t,i=2*t,s=-1;l==="RGBA"?(e=0,r=t,i=2*t,s=3*t):l==="RGB"?(e=0,r=t,i=2*t):l==="RBG"&&(e=0,i=t,r=2*t);for(let f=0;f<u;f++)for(let g=0;g<p;g++){const m=(w.data[e++]-n[0])*o[0],y=(w.data[r++]-n[1])*o[1],v=(w.data[i++]-n[2])*o[2],T=s===-1?255:(w.data[s++]-n[3])*o[3];h.fillStyle="rgba("+m+","+y+","+v+","+T+")",h.fillRect(g,f,1,1)}return d.toDataURL()}throw new Error("Can not access image data")},c.tensorToImageData=(w,b)=>{const d=document.createElement("canvas").getContext("2d");let h;if(d==null)throw new Error("Can not access image data");{let p,u,l;(b==null?void 0:b.tensorLayout)!==void 0&&b.tensorLayout==="NHWC"?(p=w.dims[2],u=w.dims[1],l=w.dims[3]):(p=w.dims[3],u=w.dims[2],l=w.dims[1]);const a=b!==void 0&&b.format!==void 0?b.format:"RGB",o=b==null?void 0:b.norm;let n,t;o===void 0||o.mean===void 0?n=[255,255,255,255]:typeof o.mean=="number"?n=[o.mean,o.mean,o.mean,o.mean]:(n=[o.mean[0],o.mean[1],o.mean[2],255],o.mean[3]!==void 0&&(n[3]=o.mean[3])),o===void 0||o.bias===void 0?t=[0,0,0,0]:typeof o.bias=="number"?t=[o.bias,o.bias,o.bias,o.bias]:(t=[o.bias[0],o.bias[1],o.bias[2],0],o.bias[3]!==void 0&&(t[3]=o.bias[3]));const e=u*p;if(b!==void 0&&(b.format!==void 0&&l===4&&b.format!=="RGBA"||l===3&&b.format!=="RGB"&&b.format!=="BGR"))throw new Error("Tensor format doesn't match input tensor dims");const r=4;let i=0,s=1,f=2,g=3,m=0,y=e,v=2*e,T=-1;a==="RGBA"?(m=0,y=e,v=2*e,T=3*e):a==="RGB"?(m=0,y=e,v=2*e):a==="RBG"&&(m=0,v=e,y=2*e),h=d.createImageData(p,u);for(let x=0;x<u*p;i+=r,s+=r,f+=r,g+=r,x++)h.data[i]=(w.data[m++]-t[0])*n[0],h.data[s]=(w.data[y++]-t[1])*n[1],h.data[f]=(w.data[v++]-t[2])*n[2],h.data[g]=T===-1?255:(w.data[T++]-t[3])*n[3]}return h}},4866:(N,c,w)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.tensorFromImage=c.bufferToTensor=void 0;const b=w(963);c.bufferToTensor=(d,h)=>{if(d===void 0)throw new Error("Image buffer must be defined");if(h.height===void 0||h.width===void 0)throw new Error("Image height and width must be defined");if(h.tensorLayout==="NHWC")throw new Error("NHWC Tensor layout is not supported yet");const{height:p,width:u}=h,l=h.norm??{mean:255,bias:0};let a,o;a=typeof l.mean=="number"?[l.mean,l.mean,l.mean,l.mean]:[l.mean[0],l.mean[1],l.mean[2],l.mean[3]??255],o=typeof l.bias=="number"?[l.bias,l.bias,l.bias,l.bias]:[l.bias[0],l.bias[1],l.bias[2],l.bias[3]??0];const n=h.format!==void 0?h.format:"RGBA",t=h.tensorFormat!==void 0&&h.tensorFormat!==void 0?h.tensorFormat:"RGB",e=p*u,r=t==="RGBA"?new Float32Array(4*e):new Float32Array(3*e);let i=4,s=0,f=1,g=2,m=3,y=0,v=e,T=2*e,x=-1;n==="RGB"&&(i=3,s=0,f=1,g=2,m=-1),t==="RGBA"?x=3*e:t==="RBG"?(y=0,T=e,v=2*e):t==="BGR"&&(T=0,v=e,y=2*e);for(let A=0;A<e;A++,s+=i,g+=i,f+=i,m+=i)r[y++]=(d[s]+o[0])/a[0],r[v++]=(d[f]+o[1])/a[1],r[T++]=(d[g]+o[2])/a[2],x!==-1&&m!==-1&&(r[x++]=(d[m]+o[3])/a[3]);return t==="RGBA"?new b.Tensor("float32",r,[1,4,p,u]):new b.Tensor("float32",r,[1,3,p,u])},c.tensorFromImage=async(d,h)=>{const p=typeof HTMLImageElement<"u"&&d instanceof HTMLImageElement,u=typeof ImageData<"u"&&d instanceof ImageData,l=typeof ImageBitmap<"u"&&d instanceof ImageBitmap,a=typeof d=="string";let o,n=h??{};if(p){const t=document.createElement("canvas");t.width=d.width,t.height=d.height;const e=t.getContext("2d");if(e==null)throw new Error("Can not access image data");{let r=d.height,i=d.width;if(h!==void 0&&h.resizedHeight!==void 0&&h.resizedWidth!==void 0&&(r=h.resizedHeight,i=h.resizedWidth),h!==void 0){if(n=h,h.tensorFormat!==void 0)throw new Error("Image input config format must be RGBA for HTMLImageElement");n.tensorFormat="RGBA",n.height=r,n.width=i}else n.tensorFormat="RGBA",n.height=r,n.width=i;e.drawImage(d,0,0),o=e.getImageData(0,0,i,r).data}}else{if(!u){if(l){if(h===void 0)throw new Error("Please provide image config with format for Imagebitmap");const t=document.createElement("canvas");t.width=d.width,t.height=d.height;const e=t.getContext("2d");if(e!=null){const r=d.height,i=d.width;return e.drawImage(d,0,0,i,r),o=e.getImageData(0,0,i,r).data,n.height=r,n.width=i,(0,c.bufferToTensor)(o,n)}throw new Error("Can not access image data")}if(a)return new Promise((t,e)=>{const r=document.createElement("canvas"),i=r.getContext("2d");if(!d||!i)return e();const s=new Image;s.crossOrigin="Anonymous",s.src=d,s.onload=()=>{r.width=s.width,r.height=s.height,i.drawImage(s,0,0,r.width,r.height);const f=i.getImageData(0,0,r.width,r.height);n.height=r.height,n.width=r.width,t((0,c.bufferToTensor)(f.data,n))}});throw new Error("Input data provided is not supported - aborted tensor creation")}{let t,e;if(h!==void 0&&h.resizedWidth!==void 0&&h.resizedHeight!==void 0?(t=h.resizedHeight,e=h.resizedWidth):(t=d.height,e=d.width),h!==void 0&&(n=h),n.format="RGBA",n.height=t,n.width=e,h!==void 0){const r=document.createElement("canvas");r.width=e,r.height=t;const i=r.getContext("2d");if(i==null)throw new Error("Can not access image data");i.putImageData(d,0,0),o=i.getImageData(0,0,e,t).data}else o=d.data}}if(o!==void 0)return(0,c.bufferToTensor)(o,n);throw new Error("Input data provided is not supported - aborted tensor creation")}},5957:(N,c,w)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.Tensor=void 0;const b=w(2350),d=w(4866),h=w(106),p=new Map([["float32",Float32Array],["uint8",Uint8Array],["int8",Int8Array],["uint16",Uint16Array],["float16",Uint16Array],["int16",Int16Array],["int32",Int32Array],["bool",Uint8Array],["float64",Float64Array],["uint32",Uint32Array]]),u=new Map([[Float32Array,"float32"],[Uint8Array,"uint8"],[Int8Array,"int8"],[Uint16Array,"uint16"],[Int16Array,"int16"],[Int32Array,"int32"],[Float64Array,"float64"],[Uint32Array,"uint32"]]);let l=!1;c.Tensor=class{constructor(a,o,n){let t,e,r;if((()=>{if(!l){l=!0;const s=typeof BigInt64Array<"u"&&typeof BigInt64Array.from=="function",f=typeof BigUint64Array<"u"&&typeof BigUint64Array.from=="function";s&&(p.set("int64",BigInt64Array),u.set(BigInt64Array,"int64")),f&&(p.set("uint64",BigUint64Array),u.set(BigUint64Array,"uint64"))}})(),typeof a=="string")if(t=a,r=n,a==="string"){if(!Array.isArray(o))throw new TypeError("A string tensor's data must be a string array.");e=o}else{const s=p.get(a);if(s===void 0)throw new TypeError(`Unsupported tensor type: ${a}.`);if(Array.isArray(o)){if(a==="float16")throw new TypeError("Creating a float16 tensor from number array is not supported. Please use Uint16Array as data.");e=a==="uint64"||a==="int64"?s.from(o,BigInt):s.from(o)}else{if(!(o instanceof s))throw new TypeError(`A ${t} tensor's data must be type of ${s}`);e=o}}else if(r=o,Array.isArray(a)){if(a.length===0)throw new TypeError("Tensor type cannot be inferred from an empty array.");const s=typeof a[0];if(s==="string")t="string",e=a;else{if(s!=="boolean")throw new TypeError(`Invalid element type of data array: ${s}.`);t="bool",e=Uint8Array.from(a)}}else{const s=u.get(a.constructor);if(s===void 0)throw new TypeError(`Unsupported type for tensor data: ${a.constructor}.`);t=s,e=a}if(r===void 0)r=[e.length];else if(!Array.isArray(r))throw new TypeError("A tensor's dims must be a number array");const i=(0,h.calculateSize)(r);if(i!==e.length)throw new Error(`Tensor's size(${i}) does not match data length(${e.length}).`);this.dims=r,this.type=t,this.data=e,this.size=i}static async fromImage(a,o){return(0,d.tensorFromImage)(a,o)}toDataURL(a){return(0,b.tensorToDataURL)(this,a)}toImageData(a){return(0,b.tensorToImageData)(this,a)}reshape(a){return(0,h.tensorReshape)(this,a)}}},106:(N,c,w)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.tensorReshape=c.calculateSize=void 0;const b=w(963);c.calculateSize=d=>{let h=1;for(let p=0;p<d.length;p++){const u=d[p];if(typeof u!="number"||!Number.isSafeInteger(u))throw new TypeError(`dims[${p}] must be an integer, got: ${u}`);if(u<0)throw new RangeError(`dims[${p}] must be a non-negative integer, got: ${u}`);h*=u}return h},c.tensorReshape=(d,h)=>new b.Tensor(d.type,d.data,h)},963:(N,c,w)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.Tensor=void 0;const b=w(5957);c.Tensor=b.Tensor},9104:(N,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.version=void 0,c.version="1.16.3"},1583:(N,c)=>{var w,b=function(d){Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var h=null;try{h=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function p(O,E,F){this.low=0|O,this.high=0|E,this.unsigned=!!F}function u(O){return(O&&O.__isLong__)===!0}function l(O){var E=Math.clz32(O&-O);return O?31-E:E}p.prototype.__isLong__,Object.defineProperty(p.prototype,"__isLong__",{value:!0}),p.isLong=u;var a={},o={};function n(O,E){var F,W,H;return E?(H=0<=(O>>>=0)&&O<256)&&(W=o[O])?W:(F=e(O,0,!0),H&&(o[O]=F),F):(H=-128<=(O|=0)&&O<128)&&(W=a[O])?W:(F=e(O,O<0?-1:0,!1),H&&(a[O]=F),F)}function t(O,E){if(isNaN(O))return E?T:v;if(E){if(O<0)return T;if(O>=g)return C}else{if(O<=-m)return M;if(O+1>=m)return $}return O<0?t(-O,E).neg():e(O%f|0,O/f|0,E)}function e(O,E,F){return new p(O,E,F)}p.fromInt=n,p.fromNumber=t,p.fromBits=e;var r=Math.pow;function i(O,E,F){if(O.length===0)throw Error("empty string");if(typeof E=="number"?(F=E,E=!1):E=!!E,O==="NaN"||O==="Infinity"||O==="+Infinity"||O==="-Infinity")return E?T:v;if((F=F||10)<2||36<F)throw RangeError("radix");var W;if((W=O.indexOf("-"))>0)throw Error("interior hyphen");if(W===0)return i(O.substring(1),E,F).neg();for(var H=t(r(F,8)),K=v,X=0;X<O.length;X+=8){var J=Math.min(8,O.length-X),tt=parseInt(O.substring(X,X+J),F);if(J<8){var nt=t(r(F,J));K=K.mul(nt).add(t(tt))}else K=(K=K.mul(H)).add(t(tt))}return K.unsigned=E,K}function s(O,E){return typeof O=="number"?t(O,E):typeof O=="string"?i(O,E):e(O.low,O.high,typeof E=="boolean"?E:O.unsigned)}p.fromString=i,p.fromValue=s;var f=4294967296,g=f*f,m=g/2,y=n(1<<24),v=n(0);p.ZERO=v;var T=n(0,!0);p.UZERO=T;var x=n(1);p.ONE=x;var A=n(1,!0);p.UONE=A;var D=n(-1);p.NEG_ONE=D;var $=e(-1,2147483647,!1);p.MAX_VALUE=$;var C=e(-1,-1,!0);p.MAX_UNSIGNED_VALUE=C;var M=e(0,-2147483648,!1);p.MIN_VALUE=M;var S=p.prototype;S.toInt=function(){return this.unsigned?this.low>>>0:this.low},S.toNumber=function(){return this.unsigned?(this.high>>>0)*f+(this.low>>>0):this.high*f+(this.low>>>0)},S.toString=function(O){if((O=O||10)<2||36<O)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(M)){var E=t(O),F=this.div(E),W=F.mul(E).sub(this);return F.toString(O)+W.toInt().toString(O)}return"-"+this.neg().toString(O)}for(var H=t(r(O,6),this.unsigned),K=this,X="";;){var J=K.div(H),tt=(K.sub(J.mul(H)).toInt()>>>0).toString(O);if((K=J).isZero())return tt+X;for(;tt.length<6;)tt="0"+tt;X=""+tt+X}},S.getHighBits=function(){return this.high},S.getHighBitsUnsigned=function(){return this.high>>>0},S.getLowBits=function(){return this.low},S.getLowBitsUnsigned=function(){return this.low>>>0},S.getNumBitsAbs=function(){if(this.isNegative())return this.eq(M)?64:this.neg().getNumBitsAbs();for(var O=this.high!=0?this.high:this.low,E=31;E>0&&!(O&1<<E);E--);return this.high!=0?E+33:E+1},S.isZero=function(){return this.high===0&&this.low===0},S.eqz=S.isZero,S.isNegative=function(){return!this.unsigned&&this.high<0},S.isPositive=function(){return this.unsigned||this.high>=0},S.isOdd=function(){return(1&this.low)==1},S.isEven=function(){return(1&this.low)==0},S.equals=function(O){return u(O)||(O=s(O)),(this.unsigned===O.unsigned||this.high>>>31!=1||O.high>>>31!=1)&&this.high===O.high&&this.low===O.low},S.eq=S.equals,S.notEquals=function(O){return!this.eq(O)},S.neq=S.notEquals,S.ne=S.notEquals,S.lessThan=function(O){return this.comp(O)<0},S.lt=S.lessThan,S.lessThanOrEqual=function(O){return this.comp(O)<=0},S.lte=S.lessThanOrEqual,S.le=S.lessThanOrEqual,S.greaterThan=function(O){return this.comp(O)>0},S.gt=S.greaterThan,S.greaterThanOrEqual=function(O){return this.comp(O)>=0},S.gte=S.greaterThanOrEqual,S.ge=S.greaterThanOrEqual,S.compare=function(O){if(u(O)||(O=s(O)),this.eq(O))return 0;var E=this.isNegative(),F=O.isNegative();return E&&!F?-1:!E&&F?1:this.unsigned?O.high>>>0>this.high>>>0||O.high===this.high&&O.low>>>0>this.low>>>0?-1:1:this.sub(O).isNegative()?-1:1},S.comp=S.compare,S.negate=function(){return!this.unsigned&&this.eq(M)?M:this.not().add(x)},S.neg=S.negate,S.add=function(O){u(O)||(O=s(O));var E=this.high>>>16,F=65535&this.high,W=this.low>>>16,H=65535&this.low,K=O.high>>>16,X=65535&O.high,J=O.low>>>16,tt=0,nt=0,rt=0,it=0;return rt+=(it+=H+(65535&O.low))>>>16,nt+=(rt+=W+J)>>>16,tt+=(nt+=F+X)>>>16,tt+=E+K,e((rt&=65535)<<16|(it&=65535),(tt&=65535)<<16|(nt&=65535),this.unsigned)},S.subtract=function(O){return u(O)||(O=s(O)),this.add(O.neg())},S.sub=S.subtract,S.multiply=function(O){if(this.isZero())return this;if(u(O)||(O=s(O)),h)return e(h.mul(this.low,this.high,O.low,O.high),h.get_high(),this.unsigned);if(O.isZero())return this.unsigned?T:v;if(this.eq(M))return O.isOdd()?M:v;if(O.eq(M))return this.isOdd()?M:v;if(this.isNegative())return O.isNegative()?this.neg().mul(O.neg()):this.neg().mul(O).neg();if(O.isNegative())return this.mul(O.neg()).neg();if(this.lt(y)&&O.lt(y))return t(this.toNumber()*O.toNumber(),this.unsigned);var E=this.high>>>16,F=65535&this.high,W=this.low>>>16,H=65535&this.low,K=O.high>>>16,X=65535&O.high,J=O.low>>>16,tt=65535&O.low,nt=0,rt=0,it=0,ut=0;return it+=(ut+=H*tt)>>>16,rt+=(it+=W*tt)>>>16,it&=65535,rt+=(it+=H*J)>>>16,nt+=(rt+=F*tt)>>>16,rt&=65535,nt+=(rt+=W*J)>>>16,rt&=65535,nt+=(rt+=H*X)>>>16,nt+=E*tt+F*J+W*X+H*K,e((it&=65535)<<16|(ut&=65535),(nt&=65535)<<16|(rt&=65535),this.unsigned)},S.mul=S.multiply,S.divide=function(O){if(u(O)||(O=s(O)),O.isZero())throw Error("division by zero");var E,F,W;if(h)return this.unsigned||this.high!==-2147483648||O.low!==-1||O.high!==-1?e((this.unsigned?h.div_u:h.div_s)(this.low,this.high,O.low,O.high),h.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?T:v;if(this.unsigned){if(O.unsigned||(O=O.toUnsigned()),O.gt(this))return T;if(O.gt(this.shru(1)))return A;W=T}else{if(this.eq(M))return O.eq(x)||O.eq(D)?M:O.eq(M)?x:(E=this.shr(1).div(O).shl(1)).eq(v)?O.isNegative()?x:D:(F=this.sub(O.mul(E)),W=E.add(F.div(O)));if(O.eq(M))return this.unsigned?T:v;if(this.isNegative())return O.isNegative()?this.neg().div(O.neg()):this.neg().div(O).neg();if(O.isNegative())return this.div(O.neg()).neg();W=v}for(F=this;F.gte(O);){E=Math.max(1,Math.floor(F.toNumber()/O.toNumber()));for(var H=Math.ceil(Math.log(E)/Math.LN2),K=H<=48?1:r(2,H-48),X=t(E),J=X.mul(O);J.isNegative()||J.gt(F);)J=(X=t(E-=K,this.unsigned)).mul(O);X.isZero()&&(X=x),W=W.add(X),F=F.sub(J)}return W},S.div=S.divide,S.modulo=function(O){return u(O)||(O=s(O)),h?e((this.unsigned?h.rem_u:h.rem_s)(this.low,this.high,O.low,O.high),h.get_high(),this.unsigned):this.sub(this.div(O).mul(O))},S.mod=S.modulo,S.rem=S.modulo,S.not=function(){return e(~this.low,~this.high,this.unsigned)},S.countLeadingZeros=function(){return this.high?Math.clz32(this.high):Math.clz32(this.low)+32},S.clz=S.countLeadingZeros,S.countTrailingZeros=function(){return this.low?l(this.low):l(this.high)+32},S.ctz=S.countTrailingZeros,S.and=function(O){return u(O)||(O=s(O)),e(this.low&O.low,this.high&O.high,this.unsigned)},S.or=function(O){return u(O)||(O=s(O)),e(this.low|O.low,this.high|O.high,this.unsigned)},S.xor=function(O){return u(O)||(O=s(O)),e(this.low^O.low,this.high^O.high,this.unsigned)},S.shiftLeft=function(O){return u(O)&&(O=O.toInt()),(O&=63)==0?this:O<32?e(this.low<<O,this.high<<O|this.low>>>32-O,this.unsigned):e(0,this.low<<O-32,this.unsigned)},S.shl=S.shiftLeft,S.shiftRight=function(O){return u(O)&&(O=O.toInt()),(O&=63)==0?this:O<32?e(this.low>>>O|this.high<<32-O,this.high>>O,this.unsigned):e(this.high>>O-32,this.high>=0?0:-1,this.unsigned)},S.shr=S.shiftRight,S.shiftRightUnsigned=function(O){return u(O)&&(O=O.toInt()),(O&=63)==0?this:O<32?e(this.low>>>O|this.high<<32-O,this.high>>>O,this.unsigned):e(O===32?this.high:this.high>>>O-32,0,this.unsigned)},S.shru=S.shiftRightUnsigned,S.shr_u=S.shiftRightUnsigned,S.rotateLeft=function(O){var E;return u(O)&&(O=O.toInt()),(O&=63)==0?this:O===32?e(this.high,this.low,this.unsigned):O<32?(E=32-O,e(this.low<<O|this.high>>>E,this.high<<O|this.low>>>E,this.unsigned)):(E=32-(O-=32),e(this.high<<O|this.low>>>E,this.low<<O|this.high>>>E,this.unsigned))},S.rotl=S.rotateLeft,S.rotateRight=function(O){var E;return u(O)&&(O=O.toInt()),(O&=63)==0?this:O===32?e(this.high,this.low,this.unsigned):O<32?(E=32-O,e(this.high<<E|this.low>>>O,this.low<<E|this.high>>>O,this.unsigned)):(E=32-(O-=32),e(this.low<<E|this.high>>>O,this.high<<E|this.low>>>O,this.unsigned))},S.rotr=S.rotateRight,S.toSigned=function(){return this.unsigned?e(this.low,this.high,!1):this},S.toUnsigned=function(){return this.unsigned?this:e(this.low,this.high,!0)},S.toBytes=function(O){return O?this.toBytesLE():this.toBytesBE()},S.toBytesLE=function(){var O=this.high,E=this.low;return[255&E,E>>>8&255,E>>>16&255,E>>>24,255&O,O>>>8&255,O>>>16&255,O>>>24]},S.toBytesBE=function(){var O=this.high,E=this.low;return[O>>>24,O>>>16&255,O>>>8&255,255&O,E>>>24,E>>>16&255,E>>>8&255,255&E]},p.fromBytes=function(O,E,F){return F?p.fromBytesLE(O,E):p.fromBytesBE(O,E)},p.fromBytesLE=function(O,E){return new p(O[0]|O[1]<<8|O[2]<<16|O[3]<<24,O[4]|O[5]<<8|O[6]<<16|O[7]<<24,E)},p.fromBytesBE=function(O,E){return new p(O[4]<<24|O[5]<<16|O[6]<<8|O[7],O[0]<<24|O[1]<<16|O[2]<<8|O[3],E)};var U=p;return d.default=U,"default"in d?d.default:d}({});(w=(function(){return b}).apply(c,[]))===void 0||(N.exports=w)},5686:(N,c,w)=>{w.r(c),w.d(c,{flatbuffers:()=>b});var b={};b.Offset,b.Table,b.SIZEOF_SHORT=2,b.SIZEOF_INT=4,b.FILE_IDENTIFIER_LENGTH=4,b.SIZE_PREFIX_LENGTH=4,b.Encoding={UTF8_BYTES:1,UTF16_STRING:2},b.int32=new Int32Array(2),b.float32=new Float32Array(b.int32.buffer),b.float64=new Float64Array(b.int32.buffer),b.isLittleEndian=new Uint16Array(new Uint8Array([1,0]).buffer)[0]===1,b.Long=function(d,h){this.low=0|d,this.high=0|h},b.Long.create=function(d,h){return d==0&&h==0?b.Long.ZERO:new b.Long(d,h)},b.Long.prototype.toFloat64=function(){return(this.low>>>0)+4294967296*this.high},b.Long.prototype.equals=function(d){return this.low==d.low&&this.high==d.high},b.Long.ZERO=new b.Long(0,0),b.Builder=function(d){if(d)h=d;else var h=1024;this.bb=b.ByteBuffer.allocate(h),this.space=h,this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1},b.Builder.prototype.clear=function(){this.bb.clear(),this.space=this.bb.capacity(),this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1},b.Builder.prototype.forceDefaults=function(d){this.force_defaults=d},b.Builder.prototype.dataBuffer=function(){return this.bb},b.Builder.prototype.asUint8Array=function(){return this.bb.bytes().subarray(this.bb.position(),this.bb.position()+this.offset())},b.Builder.prototype.prep=function(d,h){d>this.minalign&&(this.minalign=d);for(var p=1+~(this.bb.capacity()-this.space+h)&d-1;this.space<p+d+h;){var u=this.bb.capacity();this.bb=b.Builder.growByteBuffer(this.bb),this.space+=this.bb.capacity()-u}this.pad(p)},b.Builder.prototype.pad=function(d){for(var h=0;h<d;h++)this.bb.writeInt8(--this.space,0)},b.Builder.prototype.writeInt8=function(d){this.bb.writeInt8(this.space-=1,d)},b.Builder.prototype.writeInt16=function(d){this.bb.writeInt16(this.space-=2,d)},b.Builder.prototype.writeInt32=function(d){this.bb.writeInt32(this.space-=4,d)},b.Builder.prototype.writeInt64=function(d){this.bb.writeInt64(this.space-=8,d)},b.Builder.prototype.writeFloat32=function(d){this.bb.writeFloat32(this.space-=4,d)},b.Builder.prototype.writeFloat64=function(d){this.bb.writeFloat64(this.space-=8,d)},b.Builder.prototype.addInt8=function(d){this.prep(1,0),this.writeInt8(d)},b.Builder.prototype.addInt16=function(d){this.prep(2,0),this.writeInt16(d)},b.Builder.prototype.addInt32=function(d){this.prep(4,0),this.writeInt32(d)},b.Builder.prototype.addInt64=function(d){this.prep(8,0),this.writeInt64(d)},b.Builder.prototype.addFloat32=function(d){this.prep(4,0),this.writeFloat32(d)},b.Builder.prototype.addFloat64=function(d){this.prep(8,0),this.writeFloat64(d)},b.Builder.prototype.addFieldInt8=function(d,h,p){(this.force_defaults||h!=p)&&(this.addInt8(h),this.slot(d))},b.Builder.prototype.addFieldInt16=function(d,h,p){(this.force_defaults||h!=p)&&(this.addInt16(h),this.slot(d))},b.Builder.prototype.addFieldInt32=function(d,h,p){(this.force_defaults||h!=p)&&(this.addInt32(h),this.slot(d))},b.Builder.prototype.addFieldInt64=function(d,h,p){!this.force_defaults&&h.equals(p)||(this.addInt64(h),this.slot(d))},b.Builder.prototype.addFieldFloat32=function(d,h,p){(this.force_defaults||h!=p)&&(this.addFloat32(h),this.slot(d))},b.Builder.prototype.addFieldFloat64=function(d,h,p){(this.force_defaults||h!=p)&&(this.addFloat64(h),this.slot(d))},b.Builder.prototype.addFieldOffset=function(d,h,p){(this.force_defaults||h!=p)&&(this.addOffset(h),this.slot(d))},b.Builder.prototype.addFieldStruct=function(d,h,p){h!=p&&(this.nested(h),this.slot(d))},b.Builder.prototype.nested=function(d){if(d!=this.offset())throw new Error("FlatBuffers: struct must be serialized inline.")},b.Builder.prototype.notNested=function(){if(this.isNested)throw new Error("FlatBuffers: object serialization must not be nested.")},b.Builder.prototype.slot=function(d){this.vtable[d]=this.offset()},b.Builder.prototype.offset=function(){return this.bb.capacity()-this.space},b.Builder.growByteBuffer=function(d){var h=d.capacity();if(3221225472&h)throw new Error("FlatBuffers: cannot grow buffer beyond 2 gigabytes.");var p=h<<1,u=b.ByteBuffer.allocate(p);return u.setPosition(p-h),u.bytes().set(d.bytes(),p-h),u},b.Builder.prototype.addOffset=function(d){this.prep(b.SIZEOF_INT,0),this.writeInt32(this.offset()-d+b.SIZEOF_INT)},b.Builder.prototype.startObject=function(d){this.notNested(),this.vtable==null&&(this.vtable=[]),this.vtable_in_use=d;for(var h=0;h<d;h++)this.vtable[h]=0;this.isNested=!0,this.object_start=this.offset()},b.Builder.prototype.endObject=function(){if(this.vtable==null||!this.isNested)throw new Error("FlatBuffers: endObject called without startObject");this.addInt32(0);for(var d=this.offset(),h=this.vtable_in_use-1;h>=0&&this.vtable[h]==0;h--);for(var p=h+1;h>=0;h--)this.addInt16(this.vtable[h]!=0?d-this.vtable[h]:0);this.addInt16(d-this.object_start);var u=(p+2)*b.SIZEOF_SHORT;this.addInt16(u);var l=0,a=this.space;t:for(h=0;h<this.vtables.length;h++){var o=this.bb.capacity()-this.vtables[h];if(u==this.bb.readInt16(o)){for(var n=b.SIZEOF_SHORT;n<u;n+=b.SIZEOF_SHORT)if(this.bb.readInt16(a+n)!=this.bb.readInt16(o+n))continue t;l=this.vtables[h];break}}return l?(this.space=this.bb.capacity()-d,this.bb.writeInt32(this.space,l-d)):(this.vtables.push(this.offset()),this.bb.writeInt32(this.bb.capacity()-d,this.offset()-d)),this.isNested=!1,d},b.Builder.prototype.finish=function(d,h,p){var u=p?b.SIZE_PREFIX_LENGTH:0;if(h){var l=h;if(this.prep(this.minalign,b.SIZEOF_INT+b.FILE_IDENTIFIER_LENGTH+u),l.length!=b.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: file identifier must be length "+b.FILE_IDENTIFIER_LENGTH);for(var a=b.FILE_IDENTIFIER_LENGTH-1;a>=0;a--)this.writeInt8(l.charCodeAt(a))}this.prep(this.minalign,b.SIZEOF_INT+u),this.addOffset(d),u&&this.addInt32(this.bb.capacity()-this.space),this.bb.setPosition(this.space)},b.Builder.prototype.finishSizePrefixed=function(d,h){this.finish(d,h,!0)},b.Builder.prototype.requiredField=function(d,h){var p=this.bb.capacity()-d,u=p-this.bb.readInt32(p);if(this.bb.readInt16(u+h)==0)throw new Error("FlatBuffers: field "+h+" must be set")},b.Builder.prototype.startVector=function(d,h,p){this.notNested(),this.vector_num_elems=h,this.prep(b.SIZEOF_INT,d*h),this.prep(p,d*h)},b.Builder.prototype.endVector=function(){return this.writeInt32(this.vector_num_elems),this.offset()},b.Builder.prototype.createString=function(d){if(d instanceof Uint8Array)var h=d;else{h=[];for(var p=0;p<d.length;){var u,l=d.charCodeAt(p++);(u=l<55296||l>=56320?l:(l<<10)+d.charCodeAt(p++)+-56613888)<128?h.push(u):(u<2048?h.push(u>>6&31|192):(u<65536?h.push(u>>12&15|224):h.push(u>>18&7|240,u>>12&63|128),h.push(u>>6&63|128)),h.push(63&u|128))}}this.addInt8(0),this.startVector(1,h.length,1),this.bb.setPosition(this.space-=h.length),p=0;for(var a=this.space,o=this.bb.bytes();p<h.length;p++)o[a++]=h[p];return this.endVector()},b.Builder.prototype.createLong=function(d,h){return b.Long.create(d,h)},b.ByteBuffer=function(d){this.bytes_=d,this.position_=0},b.ByteBuffer.allocate=function(d){return new b.ByteBuffer(new Uint8Array(d))},b.ByteBuffer.prototype.clear=function(){this.position_=0},b.ByteBuffer.prototype.bytes=function(){return this.bytes_},b.ByteBuffer.prototype.position=function(){return this.position_},b.ByteBuffer.prototype.setPosition=function(d){this.position_=d},b.ByteBuffer.prototype.capacity=function(){return this.bytes_.length},b.ByteBuffer.prototype.readInt8=function(d){return this.readUint8(d)<<24>>24},b.ByteBuffer.prototype.readUint8=function(d){return this.bytes_[d]},b.ByteBuffer.prototype.readInt16=function(d){return this.readUint16(d)<<16>>16},b.ByteBuffer.prototype.readUint16=function(d){return this.bytes_[d]|this.bytes_[d+1]<<8},b.ByteBuffer.prototype.readInt32=function(d){return this.bytes_[d]|this.bytes_[d+1]<<8|this.bytes_[d+2]<<16|this.bytes_[d+3]<<24},b.ByteBuffer.prototype.readUint32=function(d){return this.readInt32(d)>>>0},b.ByteBuffer.prototype.readInt64=function(d){return new b.Long(this.readInt32(d),this.readInt32(d+4))},b.ByteBuffer.prototype.readUint64=function(d){return new b.Long(this.readUint32(d),this.readUint32(d+4))},b.ByteBuffer.prototype.readFloat32=function(d){return b.int32[0]=this.readInt32(d),b.float32[0]},b.ByteBuffer.prototype.readFloat64=function(d){return b.int32[b.isLittleEndian?0:1]=this.readInt32(d),b.int32[b.isLittleEndian?1:0]=this.readInt32(d+4),b.float64[0]},b.ByteBuffer.prototype.writeInt8=function(d,h){this.bytes_[d]=h},b.ByteBuffer.prototype.writeUint8=function(d,h){this.bytes_[d]=h},b.ByteBuffer.prototype.writeInt16=function(d,h){this.bytes_[d]=h,this.bytes_[d+1]=h>>8},b.ByteBuffer.prototype.writeUint16=function(d,h){this.bytes_[d]=h,this.bytes_[d+1]=h>>8},b.ByteBuffer.prototype.writeInt32=function(d,h){this.bytes_[d]=h,this.bytes_[d+1]=h>>8,this.bytes_[d+2]=h>>16,this.bytes_[d+3]=h>>24},b.ByteBuffer.prototype.writeUint32=function(d,h){this.bytes_[d]=h,this.bytes_[d+1]=h>>8,this.bytes_[d+2]=h>>16,this.bytes_[d+3]=h>>24},b.ByteBuffer.prototype.writeInt64=function(d,h){this.writeInt32(d,h.low),this.writeInt32(d+4,h.high)},b.ByteBuffer.prototype.writeUint64=function(d,h){this.writeUint32(d,h.low),this.writeUint32(d+4,h.high)},b.ByteBuffer.prototype.writeFloat32=function(d,h){b.float32[0]=h,this.writeInt32(d,b.int32[0])},b.ByteBuffer.prototype.writeFloat64=function(d,h){b.float64[0]=h,this.writeInt32(d,b.int32[b.isLittleEndian?0:1]),this.writeInt32(d+4,b.int32[b.isLittleEndian?1:0])},b.ByteBuffer.prototype.getBufferIdentifier=function(){if(this.bytes_.length<this.position_+b.SIZEOF_INT+b.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: ByteBuffer is too short to contain an identifier.");for(var d="",h=0;h<b.FILE_IDENTIFIER_LENGTH;h++)d+=String.fromCharCode(this.readInt8(this.position_+b.SIZEOF_INT+h));return d},b.ByteBuffer.prototype.__offset=function(d,h){var p=d-this.readInt32(d);return h<this.readInt16(p)?this.readInt16(p+h):0},b.ByteBuffer.prototype.__union=function(d,h){return d.bb_pos=h+this.readInt32(h),d.bb=this,d},b.ByteBuffer.prototype.__string=function(d,h){d+=this.readInt32(d);var p=this.readInt32(d),u="",l=0;if(d+=b.SIZEOF_INT,h===b.Encoding.UTF8_BYTES)return this.bytes_.subarray(d,d+p);for(;l<p;){var a,o=this.readUint8(d+l++);if(o<192)a=o;else{var n=this.readUint8(d+l++);if(o<224)a=(31&o)<<6|63&n;else{var t=this.readUint8(d+l++);a=o<240?(15&o)<<12|(63&n)<<6|63&t:(7&o)<<18|(63&n)<<12|(63&t)<<6|63&this.readUint8(d+l++)}}a<65536?u+=String.fromCharCode(a):(a-=65536,u+=String.fromCharCode(55296+(a>>10),56320+(1023&a)))}return u},b.ByteBuffer.prototype.__indirect=function(d){return d+this.readInt32(d)},b.ByteBuffer.prototype.__vector=function(d){return d+this.readInt32(d)+b.SIZEOF_INT},b.ByteBuffer.prototype.__vector_len=function(d){return this.readInt32(d+this.readInt32(d))},b.ByteBuffer.prototype.__has_identifier=function(d){if(d.length!=b.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: file identifier must be length "+b.FILE_IDENTIFIER_LENGTH);for(var h=0;h<b.FILE_IDENTIFIER_LENGTH;h++)if(d.charCodeAt(h)!=this.readInt8(this.position_+b.SIZEOF_INT+h))return!1;return!0},b.ByteBuffer.prototype.createLong=function(d,h){return b.Long.create(d,h)}}},__webpack_module_cache__={};function __webpack_require__(N){var c=__webpack_module_cache__[N];if(c!==void 0)return c.exports;var w=__webpack_module_cache__[N]={exports:{}};return __webpack_modules__[N].call(w.exports,w,w.exports,__webpack_require__),w.exports}__webpack_require__.n=N=>{var c=N&&N.__esModule?()=>N.default:()=>N;return __webpack_require__.d(c,{a:c}),c},__webpack_require__.d=(N,c)=>{for(var w in c)__webpack_require__.o(c,w)&&!__webpack_require__.o(N,w)&&Object.defineProperty(N,w,{enumerable:!0,get:c[w]})},__webpack_require__.o=(N,c)=>Object.prototype.hasOwnProperty.call(N,c),__webpack_require__.r=N=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(N,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(N,"__esModule",{value:!0})};var __webpack_exports__=__webpack_require__(1057);return __webpack_exports__})())})(ort_min);var ort_minExports=ort_min.exports,session_avg=void 0,session_avg_time=void 0;onmessage=async N=>{const c=N.data[N.data.length-1];if(c==="initialize"){const w=N.data[0],b=N.data[1];try{session_avg==null&&(session_avg=await ort_minExports.InferenceSession.create(w,{executionProviders:["wasm"]})),session_avg_time==null&&(session_avg_time=await ort_minExports.InferenceSession.create(b,{executionProviders:["wasm"]}))}catch(d){console.error(d)}}else{const w=N.data[0];try{if(c==="avg"&&session_avg!=null){const b=(await session_avg.run(w)).others_1;postMessage({result:b,what:c})}else if(c==="avg_time"&&session_avg_time!=null){const b=(await session_avg_time.run(w)).others_1;postMessage({result:b,what:c})}}catch(b){console.error(b)}}}})();
